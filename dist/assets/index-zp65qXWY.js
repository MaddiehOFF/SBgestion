var YL=Object.defineProperty;var JL=(e,t,n)=>t in e?YL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S0=(e,t,n)=>JL(e,typeof t!="symbol"?t+"":t,n);function yI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wc(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var _0={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function WL(){if(Ek)return Mu;Ek=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Mu.Fragment=t,Mu.jsx=n,Mu.jsxs=n,Mu}var kk;function XL(){return kk||(kk=1,_0.exports=WL()),_0.exports}var c=XL(),E0={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk;function QL(){if(Nk)return De;Nk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function A(L,q,le){this.props=L,this.context=q,this.refs=_,this.updater=le||E}A.prototype.isReactComponent={},A.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=A.prototype;function j(L,q,le){this.props=L,this.context=q,this.refs=_,this.updater=le||E}var I=j.prototype=new C;I.constructor=j,k(I,A.prototype),I.isPureReactComponent=!0;var P=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function H(L,q,le){var he=le.ref;return{$$typeof:e,type:L,key:q,ref:he!==void 0?he:null,props:le}}function G(L,q){return H(L.type,q,L.props)}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function V(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return q[le]})}var D=/\/+/g;function oe(L,q){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):q.toString(36)}function de(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(q){L.status==="pending"&&(L.status="fulfilled",L.value=q)},function(q){L.status==="pending"&&(L.status="rejected",L.reason=q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function z(L,q,le,he,ie){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var ge=!1;if(L===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(L.$$typeof){case e:case t:ge=!0;break;case m:return ge=L._init,z(ge(L._payload),q,le,he,ie)}}if(ge)return ie=ie(L),ge=he===""?"."+oe(L,0):he,P(ie)?(le="",ge!=null&&(le=ge.replace(D,"$&/")+"/"),z(ie,q,le,"",function(Te){return Te})):ie!=null&&($(ie)&&(ie=G(ie,le+(ie.key==null||L&&L.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+ge)),q.push(ie)),1;ge=0;var Ie=he===""?".":he+":";if(P(L))for(var re=0;re<L.length;re++)he=L[re],ye=Ie+oe(he,re),ge+=z(he,q,le,ye,ie);else if(re=b(L),typeof re=="function")for(L=re.call(L),re=0;!(he=L.next()).done;)he=he.value,ye=Ie+oe(he,re++),ge+=z(he,q,le,ye,ie);else if(ye==="object"){if(typeof L.then=="function")return z(de(L),q,le,he,ie);throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Z(L,q,le){if(L==null)return L;var he=[],ie=0;return z(L,he,"","",function(ye){return q.call(le,ye,ie++)}),he}function fe(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},pe={map:Z,forEach:function(L,q,le){Z(L,function(){q.apply(this,arguments)},le)},count:function(L){var q=0;return Z(L,function(){q++}),q},toArray:function(L){return Z(L,function(q){return q})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return De.Activity=g,De.Children=pe,De.Component=A,De.Fragment=n,De.Profiler=i,De.PureComponent=j,De.StrictMode=r,De.Suspense=f,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(L,q,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=k({},L.props),ie=L.key;if(q!=null)for(ye in q.key!==void 0&&(ie=""+q.key),q)!U.call(q,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&q.ref===void 0||(he[ye]=q[ye]);var ye=arguments.length-2;if(ye===1)he.children=le;else if(1<ye){for(var ge=Array(ye),Ie=0;Ie<ye;Ie++)ge[Ie]=arguments[Ie+2];he.children=ge}return H(L.type,ie,he)},De.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},De.createElement=function(L,q,le){var he,ie={},ye=null;if(q!=null)for(he in q.key!==void 0&&(ye=""+q.key),q)U.call(q,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ie[he]=q[he]);var ge=arguments.length-2;if(ge===1)ie.children=le;else if(1<ge){for(var Ie=Array(ge),re=0;re<ge;re++)Ie[re]=arguments[re+2];ie.children=Ie}if(L&&L.defaultProps)for(he in ge=L.defaultProps,ge)ie[he]===void 0&&(ie[he]=ge[he]);return H(L,ye,ie)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:u,render:L}},De.isValidElement=$,De.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:fe}},De.memo=function(L,q){return{$$typeof:h,type:L,compare:q===void 0?null:q}},De.startTransition=function(L){var q=R.T,le={};R.T=le;try{var he=L(),ie=R.S;ie!==null&&ie(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(O,te)}catch(ye){te(ye)}finally{q!==null&&le.types!==null&&(q.types=le.types),R.T=q}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(L){return R.H.use(L)},De.useActionState=function(L,q,le){return R.H.useActionState(L,q,le)},De.useCallback=function(L,q){return R.H.useCallback(L,q)},De.useContext=function(L){return R.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,q){return R.H.useDeferredValue(L,q)},De.useEffect=function(L,q){return R.H.useEffect(L,q)},De.useEffectEvent=function(L){return R.H.useEffectEvent(L)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(L,q,le){return R.H.useImperativeHandle(L,q,le)},De.useInsertionEffect=function(L,q){return R.H.useInsertionEffect(L,q)},De.useLayoutEffect=function(L,q){return R.H.useLayoutEffect(L,q)},De.useMemo=function(L,q){return R.H.useMemo(L,q)},De.useOptimistic=function(L,q){return R.H.useOptimistic(L,q)},De.useReducer=function(L,q,le){return R.H.useReducer(L,q,le)},De.useRef=function(L){return R.H.useRef(L)},De.useState=function(L){return R.H.useState(L)},De.useSyncExternalStore=function(L,q,le){return R.H.useSyncExternalStore(L,q,le)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.1",De}var Ak;function kl(){return Ak||(Ak=1,E0.exports=QL()),E0.exports}var N=kl();const vI=ei(N),ZL=yI({__proto__:null,default:vI},[N]);var k0={exports:{}},Du={},N0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function eU(){return Tk||(Tk=1,(function(e){function t(z,Z){var fe=z.length;z.push(Z);e:for(;0<fe;){var te=fe-1>>>1,pe=z[te];if(0<i(pe,Z))z[te]=Z,z[fe]=pe,fe=te;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],fe=z.pop();if(fe!==Z){z[0]=fe;e:for(var te=0,pe=z.length,L=pe>>>1;te<L;){var q=2*(te+1)-1,le=z[q],he=q+1,ie=z[he];if(0>i(le,fe))he<pe&&0>i(ie,le)?(z[te]=ie,z[he]=fe,te=he):(z[te]=le,z[q]=fe,te=q);else if(he<pe&&0>i(ie,fe))z[te]=ie,z[he]=fe,te=he;else break e}}return Z}function i(z,Z){var fe=z.sortIndex-Z.sortIndex;return fe!==0?fe:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,g=null,v=3,b=!1,E=!1,k=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function I(z){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=z)r(h),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=n(h)}}function P(z){if(k=!1,I(z),!E)if(n(f)!==null)E=!0,O||(O=!0,V());else{var Z=n(h);Z!==null&&de(P,Z.startTime-z)}}var O=!1,R=-1,U=5,H=-1;function G(){return _?!0:!(e.unstable_now()-H<U)}function $(){if(_=!1,O){var z=e.unstable_now();H=z;var Z=!0;try{e:{E=!1,k&&(k=!1,C(R),R=-1),b=!0;var fe=v;try{t:{for(I(z),g=n(f);g!==null&&!(g.expirationTime>z&&G());){var te=g.callback;if(typeof te=="function"){g.callback=null,v=g.priorityLevel;var pe=te(g.expirationTime<=z);if(z=e.unstable_now(),typeof pe=="function"){g.callback=pe,I(z),Z=!0;break t}g===n(f)&&r(f),I(z)}else r(f);g=n(f)}if(g!==null)Z=!0;else{var L=n(h);L!==null&&de(P,L.startTime-z),Z=!1}}break e}finally{g=null,v=fe,b=!1}Z=void 0}}finally{Z?V():O=!1}}}var V;if(typeof j=="function")V=function(){j($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,oe=D.port2;D.port1.onmessage=$,V=function(){oe.postMessage(null)}}else V=function(){A($,0)};function de(z,Z){R=A(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var fe=v;v=Z;try{return z()}finally{v=fe}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var fe=v;v=z;try{return Z()}finally{v=fe}},e.unstable_scheduleCallback=function(z,Z,fe){var te=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?te+fe:te):fe=te,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=fe+pe,z={id:m++,callback:Z,priorityLevel:z,startTime:fe,expirationTime:pe,sortIndex:-1},fe>te?(z.sortIndex=fe,t(h,z),n(f)===null&&z===n(h)&&(k?(C(R),R=-1):k=!0,de(P,fe-te))):(z.sortIndex=pe,t(f,z),E||b||(E=!0,O||(O=!0,V()))),z},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(z){var Z=v;return function(){var fe=v;v=Z;try{return z.apply(this,arguments)}finally{v=fe}}}})(A0)),A0}var Ck;function tU(){return Ck||(Ck=1,N0.exports=eU()),N0.exports}var T0={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk;function nU(){if(jk)return kn;jk=1;var e=kl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(f,h,null,m)},kn.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},kn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},kn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},kn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},kn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},kn.requestFormReset=function(f){r.d.r(f)},kn.unstable_batchedUpdates=function(f,h){return f(h)},kn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},kn.useFormStatus=function(){return l.H.useHostTransitionStatus()},kn.version="19.2.1",kn}var Ik;function xI(){if(Ik)return T0.exports;Ik=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T0.exports=nU(),T0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function rU(){if(Rk)return Du;Rk=1;var e=tU(),t=kl(),n=xI();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,p=o;;){var w=d.return;if(w===null)break;var S=w.alternate;if(S===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===d)return f(w),s;if(S===p)return f(w),o;S=S.sibling}throw Error(r(188))}if(d.return!==p.return)d=w,p=S;else{for(var T=!1,M=w.child;M;){if(M===d){T=!0,d=w,p=S;break}if(M===p){T=!0,p=w,d=S;break}M=M.sibling}if(!T){for(M=S.child;M;){if(M===d){T=!0,d=S,p=w;break}if(M===p){T=!0,p=S,d=w;break}M=M.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case A:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList";case H:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case j:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case I:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return o=s.displayName||null,o!==null?o:oe(s.type)||"Memo";case U:o=s._payload,s=s._init;try{return oe(s(o))}catch{}}return null}var de=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},te=[],pe=-1;function L(s){return{current:s}}function q(s){0>pe||(s.current=te[pe],te[pe]=null,pe--)}function le(s,o){pe++,te[pe]=s.current,s.current=o}var he=L(null),ie=L(null),ye=L(null),ge=L(null);function Ie(s,o){switch(le(ye,o),le(ie,s),le(he,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?KE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=KE(o),s=YE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(he),le(he,s)}function re(){q(he),q(ie),q(ye)}function Te(s){s.memoizedState!==null&&le(ge,s);var o=he.current,d=YE(o,s.type);o!==d&&(le(ie,s),le(he,d))}function Q(s){ie.current===s&&(q(he),q(ie)),ge.current===s&&(q(ge),Iu._currentValue=fe)}var ee,Ce;function ke(s){if(ee===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ee=o&&o[1]||"",Ce=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+s+Ce}var Oe=!1;function Le(s,o){if(!s||Oe)return"";Oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var X=ne}Reflect.construct(s,[],ce)}else{try{ce.call()}catch(ne){X=ne}s.call(ce.prototype)}}else{try{throw Error()}catch(ne){X=ne}(ce=s())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),T=S[0],M=S[1];if(T&&M){var B=T.split(`
`),J=M.split(`
`);for(w=p=0;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;for(;w<J.length&&!J[w].includes("DetermineComponentFrameRoot");)w++;if(p===B.length||w===J.length)for(p=B.length-1,w=J.length-1;1<=p&&0<=w&&B[p]!==J[w];)w--;for(;1<=p&&0<=w;p--,w--)if(B[p]!==J[w]){if(p!==1||w!==1)do if(p--,w--,0>w||B[p]!==J[w]){var se=`
`+B[p].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=p&&0<=w);break}}}finally{Oe=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?ke(d):""}function Ut(s,o){switch(s.tag){case 26:case 27:case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return s.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Le(s.type,!1);case 11:return Le(s.type.render,!1);case 1:return Le(s.type,!0);case 31:return ke("Activity");default:return""}}function jt(s){try{var o="",d=null;do o+=Ut(s,d),d=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var $n=Object.prototype.hasOwnProperty,yr=e.unstable_scheduleCallback,vr=e.unstable_cancelCallback,gi=e.unstable_shouldYield,ri=e.unstable_requestPaint,Ye=e.unstable_now,Je=e.unstable_getCurrentPriorityLevel,At=e.unstable_ImmediatePriority,Xt=e.unstable_UserBlockingPriority,da=e.unstable_NormalPriority,Xc=e.unstable_LowPriority,ns=e.unstable_IdlePriority,lp=e.log,up=e.unstable_setDisableYieldValue,rs=null,Rn=null;function ii(s){if(typeof lp=="function"&&up(s),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(rs,s)}catch{}}var ae=Math.clz32?Math.clz32:at,Me=Math.log,ze=Math.LN2;function at(s){return s>>>=0,s===0?32:31-(Me(s)/ze|0)|0}var an=256,sn=262144,yi=4194304;function is(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Qc(s,o,d){var p=s.pendingLanes;if(p===0)return 0;var w=0,S=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var M=p&134217727;return M!==0?(p=M&~S,p!==0?w=is(p):(T&=M,T!==0?w=is(T):d||(d=M&~s,d!==0&&(w=is(d))))):(M=p&~S,M!==0?w=is(M):T!==0?w=is(T):d||(d=p&~s,d!==0&&(w=is(d)))),w===0?0:o!==0&&o!==w&&(o&S)===0&&(S=w&-w,d=o&-o,S>=d||S===32&&(d&4194048)!==0)?o:w}function Fl(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function M4(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(){var s=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),s}function cp(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Gl(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function D4(s,o,d,p,w,S){var T=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var M=s.entanglements,B=s.expirationTimes,J=s.hiddenUpdates;for(d=T&~d;0<d;){var se=31-ae(d),ce=1<<se;M[se]=0,B[se]=-1;var X=J[se];if(X!==null)for(J[se]=null,se=0;se<X.length;se++){var ne=X[se];ne!==null&&(ne.lane&=-536870913)}d&=~ce}p!==0&&C1(s,p,0),S!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=S&~(T&~o))}function C1(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-ae(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function j1(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var p=31-ae(d),w=1<<p;w&o|s[p]&o&&(s[p]|=o),d&=~w}}function I1(s,o){var d=o&-o;return d=(d&42)!==0?1:dp(d),(d&(s.suspendedLanes|o))!==0?0:d}function dp(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fp(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function R1(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:yk(s.type))}function P1(s,o){var d=Z.p;try{return Z.p=s,o()}finally{Z.p=d}}var fa=Math.random().toString(36).slice(2),pn="__reactFiber$"+fa,qn="__reactProps$"+fa,io="__reactContainer$"+fa,hp="__reactEvents$"+fa,L4="__reactListeners$"+fa,U4="__reactHandles$"+fa,O1="__reactResources$"+fa,Vl="__reactMarker$"+fa;function mp(s){delete s[pn],delete s[qn],delete s[hp],delete s[L4],delete s[U4]}function ao(s){var o=s[pn];if(o)return o;for(var d=s.parentNode;d;){if(o=d[io]||d[pn]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=tk(s);s!==null;){if(d=s[pn])return d;s=tk(s)}return o}s=d,d=s.parentNode}return null}function so(s){if(s=s[pn]||s[io]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Kl(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function oo(s){var o=s[O1];return o||(o=s[O1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function on(s){s[Vl]=!0}var M1=new Set,D1={};function as(s,o){lo(s,o),lo(s+"Capture",o)}function lo(s,o){for(D1[s]=o,s=0;s<o.length;s++)M1.add(o[s])}var B4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L1={},U1={};function $4(s){return $n.call(U1,s)?!0:$n.call(L1,s)?!1:B4.test(s)?U1[s]=!0:(L1[s]=!0,!1)}function Zc(s,o,d){if($4(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function ed(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function vi(s,o,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+p)}}function xr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function B1(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function q4(s,o,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,S=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(T){d=""+T,S.call(this,T)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function pp(s){if(!s._valueTracker){var o=B1(s)?"checked":"value";s._valueTracker=q4(s,o,""+s[o])}}function $1(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return s&&(p=B1(s)?s.checked?"true":"false":s.value),s=p,s!==d?(o.setValue(s),!0):!1}function td(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var z4=/[\n"\\]/g;function br(s){return s.replace(z4,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gp(s,o,d,p,w,S,T,M){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+xr(o)):s.value!==""+xr(o)&&(s.value=""+xr(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?yp(s,T,xr(o)):d!=null?yp(s,T,xr(d)):p!=null&&s.removeAttribute("value"),w==null&&S!=null&&(s.defaultChecked=!!S),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+xr(M):s.removeAttribute("name")}function q1(s,o,d,p,w,S,T,M){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),o!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){pp(s);return}d=d!=null?""+xr(d):"",o=o!=null?""+xr(o):d,M||o===s.value||(s.value=o),s.defaultValue=o}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=M?s.checked:!!p,s.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),pp(s)}function yp(s,o,d){o==="number"&&td(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function uo(s,o,d,p){if(s=s.options,o){o={};for(var w=0;w<d.length;w++)o["$"+d[w]]=!0;for(d=0;d<s.length;d++)w=o.hasOwnProperty("$"+s[d].value),s[d].selected!==w&&(s[d].selected=w),w&&p&&(s[d].defaultSelected=!0)}else{for(d=""+xr(d),o=null,w=0;w<s.length;w++){if(s[w].value===d){s[w].selected=!0,p&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function z1(s,o,d){if(o!=null&&(o=""+xr(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+xr(d):""}function H1(s,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(de(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=xr(o),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),pp(s)}function co(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var H4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F1(s,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,d):typeof d!="number"||d===0||H4.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function G1(s,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var w in o)p=o[w],o.hasOwnProperty(w)&&d[w]!==p&&F1(s,w,p)}else for(var S in o)o.hasOwnProperty(S)&&F1(s,S,o[S])}function vp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nd(s){return G4.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function xi(){}var xp=null;function bp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fo=null,ho=null;function V1(s){var o=so(s);if(o&&(s=o.stateNode)){var d=s[qn]||null;e:switch(s=o.stateNode,o.type){case"input":if(gp(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+br(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==s&&p.form===s.form){var w=p[qn]||null;if(!w)throw Error(r(90));gp(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===s.form&&$1(p)}break e;case"textarea":z1(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&uo(s,!!d.multiple,o,!1)}}}var wp=!1;function K1(s,o,d){if(wp)return s(o,d);wp=!0;try{var p=s(o);return p}finally{if(wp=!1,(fo!==null||ho!==null)&&(Hd(),fo&&(o=fo,s=ho,ho=fo=null,V1(o),s)))for(o=0;o<s.length;o++)V1(s[o])}}function Yl(s,o){var d=s.stateNode;if(d===null)return null;var p=d[qn]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sp=!1;if(bi)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Sp=!1}var ha=null,_p=null,rd=null;function Y1(){if(rd)return rd;var s,o=_p,d=o.length,p,w="value"in ha?ha.value:ha.textContent,S=w.length;for(s=0;s<d&&o[s]===w[s];s++);var T=d-s;for(p=1;p<=T&&o[d-p]===w[S-p];p++);return rd=w.slice(s,1<p?1-p:void 0)}function id(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ad(){return!0}function J1(){return!1}function zn(s){function o(d,p,w,S,T){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(d=s[M],this[M]=d?d(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ad:J1,this.isPropagationStopped=J1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),o}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=zn(ss),Wl=g({},ss,{view:0,detail:0}),V4=zn(Wl),Ep,kp,Xl,od=g({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xl&&(Xl&&s.type==="mousemove"?(Ep=s.screenX-Xl.screenX,kp=s.screenY-Xl.screenY):kp=Ep=0,Xl=s),Ep)},movementY:function(s){return"movementY"in s?s.movementY:kp}}),W1=zn(od),K4=g({},od,{dataTransfer:0}),Y4=zn(K4),J4=g({},Wl,{relatedTarget:0}),Np=zn(J4),W4=g({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),X4=zn(W4),Q4=g({},ss,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Z4=zn(Q4),e3=g({},ss,{data:0}),X1=zn(e3),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=r3[s])?!!o[s]:!1}function Ap(){return i3}var a3=g({},Wl,{key:function(s){if(s.key){var o=t3[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=id(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?n3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(s){return s.type==="keypress"?id(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?id(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),s3=zn(a3),o3=g({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=zn(o3),l3=g({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),u3=zn(l3),c3=g({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),d3=zn(c3),f3=g({},od,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),h3=zn(f3),m3=g({},ss,{newState:0,oldState:0}),p3=zn(m3),g3=[9,13,27,32],Tp=bi&&"CompositionEvent"in window,Ql=null;bi&&"documentMode"in document&&(Ql=document.documentMode);var y3=bi&&"TextEvent"in window&&!Ql,Z1=bi&&(!Tp||Ql&&8<Ql&&11>=Ql),eS=" ",tS=!1;function nS(s,o){switch(s){case"keyup":return g3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var mo=!1;function v3(s,o){switch(s){case"compositionend":return rS(o);case"keypress":return o.which!==32?null:(tS=!0,eS);case"textInput":return s=o.data,s===eS&&tS?null:s;default:return null}}function x3(s,o){if(mo)return s==="compositionend"||!Tp&&nS(s,o)?(s=Y1(),rd=_p=ha=null,mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Z1&&o.locale!=="ko"?null:o.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!b3[s.type]:o==="textarea"}function aS(s,o,d,p){fo?ho?ho.push(p):ho=[p]:fo=p,o=Wd(o,"onChange"),0<o.length&&(d=new sd("onChange","change",null,d,p),s.push({event:d,listeners:o}))}var Zl=null,eu=null;function w3(s){qE(s,0)}function ld(s){var o=Kl(s);if($1(o))return s}function sS(s,o){if(s==="change")return o}var oS=!1;if(bi){var Cp;if(bi){var jp="oninput"in document;if(!jp){var lS=document.createElement("div");lS.setAttribute("oninput","return;"),jp=typeof lS.oninput=="function"}Cp=jp}else Cp=!1;oS=Cp&&(!document.documentMode||9<document.documentMode)}function uS(){Zl&&(Zl.detachEvent("onpropertychange",cS),eu=Zl=null)}function cS(s){if(s.propertyName==="value"&&ld(eu)){var o=[];aS(o,eu,s,bp(s)),K1(w3,o)}}function S3(s,o,d){s==="focusin"?(uS(),Zl=o,eu=d,Zl.attachEvent("onpropertychange",cS)):s==="focusout"&&uS()}function _3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ld(eu)}function E3(s,o){if(s==="click")return ld(o)}function k3(s,o){if(s==="input"||s==="change")return ld(o)}function N3(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var tr=typeof Object.is=="function"?Object.is:N3;function tu(s,o){if(tr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!$n.call(o,w)||!tr(s[w],o[w]))return!1}return!0}function dS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fS(s,o){var d=dS(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=o&&p>=o)return{node:d,offset:o-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=dS(d)}}function hS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?hS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function mS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=td(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=td(s.document)}return o}function Ip(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var A3=bi&&"documentMode"in document&&11>=document.documentMode,po=null,Rp=null,nu=null,Pp=!1;function pS(s,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pp||po==null||po!==td(p)||(p=po,"selectionStart"in p&&Ip(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nu&&tu(nu,p)||(nu=p,p=Wd(Rp,"onSelect"),0<p.length&&(o=new sd("onSelect","select",null,o,d),s.push({event:o,listeners:p}),o.target=po)))}function os(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var go={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Op={},gS={};bi&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ls(s){if(Op[s])return Op[s];if(!go[s])return s;var o=go[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in gS)return Op[s]=o[d];return s}var yS=ls("animationend"),vS=ls("animationiteration"),xS=ls("animationstart"),T3=ls("transitionrun"),C3=ls("transitionstart"),j3=ls("transitioncancel"),bS=ls("transitionend"),wS=new Map,Mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mp.push("scrollEnd");function qr(s,o){wS.set(s,o),as(o,[s])}var ud=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},wr=[],yo=0,Dp=0;function cd(){for(var s=yo,o=Dp=yo=0;o<s;){var d=wr[o];wr[o++]=null;var p=wr[o];wr[o++]=null;var w=wr[o];wr[o++]=null;var S=wr[o];if(wr[o++]=null,p!==null&&w!==null){var T=p.pending;T===null?w.next=w:(w.next=T.next,T.next=w),p.pending=w}S!==0&&SS(d,w,S)}}function dd(s,o,d,p){wr[yo++]=s,wr[yo++]=o,wr[yo++]=d,wr[yo++]=p,Dp|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Lp(s,o,d,p){return dd(s,o,d,p),fd(s)}function us(s,o){return dd(s,null,null,o),fd(s)}function SS(s,o,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var w=!1,S=s.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(w=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,w&&o!==null&&(w=31-ae(d),s=S.hiddenUpdates,p=s[w],p===null?s[w]=[o]:p.push(o),o.lane=d|536870912),S):null}function fd(s){if(50<Eu)throw Eu=0,Vg=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var vo={};function I3(s,o,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,o,d,p){return new I3(s,o,d,p)}function Up(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wi(s,o){var d=s.alternate;return d===null?(d=nr(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function _S(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function hd(s,o,d,p,w,S){var T=0;if(p=s,typeof s=="function")Up(s)&&(T=1);else if(typeof s=="string")T=DL(s,d,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case H:return s=nr(31,d,o,w),s.elementType=H,s.lanes=S,s;case k:return cs(d.children,w,S,o);case _:T=8,w|=24;break;case A:return s=nr(12,d,o,w|2),s.elementType=A,s.lanes=S,s;case P:return s=nr(13,d,o,w),s.elementType=P,s.lanes=S,s;case O:return s=nr(19,d,o,w),s.elementType=O,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:T=10;break e;case C:T=9;break e;case I:T=11;break e;case R:T=14;break e;case U:T=16,p=null;break e}T=29,d=Error(r(130,s===null?"null":typeof s,"")),p=null}return o=nr(T,d,o,w),o.elementType=s,o.type=p,o.lanes=S,o}function cs(s,o,d,p){return s=nr(7,s,p,o),s.lanes=d,s}function Bp(s,o,d){return s=nr(6,s,null,o),s.lanes=d,s}function ES(s){var o=nr(18,null,null,0);return o.stateNode=s,o}function $p(s,o,d){return o=nr(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var kS=new WeakMap;function Sr(s,o){if(typeof s=="object"&&s!==null){var d=kS.get(s);return d!==void 0?d:(o={value:s,source:o,stack:jt(o)},kS.set(s,o),o)}return{value:s,source:o,stack:jt(o)}}var xo=[],bo=0,md=null,ru=0,_r=[],Er=0,ma=null,ai=1,si="";function Si(s,o){xo[bo++]=ru,xo[bo++]=md,md=s,ru=o}function NS(s,o,d){_r[Er++]=ai,_r[Er++]=si,_r[Er++]=ma,ma=s;var p=ai;s=si;var w=32-ae(p)-1;p&=~(1<<w),d+=1;var S=32-ae(o)+w;if(30<S){var T=w-w%5;S=(p&(1<<T)-1).toString(32),p>>=T,w-=T,ai=1<<32-ae(o)+w|d<<w|p,si=S+s}else ai=1<<S|d<<w|p,si=s}function qp(s){s.return!==null&&(Si(s,1),NS(s,1,0))}function zp(s){for(;s===md;)md=xo[--bo],xo[bo]=null,ru=xo[--bo],xo[bo]=null;for(;s===ma;)ma=_r[--Er],_r[Er]=null,si=_r[--Er],_r[Er]=null,ai=_r[--Er],_r[Er]=null}function AS(s,o){_r[Er++]=ai,_r[Er++]=si,_r[Er++]=ma,ai=o.id,si=o.overflow,ma=s}var gn=null,gt=null,Ge=!1,pa=null,kr=!1,Hp=Error(r(519));function ga(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(Sr(o,s)),Hp}function TS(s){var o=s.stateNode,d=s.type,p=s.memoizedProps;switch(o[pn]=s,o[qn]=p,d){case"dialog":qe("cancel",o),qe("close",o);break;case"iframe":case"object":case"embed":qe("load",o);break;case"video":case"audio":for(d=0;d<Nu.length;d++)qe(Nu[d],o);break;case"source":qe("error",o);break;case"img":case"image":case"link":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"input":qe("invalid",o),q1(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":qe("invalid",o);break;case"textarea":qe("invalid",o),H1(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||GE(o.textContent,d)?(p.popover!=null&&(qe("beforetoggle",o),qe("toggle",o)),p.onScroll!=null&&qe("scroll",o),p.onScrollEnd!=null&&qe("scrollend",o),p.onClick!=null&&(o.onclick=xi),o=!0):o=!1,o||ga(s,!0)}function CS(s){for(gn=s.return;gn;)switch(gn.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:gn=gn.return}}function wo(s){if(s!==gn)return!1;if(!Ge)return CS(s),Ge=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||o0(s.type,s.memoizedProps)),d=!d),d&&gt&&ga(s),CS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=ek(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=ek(s)}else o===27?(o=gt,ja(s.type)?(s=f0,f0=null,gt=s):gt=o):gt=gn?Ar(s.stateNode.nextSibling):null;return!0}function ds(){gt=gn=null,Ge=!1}function Fp(){var s=pa;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),pa=null),s}function iu(s){pa===null?pa=[s]:pa.push(s)}var Gp=L(null),fs=null,_i=null;function ya(s,o,d){le(Gp,o._currentValue),o._currentValue=d}function Ei(s){s._currentValue=Gp.current,q(Gp)}function Vp(s,o,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===d)break;s=s.return}}function Kp(s,o,d,p){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var S=w.dependencies;if(S!==null){var T=w.child;S=S.firstContext;e:for(;S!==null;){var M=S;S=w;for(var B=0;B<o.length;B++)if(M.context===o[B]){S.lanes|=d,M=S.alternate,M!==null&&(M.lanes|=d),Vp(S.return,d,s),p||(T=null);break e}S=M.next}}else if(w.tag===18){if(T=w.return,T===null)throw Error(r(341));T.lanes|=d,S=T.alternate,S!==null&&(S.lanes|=d),Vp(T,d,s),T=null}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===s){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}}function So(s,o,d,p){s=null;for(var w=o,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var T=w.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var M=w.type;tr(w.pendingProps.value,T.value)||(s!==null?s.push(M):s=[M])}}else if(w===ge.current){if(T=w.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(Iu):s=[Iu])}w=w.return}s!==null&&Kp(o,s,d,p),o.flags|=262144}function pd(s){for(s=s.firstContext;s!==null;){if(!tr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hs(s){fs=s,_i=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function yn(s){return jS(fs,s)}function gd(s,o){return fs===null&&hs(s),jS(s,o)}function jS(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},_i===null){if(s===null)throw Error(r(308));_i=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else _i=_i.next=o;return d}var R3=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},P3=e.unstable_scheduleCallback,O3=e.unstable_NormalPriority,Bt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yp(){return{controller:new R3,data:new Map,refCount:0}}function au(s){s.refCount--,s.refCount===0&&P3(O3,function(){s.controller.abort()})}var su=null,Jp=0,_o=0,Eo=null;function M3(s,o){if(su===null){var d=su=[];Jp=0,_o=Qg(),Eo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Jp++,o.then(IS,IS),o}function IS(){if(--Jp===0&&su!==null){Eo!==null&&(Eo.status="fulfilled");var s=su;su=null,_o=0,Eo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function D3(s,o){var d=[],p={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var w=0;w<d.length;w++)(0,d[w])(o)},function(w){for(p.status="rejected",p.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),p}var RS=z.S;z.S=function(s,o){pE=Ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&M3(s,o),RS!==null&&RS(s,o)};var ms=L(null);function Wp(){var s=ms.current;return s!==null?s:ct.pooledCache}function yd(s,o){o===null?le(ms,ms.current):le(ms,o.pool)}function PS(){var s=Wp();return s===null?null:{parent:Bt._currentValue,pool:s}}var ko=Error(r(460)),Xp=Error(r(474)),vd=Error(r(542)),xd={then:function(){}};function OS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function MS(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(xi,xi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,LS(s),s;default:if(typeof o.status=="string")o.then(xi,xi);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=p}},function(p){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,LS(s),s}throw gs=o,ko}}function ps(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(gs=d,ko):d}}var gs=null;function DS(){if(gs===null)throw Error(r(459));var s=gs;return gs=null,s}function LS(s){if(s===ko||s===vd)throw Error(r(483))}var No=null,ou=0;function bd(s){var o=ou;return ou+=1,No===null&&(No=[]),MS(No,s,o)}function lu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function wd(s,o){throw o.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function US(s){function o(K,F){if(s){var Y=K.deletions;Y===null?(K.deletions=[F],K.flags|=16):Y.push(F)}}function d(K,F){if(!s)return null;for(;F!==null;)o(K,F),F=F.sibling;return null}function p(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function w(K,F){return K=wi(K,F),K.index=0,K.sibling=null,K}function S(K,F,Y){return K.index=Y,s?(Y=K.alternate,Y!==null?(Y=Y.index,Y<F?(K.flags|=67108866,F):Y):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function T(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function M(K,F,Y,ue){return F===null||F.tag!==6?(F=Bp(Y,K.mode,ue),F.return=K,F):(F=w(F,Y),F.return=K,F)}function B(K,F,Y,ue){var je=Y.type;return je===k?se(K,F,Y.props.children,ue,Y.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&ps(je)===F.type)?(F=w(F,Y.props),lu(F,Y),F.return=K,F):(F=hd(Y.type,Y.key,Y.props,null,K.mode,ue),lu(F,Y),F.return=K,F)}function J(K,F,Y,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=$p(Y,K.mode,ue),F.return=K,F):(F=w(F,Y.children||[]),F.return=K,F)}function se(K,F,Y,ue,je){return F===null||F.tag!==7?(F=cs(Y,K.mode,ue,je),F.return=K,F):(F=w(F,Y),F.return=K,F)}function ce(K,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Bp(""+F,K.mode,Y),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Y=hd(F.type,F.key,F.props,null,K.mode,Y),lu(Y,F),Y.return=K,Y;case E:return F=$p(F,K.mode,Y),F.return=K,F;case U:return F=ps(F),ce(K,F,Y)}if(de(F)||V(F))return F=cs(F,K.mode,Y,null),F.return=K,F;if(typeof F.then=="function")return ce(K,bd(F),Y);if(F.$$typeof===j)return ce(K,gd(K,F),Y);wd(K,F)}return null}function X(K,F,Y,ue){var je=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return je!==null?null:M(K,F,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===je?B(K,F,Y,ue):null;case E:return Y.key===je?J(K,F,Y,ue):null;case U:return Y=ps(Y),X(K,F,Y,ue)}if(de(Y)||V(Y))return je!==null?null:se(K,F,Y,ue,null);if(typeof Y.then=="function")return X(K,F,bd(Y),ue);if(Y.$$typeof===j)return X(K,F,gd(K,Y),ue);wd(K,Y)}return null}function ne(K,F,Y,ue,je){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Y)||null,M(F,K,""+ue,je);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return K=K.get(ue.key===null?Y:ue.key)||null,B(F,K,ue,je);case E:return K=K.get(ue.key===null?Y:ue.key)||null,J(F,K,ue,je);case U:return ue=ps(ue),ne(K,F,Y,ue,je)}if(de(ue)||V(ue))return K=K.get(Y)||null,se(F,K,ue,je,null);if(typeof ue.then=="function")return ne(K,F,Y,bd(ue),je);if(ue.$$typeof===j)return ne(K,F,Y,gd(F,ue),je);wd(F,ue)}return null}function _e(K,F,Y,ue){for(var je=null,We=null,Ne=F,Be=F=0,Fe=null;Ne!==null&&Be<Y.length;Be++){Ne.index>Be?(Fe=Ne,Ne=null):Fe=Ne.sibling;var Xe=X(K,Ne,Y[Be],ue);if(Xe===null){Ne===null&&(Ne=Fe);break}s&&Ne&&Xe.alternate===null&&o(K,Ne),F=S(Xe,F,Be),We===null?je=Xe:We.sibling=Xe,We=Xe,Ne=Fe}if(Be===Y.length)return d(K,Ne),Ge&&Si(K,Be),je;if(Ne===null){for(;Be<Y.length;Be++)Ne=ce(K,Y[Be],ue),Ne!==null&&(F=S(Ne,F,Be),We===null?je=Ne:We.sibling=Ne,We=Ne);return Ge&&Si(K,Be),je}for(Ne=p(Ne);Be<Y.length;Be++)Fe=ne(Ne,K,Be,Y[Be],ue),Fe!==null&&(s&&Fe.alternate!==null&&Ne.delete(Fe.key===null?Be:Fe.key),F=S(Fe,F,Be),We===null?je=Fe:We.sibling=Fe,We=Fe);return s&&Ne.forEach(function(Ma){return o(K,Ma)}),Ge&&Si(K,Be),je}function Re(K,F,Y,ue){if(Y==null)throw Error(r(151));for(var je=null,We=null,Ne=F,Be=F=0,Fe=null,Xe=Y.next();Ne!==null&&!Xe.done;Be++,Xe=Y.next()){Ne.index>Be?(Fe=Ne,Ne=null):Fe=Ne.sibling;var Ma=X(K,Ne,Xe.value,ue);if(Ma===null){Ne===null&&(Ne=Fe);break}s&&Ne&&Ma.alternate===null&&o(K,Ne),F=S(Ma,F,Be),We===null?je=Ma:We.sibling=Ma,We=Ma,Ne=Fe}if(Xe.done)return d(K,Ne),Ge&&Si(K,Be),je;if(Ne===null){for(;!Xe.done;Be++,Xe=Y.next())Xe=ce(K,Xe.value,ue),Xe!==null&&(F=S(Xe,F,Be),We===null?je=Xe:We.sibling=Xe,We=Xe);return Ge&&Si(K,Be),je}for(Ne=p(Ne);!Xe.done;Be++,Xe=Y.next())Xe=ne(Ne,K,Be,Xe.value,ue),Xe!==null&&(s&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Be:Xe.key),F=S(Xe,F,Be),We===null?je=Xe:We.sibling=Xe,We=Xe);return s&&Ne.forEach(function(KL){return o(K,KL)}),Ge&&Si(K,Be),je}function lt(K,F,Y,ue){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var je=Y.key;F!==null;){if(F.key===je){if(je=Y.type,je===k){if(F.tag===7){d(K,F.sibling),ue=w(F,Y.props.children),ue.return=K,K=ue;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&ps(je)===F.type){d(K,F.sibling),ue=w(F,Y.props),lu(ue,Y),ue.return=K,K=ue;break e}d(K,F);break}else o(K,F);F=F.sibling}Y.type===k?(ue=cs(Y.props.children,K.mode,ue,Y.key),ue.return=K,K=ue):(ue=hd(Y.type,Y.key,Y.props,null,K.mode,ue),lu(ue,Y),ue.return=K,K=ue)}return T(K);case E:e:{for(je=Y.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){d(K,F.sibling),ue=w(F,Y.children||[]),ue.return=K,K=ue;break e}else{d(K,F);break}else o(K,F);F=F.sibling}ue=$p(Y,K.mode,ue),ue.return=K,K=ue}return T(K);case U:return Y=ps(Y),lt(K,F,Y,ue)}if(de(Y))return _e(K,F,Y,ue);if(V(Y)){if(je=V(Y),typeof je!="function")throw Error(r(150));return Y=je.call(Y),Re(K,F,Y,ue)}if(typeof Y.then=="function")return lt(K,F,bd(Y),ue);if(Y.$$typeof===j)return lt(K,F,gd(K,Y),ue);wd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(d(K,F.sibling),ue=w(F,Y),ue.return=K,K=ue):(d(K,F),ue=Bp(Y,K.mode,ue),ue.return=K,K=ue),T(K)):d(K,F)}return function(K,F,Y,ue){try{ou=0;var je=lt(K,F,Y,ue);return No=null,je}catch(Ne){if(Ne===ko||Ne===vd)throw Ne;var We=nr(29,Ne,null,K.mode);return We.lanes=ue,We.return=K,We}finally{}}}var ys=US(!0),BS=US(!1),va=!1;function Qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ba(s,o,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var w=p.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),p.pending=o,o=fd(s),SS(s,null,d),o}return dd(s,p,o,d),fd(s)}function uu(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,j1(s,d)}}function eg(s,o){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?w=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?w=S=o:S=S.next=o}else w=S=o;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var tg=!1;function cu(){if(tg){var s=Eo;if(s!==null)throw s}}function du(s,o,d,p){tg=!1;var w=s.updateQueue;va=!1;var S=w.firstBaseUpdate,T=w.lastBaseUpdate,M=w.shared.pending;if(M!==null){w.shared.pending=null;var B=M,J=B.next;B.next=null,T===null?S=J:T.next=J,T=B;var se=s.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==T&&(M===null?se.firstBaseUpdate=J:M.next=J,se.lastBaseUpdate=B))}if(S!==null){var ce=w.baseState;T=0,se=J=B=null,M=S;do{var X=M.lane&-536870913,ne=X!==M.lane;if(ne?(He&X)===X:(p&X)===X){X!==0&&X===_o&&(tg=!0),se!==null&&(se=se.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var _e=s,Re=M;X=o;var lt=d;switch(Re.tag){case 1:if(_e=Re.payload,typeof _e=="function"){ce=_e.call(lt,ce,X);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Re.payload,X=typeof _e=="function"?_e.call(lt,ce,X):_e,X==null)break e;ce=g({},ce,X);break e;case 2:va=!0}}X=M.callback,X!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=w.callbacks,ne===null?w.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(J=se=ne,B=ce):se=se.next=ne,T|=X;if(M=M.next,M===null){if(M=w.shared.pending,M===null)break;ne=M,M=ne.next,ne.next=null,w.lastBaseUpdate=ne,w.shared.pending=null}}while(!0);se===null&&(B=ce),w.baseState=B,w.firstBaseUpdate=J,w.lastBaseUpdate=se,S===null&&(w.shared.lanes=0),ka|=T,s.lanes=T,s.memoizedState=ce}}function $S(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function qS(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)$S(d[s],o)}var Ao=L(null),Sd=L(0);function zS(s,o){s=Pi,le(Sd,s),le(Ao,o),Pi=s|o.baseLanes}function ng(){le(Sd,Pi),le(Ao,Ao.current)}function rg(){Pi=Sd.current,q(Ao),q(Sd)}var rr=L(null),Nr=null;function wa(s){var o=s.alternate;le(Ot,Ot.current&1),le(rr,s),Nr===null&&(o===null||Ao.current!==null||o.memoizedState!==null)&&(Nr=s)}function ig(s){le(Ot,Ot.current),le(rr,s),Nr===null&&(Nr=s)}function HS(s){s.tag===22?(le(Ot,Ot.current),le(rr,s),Nr===null&&(Nr=s)):Sa()}function Sa(){le(Ot,Ot.current),le(rr,rr.current)}function ir(s){q(rr),Nr===s&&(Nr=null),q(Ot)}var Ot=L(0);function _d(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||c0(d)||d0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ki=0,Ue=null,st=null,$t=null,Ed=!1,To=!1,vs=!1,kd=0,fu=0,Co=null,L3=0;function It(){throw Error(r(321))}function ag(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!tr(s[d],o[d]))return!1;return!0}function sg(s,o,d,p,w,S){return ki=S,Ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=s===null||s.memoizedState===null?N_:wg,vs=!1,S=d(p,w),vs=!1,To&&(S=GS(o,d,p,w)),FS(s),S}function FS(s){z.H=pu;var o=st!==null&&st.next!==null;if(ki=0,$t=st=Ue=null,Ed=!1,fu=0,Co=null,o)throw Error(r(300));s===null||qt||(s=s.dependencies,s!==null&&pd(s)&&(qt=!0))}function GS(s,o,d,p){Ue=s;var w=0;do{if(To&&(Co=null),fu=0,To=!1,25<=w)throw Error(r(301));if(w+=1,$t=st=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=A_,S=o(d,p)}while(To);return S}function U3(){var s=z.H,o=s.useState()[0];return o=typeof o.then=="function"?hu(o):o,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(Ue.flags|=1024),o}function og(){var s=kd!==0;return kd=0,s}function lg(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function ug(s){if(Ed){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ed=!1}ki=0,$t=st=Ue=null,To=!1,fu=kd=0,Co=null}function Pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ue.memoizedState=$t=s:$t=$t.next=s,$t}function Mt(){if(st===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var o=$t===null?Ue.memoizedState:$t.next;if(o!==null)$t=o,st=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},$t===null?Ue.memoizedState=$t=s:$t=$t.next=s}return $t}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(s){var o=fu;return fu+=1,Co===null&&(Co=[]),s=MS(Co,s,o),o=Ue,($t===null?o.memoizedState:$t.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?N_:wg),s}function Ad(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return hu(s);if(s.$$typeof===j)return yn(s)}throw Error(r(438,String(s)))}function cg(s){var o=null,d=Ue.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Ue.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Nd(),Ue.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),p=0;p<s;p++)d[p]=G;return o.index++,d}function Ni(s,o){return typeof o=="function"?o(s):o}function Td(s){var o=Mt();return dg(o,st,s)}function dg(s,o,d){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var w=s.baseQueue,S=p.pending;if(S!==null){if(w!==null){var T=w.next;w.next=S.next,S.next=T}o.baseQueue=w=S,p.pending=null}if(S=s.baseState,w===null)s.memoizedState=S;else{o=w.next;var M=T=null,B=null,J=o,se=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(He&ce)===ce:(ki&ce)===ce){var X=J.revertLane;if(X===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===_o&&(se=!0);else if((ki&X)===X){J=J.next,X===_o&&(se=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(M=B=ce,T=S):B=B.next=ce,Ue.lanes|=X,ka|=X;ce=J.action,vs&&d(S,ce),S=J.hasEagerState?J.eagerState:d(S,ce)}else X={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(M=B=X,T=S):B=B.next=X,Ue.lanes|=ce,ka|=ce;J=J.next}while(J!==null&&J!==o);if(B===null?T=S:B.next=M,!tr(S,s.memoizedState)&&(qt=!0,se&&(d=Eo,d!==null)))throw d;s.memoizedState=S,s.baseState=T,s.baseQueue=B,p.lastRenderedState=S}return w===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function fg(s){var o=Mt(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=d.dispatch,w=d.pending,S=o.memoizedState;if(w!==null){d.pending=null;var T=w=w.next;do S=s(S,T.action),T=T.next;while(T!==w);tr(S,o.memoizedState)||(qt=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,p]}function VS(s,o,d){var p=Ue,w=Mt(),S=Ge;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=o();var T=!tr((st||w).memoizedState,d);if(T&&(w.memoizedState=d,qt=!0),w=w.queue,pg(JS.bind(null,p,w,s),[s]),w.getSnapshot!==o||T||$t!==null&&$t.memoizedState.tag&1){if(p.flags|=2048,jo(9,{destroy:void 0},YS.bind(null,p,w,d,o),null),ct===null)throw Error(r(349));S||(ki&127)!==0||KS(p,o,d)}return d}function KS(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=Ue.updateQueue,o===null?(o=Nd(),Ue.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function YS(s,o,d,p){o.value=d,o.getSnapshot=p,WS(o)&&XS(s)}function JS(s,o,d){return d(function(){WS(o)&&XS(s)})}function WS(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!tr(s,d)}catch{return!0}}function XS(s){var o=us(s,2);o!==null&&Kn(o,s,2)}function hg(s){var o=Pn();if(typeof s=="function"){var d=s;if(s=d(),vs){ii(!0);try{d()}finally{ii(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},o}function QS(s,o,d,p){return s.baseState=d,dg(s,st,typeof p=="function"?p:Ni)}function B3(s,o,d,p,w){if(Id(s))throw Error(r(485));if(s=o.action,s!==null){var S={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};z.T!==null?d(!0):S.isTransition=!1,p(S),d=o.pending,d===null?(S.next=o.pending=S,ZS(o,S)):(S.next=d.next,o.pending=d.next=S)}}function ZS(s,o){var d=o.action,p=o.payload,w=s.state;if(o.isTransition){var S=z.T,T={};z.T=T;try{var M=d(w,p),B=z.S;B!==null&&B(T,M),e_(s,o,M)}catch(J){mg(s,o,J)}finally{S!==null&&T.types!==null&&(S.types=T.types),z.T=S}}else try{S=d(w,p),e_(s,o,S)}catch(J){mg(s,o,J)}}function e_(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){t_(s,o,p)},function(p){return mg(s,o,p)}):t_(s,o,d)}function t_(s,o,d){o.status="fulfilled",o.value=d,n_(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,ZS(s,d)))}function mg(s,o,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,n_(o),o=o.next;while(o!==p)}s.action=null}function n_(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function r_(s,o){return o}function i_(s,o){if(Ge){var d=ct.formState;if(d!==null){e:{var p=Ue;if(Ge){if(gt){t:{for(var w=gt,S=kr;w.nodeType!==8;){if(!S){w=null;break t}if(w=Ar(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){gt=Ar(w.nextSibling),p=w.data==="F!";break e}}ga(p)}p=!1}p&&(o=d[0])}}return d=Pn(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:o},d.queue=p,d=__.bind(null,Ue,p),p.dispatch=d,p=hg(!1),S=bg.bind(null,Ue,!1,p.queue),p=Pn(),w={state:o,dispatch:null,action:s,pending:null},p.queue=w,d=B3.bind(null,Ue,w,S,d),w.dispatch=d,p.memoizedState=s,[o,d,!1]}function a_(s){var o=Mt();return s_(o,st,s)}function s_(s,o,d){if(o=dg(s,o,r_)[0],s=Td(Ni)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=hu(o)}catch(T){throw T===ko?vd:T}else p=o;o=Mt();var w=o.queue,S=w.dispatch;return d!==o.memoizedState&&(Ue.flags|=2048,jo(9,{destroy:void 0},$3.bind(null,w,d),null)),[p,S,s]}function $3(s,o){s.action=o}function o_(s){var o=Mt(),d=st;if(d!==null)return s_(o,d,s);Mt(),o=o.memoizedState,d=Mt();var p=d.queue.dispatch;return d.memoizedState=s,[o,p,!1]}function jo(s,o,d,p){return s={tag:s,create:d,deps:p,inst:o,next:null},o=Ue.updateQueue,o===null&&(o=Nd(),Ue.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,o.lastEffect=s),s}function l_(){return Mt().memoizedState}function Cd(s,o,d,p){var w=Pn();Ue.flags|=s,w.memoizedState=jo(1|o,{destroy:void 0},d,p===void 0?null:p)}function jd(s,o,d,p){var w=Mt();p=p===void 0?null:p;var S=w.memoizedState.inst;st!==null&&p!==null&&ag(p,st.memoizedState.deps)?w.memoizedState=jo(o,S,d,p):(Ue.flags|=s,w.memoizedState=jo(1|o,S,d,p))}function u_(s,o){Cd(8390656,8,s,o)}function pg(s,o){jd(2048,8,s,o)}function q3(s){Ue.flags|=4;var o=Ue.updateQueue;if(o===null)o=Nd(),Ue.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function c_(s){var o=Mt().memoizedState;return q3({ref:o,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function d_(s,o){return jd(4,2,s,o)}function f_(s,o){return jd(4,4,s,o)}function h_(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function m_(s,o,d){d=d!=null?d.concat([s]):null,jd(4,4,h_.bind(null,o,s),d)}function gg(){}function p_(s,o){var d=Mt();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&ag(o,p[1])?p[0]:(d.memoizedState=[s,o],s)}function g_(s,o){var d=Mt();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&ag(o,p[1]))return p[0];if(p=s(),vs){ii(!0);try{s()}finally{ii(!1)}}return d.memoizedState=[p,o],p}function yg(s,o,d){return d===void 0||(ki&1073741824)!==0&&(He&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=yE(),Ue.lanes|=s,ka|=s,d)}function y_(s,o,d,p){return tr(d,o)?d:Ao.current!==null?(s=yg(s,d,p),tr(s,o)||(qt=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(He&261930)===0?(qt=!0,s.memoizedState=d):(s=yE(),Ue.lanes|=s,ka|=s,o)}function v_(s,o,d,p,w){var S=Z.p;Z.p=S!==0&&8>S?S:8;var T=z.T,M={};z.T=M,bg(s,!1,o,d);try{var B=w(),J=z.S;if(J!==null&&J(M,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var se=D3(B,p);mu(s,o,se,or(s))}else mu(s,o,p,or(s))}catch(ce){mu(s,o,{then:function(){},status:"rejected",reason:ce},or())}finally{Z.p=S,T!==null&&M.types!==null&&(T.types=M.types),z.T=T}}function z3(){}function vg(s,o,d,p){if(s.tag!==5)throw Error(r(476));var w=x_(s).queue;v_(s,w,o,fe,d===null?z3:function(){return b_(s),d(p)})}function x_(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:fe},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function b_(s){var o=x_(s);o.next===null&&(o=s.alternate.memoizedState),mu(s,o.next.queue,{},or())}function xg(){return yn(Iu)}function w_(){return Mt().memoizedState}function S_(){return Mt().memoizedState}function H3(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=or();s=xa(d);var p=ba(o,s,d);p!==null&&(Kn(p,o,d),uu(p,o,d)),o={cache:Yp()},s.payload=o;return}o=o.return}}function F3(s,o,d){var p=or();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Id(s)?E_(o,d):(d=Lp(s,o,d,p),d!==null&&(Kn(d,s,p),k_(d,o,p)))}function __(s,o,d){var p=or();mu(s,o,d,p)}function mu(s,o,d,p){var w={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Id(s))E_(o,w);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var T=o.lastRenderedState,M=S(T,d);if(w.hasEagerState=!0,w.eagerState=M,tr(M,T))return dd(s,o,w,0),ct===null&&cd(),!1}catch{}finally{}if(d=Lp(s,o,w,p),d!==null)return Kn(d,s,p),k_(d,o,p),!0}return!1}function bg(s,o,d,p){if(p={lane:2,revertLane:Qg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Id(s)){if(o)throw Error(r(479))}else o=Lp(s,d,p,2),o!==null&&Kn(o,s,2)}function Id(s){var o=s.alternate;return s===Ue||o!==null&&o===Ue}function E_(s,o){To=Ed=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function k_(s,o,d){if((d&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,d|=p,o.lanes=d,j1(s,d)}}var pu={readContext:yn,use:Ad,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};pu.useEffectEvent=It;var N_={readContext:yn,use:Ad,useCallback:function(s,o){return Pn().memoizedState=[s,o===void 0?null:o],s},useContext:yn,useEffect:u_,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Cd(4194308,4,h_.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Cd(4194308,4,s,o)},useInsertionEffect:function(s,o){Cd(4,2,s,o)},useMemo:function(s,o){var d=Pn();o=o===void 0?null:o;var p=s();if(vs){ii(!0);try{s()}finally{ii(!1)}}return d.memoizedState=[p,o],p},useReducer:function(s,o,d){var p=Pn();if(d!==void 0){var w=d(o);if(vs){ii(!0);try{d(o)}finally{ii(!1)}}}else w=o;return p.memoizedState=p.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},p.queue=s,s=s.dispatch=F3.bind(null,Ue,s),[p.memoizedState,s]},useRef:function(s){var o=Pn();return s={current:s},o.memoizedState=s},useState:function(s){s=hg(s);var o=s.queue,d=__.bind(null,Ue,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:gg,useDeferredValue:function(s,o){var d=Pn();return yg(d,s,o)},useTransition:function(){var s=hg(!1);return s=v_.bind(null,Ue,s.queue,!0,!1),Pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var p=Ue,w=Pn();if(Ge){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),ct===null)throw Error(r(349));(He&127)!==0||KS(p,o,d)}w.memoizedState=d;var S={value:d,getSnapshot:o};return w.queue=S,u_(JS.bind(null,p,S,s),[s]),p.flags|=2048,jo(9,{destroy:void 0},YS.bind(null,p,S,d,o),null),d},useId:function(){var s=Pn(),o=ct.identifierPrefix;if(Ge){var d=si,p=ai;d=(p&~(1<<32-ae(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=kd++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=L3++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:xg,useFormState:i_,useActionState:i_,useOptimistic:function(s){var o=Pn();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=bg.bind(null,Ue,!0,d),d.dispatch=o,[s,o]},useMemoCache:cg,useCacheRefresh:function(){return Pn().memoizedState=H3.bind(null,Ue)},useEffectEvent:function(s){var o=Pn(),d={impl:s};return o.memoizedState=d,function(){if((tt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},wg={readContext:yn,use:Ad,useCallback:p_,useContext:yn,useEffect:pg,useImperativeHandle:m_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:Td,useRef:l_,useState:function(){return Td(Ni)},useDebugValue:gg,useDeferredValue:function(s,o){var d=Mt();return y_(d,st.memoizedState,s,o)},useTransition:function(){var s=Td(Ni)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:hu(s),o]},useSyncExternalStore:VS,useId:w_,useHostTransitionStatus:xg,useFormState:a_,useActionState:a_,useOptimistic:function(s,o){var d=Mt();return QS(d,st,s,o)},useMemoCache:cg,useCacheRefresh:S_};wg.useEffectEvent=c_;var A_={readContext:yn,use:Ad,useCallback:p_,useContext:yn,useEffect:pg,useImperativeHandle:m_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:fg,useRef:l_,useState:function(){return fg(Ni)},useDebugValue:gg,useDeferredValue:function(s,o){var d=Mt();return st===null?yg(d,s,o):y_(d,st.memoizedState,s,o)},useTransition:function(){var s=fg(Ni)[0],o=Mt().memoizedState;return[typeof s=="boolean"?s:hu(s),o]},useSyncExternalStore:VS,useId:w_,useHostTransitionStatus:xg,useFormState:o_,useActionState:o_,useOptimistic:function(s,o){var d=Mt();return st!==null?QS(d,st,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:cg,useCacheRefresh:S_};A_.useEffectEvent=c_;function Sg(s,o,d,p){o=s.memoizedState,d=d(p,o),d=d==null?o:g({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var _g={enqueueSetState:function(s,o,d){s=s._reactInternals;var p=or(),w=xa(p);w.payload=o,d!=null&&(w.callback=d),o=ba(s,w,p),o!==null&&(Kn(o,s,p),uu(o,s,p))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var p=or(),w=xa(p);w.tag=1,w.payload=o,d!=null&&(w.callback=d),o=ba(s,w,p),o!==null&&(Kn(o,s,p),uu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=or(),p=xa(d);p.tag=2,o!=null&&(p.callback=o),o=ba(s,p,d),o!==null&&(Kn(o,s,d),uu(o,s,d))}};function T_(s,o,d,p,w,S,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,S,T):o.prototype&&o.prototype.isPureReactComponent?!tu(d,p)||!tu(w,S):!0}function C_(s,o,d,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==s&&_g.enqueueReplaceState(o,o.state,null)}function xs(s,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(s=s.defaultProps){d===o&&(d=g({},d));for(var w in s)d[w]===void 0&&(d[w]=s[w])}return d}function j_(s){ud(s)}function I_(s){console.error(s)}function R_(s){ud(s)}function Rd(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function P_(s,o,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Eg(s,o,d){return d=xa(d),d.tag=3,d.payload={element:null},d.callback=function(){Rd(s,o)},d}function O_(s){return s=xa(s),s.tag=3,s}function M_(s,o,d,p){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var S=p.value;s.payload=function(){return w(S)},s.callback=function(){P_(o,d,p)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){P_(o,d,p),typeof w!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function G3(s,o,d,p,w){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&So(o,d,w,!0),d=rr.current,d!==null){switch(d.tag){case 31:case 13:return Nr===null?Fd():d.alternate===null&&Rt===0&&(Rt=3),d.flags&=-257,d.flags|=65536,d.lanes=w,p===xd?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),Jg(s,p,w)),!1;case 22:return d.flags|=65536,p===xd?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),Jg(s,p,w)),!1}throw Error(r(435,d.tag))}return Jg(s,p,w),Fd(),!1}if(Ge)return o=rr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,p!==Hp&&(s=Error(r(422),{cause:p}),iu(Sr(s,d)))):(p!==Hp&&(o=Error(r(423),{cause:p}),iu(Sr(o,d))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,p=Sr(p,d),w=Eg(s.stateNode,p,w),eg(s,w),Rt!==4&&(Rt=2)),!1;var S=Error(r(520),{cause:p});if(S=Sr(S,d),_u===null?_u=[S]:_u.push(S),Rt!==4&&(Rt=2),o===null)return!0;p=Sr(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=w&-w,d.lanes|=s,s=Eg(d.stateNode,p,s),eg(d,s),!1;case 1:if(o=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Na===null||!Na.has(S))))return d.flags|=65536,w&=-w,d.lanes|=w,w=O_(w),M_(w,s,d,p),eg(d,w),!1}d=d.return}while(d!==null);return!1}var kg=Error(r(461)),qt=!1;function vn(s,o,d,p){o.child=s===null?BS(o,null,d,p):ys(o,s.child,d,p)}function D_(s,o,d,p,w){d=d.render;var S=o.ref;if("ref"in p){var T={};for(var M in p)M!=="ref"&&(T[M]=p[M])}else T=p;return hs(o),p=sg(s,o,d,T,S,w),M=og(),s!==null&&!qt?(lg(s,o,w),Ai(s,o,w)):(Ge&&M&&qp(o),o.flags|=1,vn(s,o,p,w),o.child)}function L_(s,o,d,p,w){if(s===null){var S=d.type;return typeof S=="function"&&!Up(S)&&S.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=S,U_(s,o,S,p,w)):(s=hd(d.type,null,p,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(S=s.child,!Pg(s,w)){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:tu,d(T,p)&&s.ref===o.ref)return Ai(s,o,w)}return o.flags|=1,s=wi(S,p),s.ref=o.ref,s.return=o,o.child=s}function U_(s,o,d,p,w){if(s!==null){var S=s.memoizedProps;if(tu(S,p)&&s.ref===o.ref)if(qt=!1,o.pendingProps=p=S,Pg(s,w))(s.flags&131072)!==0&&(qt=!0);else return o.lanes=s.lanes,Ai(s,o,w)}return Ng(s,o,d,p,w)}function B_(s,o,d,p){var w=p.children,S=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,s!==null){for(p=o.child=s.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~S}else p=0,o.child=null;return $_(s,o,S,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&yd(o,S!==null?S.cachePool:null),S!==null?zS(o,S):ng(),HS(o);else return p=o.lanes=536870912,$_(s,o,S!==null?S.baseLanes|d:d,d,p)}else S!==null?(yd(o,S.cachePool),zS(o,S),Sa(),o.memoizedState=null):(s!==null&&yd(o,null),ng(),Sa());return vn(s,o,w,d),o.child}function gu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function $_(s,o,d,p,w){var S=Wp();return S=S===null?null:{parent:Bt._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},s!==null&&yd(o,null),ng(),HS(o),s!==null&&So(s,o,p,!0),o.childLanes=w,null}function Pd(s,o){return o=Md({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function q_(s,o,d){return ys(o,s.child,null,d),s=Pd(o,o.pendingProps),s.flags|=2,ir(o),o.memoizedState=null,s}function V3(s,o,d){var p=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(Ge){if(p.mode==="hidden")return s=Pd(o,p),o.lanes=536870912,gu(null,s);if(ig(o),(s=gt)?(s=ZE(s,kr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ma!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},d=ES(s),d.return=o,o.child=d,gn=o,gt=null)):s=null,s===null)throw ga(o);return o.lanes=536870912,null}return Pd(o,p)}var S=s.memoizedState;if(S!==null){var T=S.dehydrated;if(ig(o),w)if(o.flags&256)o.flags&=-257,o=q_(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(qt||So(s,o,d,!1),w=(d&s.childLanes)!==0,qt||w){if(p=ct,p!==null&&(T=I1(p,d),T!==0&&T!==S.retryLane))throw S.retryLane=T,us(s,T),Kn(p,s,T),kg;Fd(),o=q_(s,o,d)}else s=S.treeContext,gt=Ar(T.nextSibling),gn=o,Ge=!0,pa=null,kr=!1,s!==null&&AS(o,s),o=Pd(o,p),o.flags|=4096;return o}return s=wi(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Od(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function Ng(s,o,d,p,w){return hs(o),d=sg(s,o,d,p,void 0,w),p=og(),s!==null&&!qt?(lg(s,o,w),Ai(s,o,w)):(Ge&&p&&qp(o),o.flags|=1,vn(s,o,d,w),o.child)}function z_(s,o,d,p,w,S){return hs(o),o.updateQueue=null,d=GS(o,p,d,w),FS(s),p=og(),s!==null&&!qt?(lg(s,o,S),Ai(s,o,S)):(Ge&&p&&qp(o),o.flags|=1,vn(s,o,d,S),o.child)}function H_(s,o,d,p,w){if(hs(o),o.stateNode===null){var S=vo,T=d.contextType;typeof T=="object"&&T!==null&&(S=yn(T)),S=new d(p,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=_g,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=p,S.state=o.memoizedState,S.refs={},Qp(o),T=d.contextType,S.context=typeof T=="object"&&T!==null?yn(T):vo,S.state=o.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Sg(o,d,T,p),S.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&_g.enqueueReplaceState(S,S.state,null),du(o,p,S,w),cu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){S=o.stateNode;var M=o.memoizedProps,B=xs(d,M);S.props=B;var J=S.context,se=d.contextType;T=vo,typeof se=="object"&&se!==null&&(T=yn(se));var ce=d.getDerivedStateFromProps;se=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M||J!==T)&&C_(o,S,p,T),va=!1;var X=o.memoizedState;S.state=X,du(o,p,S,w),cu(),J=o.memoizedState,M||X!==J||va?(typeof ce=="function"&&(Sg(o,d,ce,p),J=o.memoizedState),(B=va||T_(o,d,B,p,X,J,T))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=J),S.props=p,S.state=J,S.context=T,p=B):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,Zp(s,o),T=o.memoizedProps,se=xs(d,T),S.props=se,ce=o.pendingProps,X=S.context,J=d.contextType,B=vo,typeof J=="object"&&J!==null&&(B=yn(J)),M=d.getDerivedStateFromProps,(J=typeof M=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==ce||X!==B)&&C_(o,S,p,B),va=!1,X=o.memoizedState,S.state=X,du(o,p,S,w),cu();var ne=o.memoizedState;T!==ce||X!==ne||va||s!==null&&s.dependencies!==null&&pd(s.dependencies)?(typeof M=="function"&&(Sg(o,d,M,p),ne=o.memoizedState),(se=va||T_(o,d,se,p,X,ne,B)||s!==null&&s.dependencies!==null&&pd(s.dependencies))?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ne,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ne,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ne),S.props=p,S.state=ne,S.context=B,p=se):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(o.flags|=1024),p=!1)}return S=p,Od(s,o),p=(o.flags&128)!==0,S||p?(S=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,s!==null&&p?(o.child=ys(o,s.child,null,w),o.child=ys(o,null,d,w)):vn(s,o,d,w),o.memoizedState=S.state,s=o.child):s=Ai(s,o,w),s}function F_(s,o,d,p){return ds(),o.flags|=256,vn(s,o,d,p),o.child}var Ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tg(s){return{baseLanes:s,cachePool:PS()}}function Cg(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=sr),s}function G_(s,o,d){var p=o.pendingProps,w=!1,S=(o.flags&128)!==0,T;if((T=S)||(T=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),T&&(w=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(Ge){if(w?wa(o):Sa(),(s=gt)?(s=ZE(s,kr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ma!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},d=ES(s),d.return=o,o.child=d,gn=o,gt=null)):s=null,s===null)throw ga(o);return d0(s)?o.lanes=32:o.lanes=536870912,null}var M=p.children;return p=p.fallback,w?(Sa(),w=o.mode,M=Md({mode:"hidden",children:M},w),p=cs(p,w,d,null),M.return=o,p.return=o,M.sibling=p,o.child=M,p=o.child,p.memoizedState=Tg(d),p.childLanes=Cg(s,T,d),o.memoizedState=Ag,gu(null,p)):(wa(o),jg(o,M))}var B=s.memoizedState;if(B!==null&&(M=B.dehydrated,M!==null)){if(S)o.flags&256?(wa(o),o.flags&=-257,o=Ig(s,o,d)):o.memoizedState!==null?(Sa(),o.child=s.child,o.flags|=128,o=null):(Sa(),M=p.fallback,w=o.mode,p=Md({mode:"visible",children:p.children},w),M=cs(M,w,d,null),M.flags|=2,p.return=o,M.return=o,p.sibling=M,o.child=p,ys(o,s.child,null,d),p=o.child,p.memoizedState=Tg(d),p.childLanes=Cg(s,T,d),o.memoizedState=Ag,o=gu(null,p));else if(wa(o),d0(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var J=T.dgst;T=J,p=Error(r(419)),p.stack="",p.digest=T,iu({value:p,source:null,stack:null}),o=Ig(s,o,d)}else if(qt||So(s,o,d,!1),T=(d&s.childLanes)!==0,qt||T){if(T=ct,T!==null&&(p=I1(T,d),p!==0&&p!==B.retryLane))throw B.retryLane=p,us(s,p),Kn(T,s,p),kg;c0(M)||Fd(),o=Ig(s,o,d)}else c0(M)?(o.flags|=192,o.child=s.child,o=null):(s=B.treeContext,gt=Ar(M.nextSibling),gn=o,Ge=!0,pa=null,kr=!1,s!==null&&AS(o,s),o=jg(o,p.children),o.flags|=4096);return o}return w?(Sa(),M=p.fallback,w=o.mode,B=s.child,J=B.sibling,p=wi(B,{mode:"hidden",children:p.children}),p.subtreeFlags=B.subtreeFlags&65011712,J!==null?M=wi(J,M):(M=cs(M,w,d,null),M.flags|=2),M.return=o,p.return=o,p.sibling=M,o.child=p,gu(null,p),p=o.child,M=s.child.memoizedState,M===null?M=Tg(d):(w=M.cachePool,w!==null?(B=Bt._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=PS(),M={baseLanes:M.baseLanes|d,cachePool:w}),p.memoizedState=M,p.childLanes=Cg(s,T,d),o.memoizedState=Ag,gu(s.child,p)):(wa(o),d=s.child,s=d.sibling,d=wi(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=d,o.memoizedState=null,d)}function jg(s,o){return o=Md({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Md(s,o){return s=nr(22,s,null,o),s.lanes=0,s}function Ig(s,o,d){return ys(o,s.child,null,d),s=jg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function V_(s,o,d){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Vp(s.return,o,d)}function Rg(s,o,d,p,w,S){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w,treeForkCount:S}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=d,T.tailMode=w,T.treeForkCount=S)}function K_(s,o,d){var p=o.pendingProps,w=p.revealOrder,S=p.tail;p=p.children;var T=Ot.current,M=(T&2)!==0;if(M?(T=T&1|2,o.flags|=128):T&=1,le(Ot,T),vn(s,o,p,d),p=Ge?ru:0,!M&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&V_(s,d,o);else if(s.tag===19)V_(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(w){case"forwards":for(d=o.child,w=null;d!==null;)s=d.alternate,s!==null&&_d(s)===null&&(w=d),d=d.sibling;d=w,d===null?(w=o.child,o.child=null):(w=d.sibling,d.sibling=null),Rg(o,!1,w,d,S,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&_d(s)===null){o.child=w;break}s=w.sibling,w.sibling=d,d=w,w=s}Rg(o,!0,d,null,S,p);break;case"together":Rg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ai(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),ka|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(So(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=wi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=wi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Pg(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&pd(s)))}function K3(s,o,d){switch(o.tag){case 3:Ie(o,o.stateNode.containerInfo),ya(o,Bt,s.memoizedState.cache),ds();break;case 27:case 5:Te(o);break;case 4:Ie(o,o.stateNode.containerInfo);break;case 10:ya(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ig(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(wa(o),o.flags|=128,null):(d&o.child.childLanes)!==0?G_(s,o,d):(wa(o),s=Ai(s,o,d),s!==null?s.sibling:null);wa(o);break;case 19:var w=(s.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(So(s,o,d,!1),p=(d&o.childLanes)!==0),w){if(p)return K_(s,o,d);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),le(Ot,Ot.current),p)break;return null;case 22:return o.lanes=0,B_(s,o,d,o.pendingProps);case 24:ya(o,Bt,s.memoizedState.cache)}return Ai(s,o,d)}function Y_(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)qt=!0;else{if(!Pg(s,d)&&(o.flags&128)===0)return qt=!1,K3(s,o,d);qt=(s.flags&131072)!==0}else qt=!1,Ge&&(o.flags&1048576)!==0&&NS(o,ru,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=ps(o.elementType),o.type=s,typeof s=="function")Up(s)?(p=xs(s,p),o.tag=1,o=H_(null,o,s,p,d)):(o.tag=0,o=Ng(null,o,s,p,d));else{if(s!=null){var w=s.$$typeof;if(w===I){o.tag=11,o=D_(null,o,s,p,d);break e}else if(w===R){o.tag=14,o=L_(null,o,s,p,d);break e}}throw o=oe(s)||s,Error(r(306,o,""))}}return o;case 0:return Ng(s,o,o.type,o.pendingProps,d);case 1:return p=o.type,w=xs(p,o.pendingProps),H_(s,o,p,w,d);case 3:e:{if(Ie(o,o.stateNode.containerInfo),s===null)throw Error(r(387));p=o.pendingProps;var S=o.memoizedState;w=S.element,Zp(s,o),du(o,p,null,d);var T=o.memoizedState;if(p=T.cache,ya(o,Bt,p),p!==S.cache&&Kp(o,[Bt],d,!0),cu(),p=T.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=F_(s,o,p,d);break e}else if(p!==w){w=Sr(Error(r(424)),o),iu(w),o=F_(s,o,p,d);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gt=Ar(s.firstChild),gn=o,Ge=!0,pa=null,kr=!0,d=BS(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ds(),p===w){o=Ai(s,o,d);break e}vn(s,o,p,d)}o=o.child}return o;case 26:return Od(s,o),s===null?(d=ak(o.type,null,o.pendingProps,null))?o.memoizedState=d:Ge||(d=o.type,s=o.pendingProps,p=Xd(ye.current).createElement(d),p[pn]=o,p[qn]=s,xn(p,d,s),on(p),o.stateNode=p):o.memoizedState=ak(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Te(o),s===null&&Ge&&(p=o.stateNode=nk(o.type,o.pendingProps,ye.current),gn=o,kr=!0,w=gt,ja(o.type)?(f0=w,gt=Ar(p.firstChild)):gt=w),vn(s,o,o.pendingProps.children,d),Od(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Ge&&((w=p=gt)&&(p=_L(p,o.type,o.pendingProps,kr),p!==null?(o.stateNode=p,gn=o,gt=Ar(p.firstChild),kr=!1,w=!0):w=!1),w||ga(o)),Te(o),w=o.type,S=o.pendingProps,T=s!==null?s.memoizedProps:null,p=S.children,o0(w,S)?p=null:T!==null&&o0(w,T)&&(o.flags|=32),o.memoizedState!==null&&(w=sg(s,o,U3,null,null,d),Iu._currentValue=w),Od(s,o),vn(s,o,p,d),o.child;case 6:return s===null&&Ge&&((s=d=gt)&&(d=EL(d,o.pendingProps,kr),d!==null?(o.stateNode=d,gn=o,gt=null,s=!0):s=!1),s||ga(o)),null;case 13:return G_(s,o,d);case 4:return Ie(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ys(o,null,p,d):vn(s,o,p,d),o.child;case 11:return D_(s,o,o.type,o.pendingProps,d);case 7:return vn(s,o,o.pendingProps,d),o.child;case 8:return vn(s,o,o.pendingProps.children,d),o.child;case 12:return vn(s,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,ya(o,o.type,p.value),vn(s,o,p.children,d),o.child;case 9:return w=o.type._context,p=o.pendingProps.children,hs(o),w=yn(w),p=p(w),o.flags|=1,vn(s,o,p,d),o.child;case 14:return L_(s,o,o.type,o.pendingProps,d);case 15:return U_(s,o,o.type,o.pendingProps,d);case 19:return K_(s,o,d);case 31:return V3(s,o,d);case 22:return B_(s,o,d,o.pendingProps);case 24:return hs(o),p=yn(Bt),s===null?(w=Wp(),w===null&&(w=ct,S=Yp(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=d),w=S),o.memoizedState={parent:p,cache:w},Qp(o),ya(o,Bt,w)):((s.lanes&d)!==0&&(Zp(s,o),du(o,null,null,d),cu()),w=s.memoizedState,S=o.memoizedState,w.parent!==p?(w={parent:p,cache:p},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),ya(o,Bt,p)):(p=S.cache,ya(o,Bt,p),p!==w.cache&&Kp(o,[Bt],d,!0))),vn(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ti(s){s.flags|=4}function Og(s,o,d,p,w){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(w&335544128)===w)if(s.stateNode.complete)s.flags|=8192;else if(wE())s.flags|=8192;else throw gs=xd,Xp}else s.flags&=-16777217}function J_(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ck(o))if(wE())s.flags|=8192;else throw gs=xd,Xp}function Dd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?T1():536870912,s.lanes|=o,Oo|=o)}function yu(s,o){if(!Ge)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(o)for(var w=s.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=p,s.childLanes=d,o}function Y3(s,o,d){var p=o.pendingProps;switch(zp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(o),null;case 1:return yt(o),null;case 3:return d=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ei(Bt),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(wo(o)?Ti(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fp())),yt(o),null;case 26:var w=o.type,S=o.memoizedState;return s===null?(Ti(o),S!==null?(yt(o),J_(o,S)):(yt(o),Og(o,w,null,p,d))):S?S!==s.memoizedState?(Ti(o),yt(o),J_(o,S)):(yt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&Ti(o),yt(o),Og(o,w,s,p,d)),null;case 27:if(Q(o),d=ye.current,w=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ti(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return yt(o),null}s=he.current,wo(o)?TS(o):(s=nk(w,p,d),o.stateNode=s,Ti(o))}return yt(o),null;case 5:if(Q(o),w=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Ti(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return yt(o),null}if(S=he.current,wo(o))TS(o);else{var T=Xd(ye.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?T.createElement("select",{is:p.is}):T.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?T.createElement(w,{is:p.is}):T.createElement(w)}}S[pn]=o,S[qn]=p;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=S;e:switch(xn(S,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ti(o)}}return yt(o),Og(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Ti(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(s=ye.current,wo(o)){if(s=o.stateNode,d=o.memoizedProps,p=null,w=gn,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}s[pn]=o,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||GE(s.nodeValue,d)),s||ga(o,!0)}else s=Xd(s).createTextNode(p),s[pn]=o,o.stateNode=s}return yt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(p=wo(o),d!==null){if(s===null){if(!p)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[pn]=o}else ds(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yt(o),s=!1}else d=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(ir(o),o):(ir(o),null);if((o.flags&128)!==0)throw Error(r(558))}return yt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=wo(o),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[pn]=o}else ds(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yt(o),w=!1}else w=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(ir(o),o):(ir(o),null)}return ir(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=o.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==w&&(p.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Dd(o,o.updateQueue),yt(o),null);case 4:return re(),s===null&&n0(o.stateNode.containerInfo),yt(o),null;case 10:return Ei(o.type),yt(o),null;case 19:if(q(Ot),p=o.memoizedState,p===null)return yt(o),null;if(w=(o.flags&128)!==0,S=p.rendering,S===null)if(w)yu(p,!1);else{if(Rt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=_d(s),S!==null){for(o.flags|=128,yu(p,!1),s=S.updateQueue,o.updateQueue=s,Dd(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)_S(d,s),d=d.sibling;return le(Ot,Ot.current&1|2),Ge&&Si(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&Ye()>qd&&(o.flags|=128,w=!0,yu(p,!1),o.lanes=4194304)}else{if(!w)if(s=_d(S),s!==null){if(o.flags|=128,w=!0,s=s.updateQueue,o.updateQueue=s,Dd(o,s),yu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ge)return yt(o),null}else 2*Ye()-p.renderingStartTime>qd&&d!==536870912&&(o.flags|=128,w=!0,yu(p,!1),o.lanes=4194304);p.isBackwards?(S.sibling=o.child,o.child=S):(s=p.last,s!==null?s.sibling=S:o.child=S,p.last=S)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ye(),s.sibling=null,d=Ot.current,le(Ot,w?d&1|2:d&1),Ge&&Si(o,p.treeForkCount),s):(yt(o),null);case 22:case 23:return ir(o),rg(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(yt(o),o.subtreeFlags&6&&(o.flags|=8192)):yt(o),d=o.updateQueue,d!==null&&Dd(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),s!==null&&q(ms),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ei(Bt),yt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function J3(s,o){switch(zp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ei(Bt),re(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Q(o),null;case 31:if(o.memoizedState!==null){if(ir(o),o.alternate===null)throw Error(r(340));ds()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(ir(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ds()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return q(Ot),null;case 4:return re(),null;case 10:return Ei(o.type),null;case 22:case 23:return ir(o),rg(),s!==null&&q(ms),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ei(Bt),null;case 25:return null;default:return null}}function W_(s,o){switch(zp(o),o.tag){case 3:Ei(Bt),re();break;case 26:case 27:case 5:Q(o);break;case 4:re();break;case 31:o.memoizedState!==null&&ir(o);break;case 13:ir(o);break;case 19:q(Ot);break;case 10:Ei(o.type);break;case 22:case 23:ir(o),rg(),s!==null&&q(ms);break;case 24:Ei(Bt)}}function vu(s,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var w=p.next;d=w;do{if((d.tag&s)===s){p=void 0;var S=d.create,T=d.inst;p=S(),T.destroy=p}d=d.next}while(d!==w)}}catch(M){rt(o,o.return,M)}}function _a(s,o,d){try{var p=o.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var S=w.next;p=S;do{if((p.tag&s)===s){var T=p.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,w=o;var B=d,J=M;try{J()}catch(se){rt(w,B,se)}}}p=p.next}while(p!==S)}}catch(se){rt(o,o.return,se)}}function X_(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{qS(o,d)}catch(p){rt(s,s.return,p)}}}function Q_(s,o,d){d.props=xs(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){rt(s,o,p)}}function xu(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(w){rt(s,o,w)}}function oi(s,o){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(w){rt(s,o,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){rt(s,o,w)}else d.current=null}function Z_(s){var o=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(w){rt(s,s.return,w)}}function Mg(s,o,d){try{var p=s.stateNode;yL(p,s.type,d,o),p[qn]=o}catch(w){rt(s,s.return,w)}}function eE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ja(s.type)||s.tag===4}function Dg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||eE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ja(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lg(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=xi));else if(p!==4&&(p===27&&ja(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(Lg(s,o,d),s=s.sibling;s!==null;)Lg(s,o,d),s=s.sibling}function Ld(s,o,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(p!==4&&(p===27&&ja(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Ld(s,o,d),s=s.sibling;s!==null;)Ld(s,o,d),s=s.sibling}function tE(s){var o=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);xn(o,p,d),o[pn]=s,o[qn]=d}catch(S){rt(s,s.return,S)}}var Ci=!1,zt=!1,Ug=!1,nE=typeof WeakSet=="function"?WeakSet:Set,ln=null;function W3(s,o){if(s=s.containerInfo,a0=af,s=mS(s),Ip(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,M=-1,B=-1,J=0,se=0,ce=s,X=null;t:for(;;){for(var ne;ce!==d||w!==0&&ce.nodeType!==3||(M=T+w),ce!==S||p!==0&&ce.nodeType!==3||(B=T+p),ce.nodeType===3&&(T+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)X=ce,ce=ne;for(;;){if(ce===s)break t;if(X===d&&++J===w&&(M=T),X===S&&++se===p&&(B=T),(ne=ce.nextSibling)!==null)break;ce=X,X=ce.parentNode}ce=ne}d=M===-1||B===-1?null:{start:M,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(s0={focusedElem:s,selectionRange:d},af=!1,ln=o;ln!==null;)if(o=ln,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ln=s;else for(;ln!==null;){switch(o=ln,S=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)w=s[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,d=o,w=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var _e=xs(d.type,w);s=p.getSnapshotBeforeUpdate(_e,S),p.__reactInternalSnapshotBeforeUpdate=s}catch(Re){rt(d,d.return,Re)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)u0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":u0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,ln=s;break}ln=o.return}}function rE(s,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ii(s,d),p&4&&vu(5,d);break;case 1:if(Ii(s,d),p&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(T){rt(d,d.return,T)}else{var w=xs(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(w,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(d,d.return,T)}}p&64&&X_(d),p&512&&xu(d,d.return);break;case 3:if(Ii(s,d),p&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{qS(s,o)}catch(T){rt(d,d.return,T)}}break;case 27:o===null&&p&4&&tE(d);case 26:case 5:Ii(s,d),o===null&&p&4&&Z_(d),p&512&&xu(d,d.return);break;case 12:Ii(s,d);break;case 31:Ii(s,d),p&4&&sE(s,d);break;case 13:Ii(s,d),p&4&&oE(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=aL.bind(null,d),kL(s,d))));break;case 22:if(p=d.memoizedState!==null||Ci,!p){o=o!==null&&o.memoizedState!==null||zt,w=Ci;var S=zt;Ci=p,(zt=o)&&!S?Ri(s,d,(d.subtreeFlags&8772)!==0):Ii(s,d),Ci=w,zt=S}break;case 30:break;default:Ii(s,d)}}function iE(s){var o=s.alternate;o!==null&&(s.alternate=null,iE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&mp(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,Hn=!1;function ji(s,o,d){for(d=d.child;d!==null;)aE(s,o,d),d=d.sibling}function aE(s,o,d){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(rs,d)}catch{}switch(d.tag){case 26:zt||oi(d,o),ji(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:zt||oi(d,o);var p=St,w=Hn;ja(d.type)&&(St=d.stateNode,Hn=!1),ji(s,o,d),Tu(d.stateNode),St=p,Hn=w;break;case 5:zt||oi(d,o);case 6:if(p=St,w=Hn,St=null,ji(s,o,d),St=p,Hn=w,St!==null)if(Hn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(d.stateNode)}catch(S){rt(d,o,S)}else try{St.removeChild(d.stateNode)}catch(S){rt(d,o,S)}break;case 18:St!==null&&(Hn?(s=St,XE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),zo(s)):XE(St,d.stateNode));break;case 4:p=St,w=Hn,St=d.stateNode.containerInfo,Hn=!0,ji(s,o,d),St=p,Hn=w;break;case 0:case 11:case 14:case 15:_a(2,d,o),zt||_a(4,d,o),ji(s,o,d);break;case 1:zt||(oi(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&Q_(d,o,p)),ji(s,o,d);break;case 21:ji(s,o,d);break;case 22:zt=(p=zt)||d.memoizedState!==null,ji(s,o,d),zt=p;break;default:ji(s,o,d)}}function sE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{zo(s)}catch(d){rt(o,o.return,d)}}}function oE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zo(s)}catch(d){rt(o,o.return,d)}}function X3(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new nE),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new nE),o;default:throw Error(r(435,s.tag))}}function Ud(s,o){var d=X3(s);o.forEach(function(p){if(!d.has(p)){d.add(p);var w=sL.bind(null,s,p);p.then(w,w)}})}function Fn(s,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p],S=s,T=o,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(ja(M.type)){St=M.stateNode,Hn=!1;break e}break;case 5:St=M.stateNode,Hn=!1;break e;case 3:case 4:St=M.stateNode.containerInfo,Hn=!0;break e}M=M.return}if(St===null)throw Error(r(160));aE(S,T,w),St=null,Hn=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)lE(o,s),o=o.sibling}var zr=null;function lE(s,o){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fn(o,s),Gn(s),p&4&&(_a(3,s,s.return),vu(3,s),_a(5,s,s.return));break;case 1:Fn(o,s),Gn(s),p&512&&(zt||d===null||oi(d,d.return)),p&64&&Ci&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var w=zr;if(Fn(o,s),Gn(s),p&512&&(zt||d===null||oi(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Vl]||S[pn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(p),w.head.insertBefore(S,w.querySelector("head > title"))),xn(S,p,d),S[pn]=s,on(S),p=S;break e;case"link":var T=lk("link","href",w).get(p+(d.href||""));if(T){for(var M=0;M<T.length;M++)if(S=T[M],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(M,1);break t}}S=w.createElement(p),xn(S,p,d),w.head.appendChild(S);break;case"meta":if(T=lk("meta","content",w).get(p+(d.content||""))){for(M=0;M<T.length;M++)if(S=T[M],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(M,1);break t}}S=w.createElement(p),xn(S,p,d),w.head.appendChild(S);break;default:throw Error(r(468,p))}S[pn]=s,on(S),p=S}s.stateNode=p}else uk(w,s.type,s.stateNode);else s.stateNode=ok(w,p,s.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?uk(w,s.type,s.stateNode):ok(w,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Mg(s,s.memoizedProps,d.memoizedProps)}break;case 27:Fn(o,s),Gn(s),p&512&&(zt||d===null||oi(d,d.return)),d!==null&&p&4&&Mg(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Fn(o,s),Gn(s),p&512&&(zt||d===null||oi(d,d.return)),s.flags&32){w=s.stateNode;try{co(w,"")}catch(_e){rt(s,s.return,_e)}}p&4&&s.stateNode!=null&&(w=s.memoizedProps,Mg(s,w,d!==null?d.memoizedProps:w)),p&1024&&(Ug=!0);break;case 6:if(Fn(o,s),Gn(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(_e){rt(s,s.return,_e)}}break;case 3:if(ef=null,w=zr,zr=Qd(o.containerInfo),Fn(o,s),zr=w,Gn(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{zo(o.containerInfo)}catch(_e){rt(s,s.return,_e)}Ug&&(Ug=!1,uE(s));break;case 4:p=zr,zr=Qd(s.stateNode.containerInfo),Fn(o,s),Gn(s),zr=p;break;case 12:Fn(o,s),Gn(s);break;case 31:Fn(o,s),Gn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ud(s,p)));break;case 13:Fn(o,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($d=Ye()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ud(s,p)));break;case 22:w=s.memoizedState!==null;var B=d!==null&&d.memoizedState!==null,J=Ci,se=zt;if(Ci=J||w,zt=se||B,Fn(o,s),zt=se,Ci=J,Gn(s),p&8192)e:for(o=s.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(d===null||B||Ci||zt||bs(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){B=d=o;try{if(S=B.stateNode,w)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=B.stateNode;var ce=B.memoizedProps.style,X=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){rt(B,B.return,_e)}}}else if(o.tag===6){if(d===null){B=o;try{B.stateNode.nodeValue=w?"":B.memoizedProps}catch(_e){rt(B,B.return,_e)}}}else if(o.tag===18){if(d===null){B=o;try{var ne=B.stateNode;w?QE(ne,!0):QE(B.stateNode,!1)}catch(_e){rt(B,B.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ud(s,d))));break;case 19:Fn(o,s),Gn(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ud(s,p)));break;case 30:break;case 21:break;default:Fn(o,s),Gn(s)}}function Gn(s){var o=s.flags;if(o&2){try{for(var d,p=s.return;p!==null;){if(eE(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,S=Dg(s);Ld(s,S,w);break;case 5:var T=d.stateNode;d.flags&32&&(co(T,""),d.flags&=-33);var M=Dg(s);Ld(s,M,T);break;case 3:case 4:var B=d.stateNode.containerInfo,J=Dg(s);Lg(s,J,B);break;default:throw Error(r(161))}}catch(se){rt(s,s.return,se)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;uE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ii(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rE(s,o.alternate,o),o=o.sibling}function bs(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:_a(4,o,o.return),bs(o);break;case 1:oi(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&Q_(o,o.return,d),bs(o);break;case 27:Tu(o.stateNode);case 26:case 5:oi(o,o.return),bs(o);break;case 22:o.memoizedState===null&&bs(o);break;case 30:bs(o);break;default:bs(o)}s=s.sibling}}function Ri(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,w=s,S=o,T=S.flags;switch(S.tag){case 0:case 11:case 15:Ri(w,S,d),vu(4,S);break;case 1:if(Ri(w,S,d),p=S,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(J){rt(p,p.return,J)}if(p=S,w=p.updateQueue,w!==null){var M=p.stateNode;try{var B=w.shared.hiddenCallbacks;if(B!==null)for(w.shared.hiddenCallbacks=null,w=0;w<B.length;w++)$S(B[w],M)}catch(J){rt(p,p.return,J)}}d&&T&64&&X_(S),xu(S,S.return);break;case 27:tE(S);case 26:case 5:Ri(w,S,d),d&&p===null&&T&4&&Z_(S),xu(S,S.return);break;case 12:Ri(w,S,d);break;case 31:Ri(w,S,d),d&&T&4&&sE(w,S);break;case 13:Ri(w,S,d),d&&T&4&&oE(w,S);break;case 22:S.memoizedState===null&&Ri(w,S,d),xu(S,S.return);break;case 30:break;default:Ri(w,S,d)}o=o.sibling}}function Bg(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&au(d))}function $g(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s))}function Hr(s,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cE(s,o,d,p),o=o.sibling}function cE(s,o,d,p){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(s,o,d,p),w&2048&&vu(9,o);break;case 1:Hr(s,o,d,p);break;case 3:Hr(s,o,d,p),w&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&au(s)));break;case 12:if(w&2048){Hr(s,o,d,p),s=o.stateNode;try{var S=o.memoizedProps,T=S.id,M=S.onPostCommit;typeof M=="function"&&M(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){rt(o,o.return,B)}}else Hr(s,o,d,p);break;case 31:Hr(s,o,d,p);break;case 13:Hr(s,o,d,p);break;case 23:break;case 22:S=o.stateNode,T=o.alternate,o.memoizedState!==null?S._visibility&2?Hr(s,o,d,p):bu(s,o):S._visibility&2?Hr(s,o,d,p):(S._visibility|=2,Io(s,o,d,p,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Bg(T,o);break;case 24:Hr(s,o,d,p),w&2048&&$g(o.alternate,o);break;default:Hr(s,o,d,p)}}function Io(s,o,d,p,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=s,T=o,M=d,B=p,J=T.flags;switch(T.tag){case 0:case 11:case 15:Io(S,T,M,B,w),vu(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?Io(S,T,M,B,w):bu(S,T):(se._visibility|=2,Io(S,T,M,B,w)),w&&J&2048&&Bg(T.alternate,T);break;case 24:Io(S,T,M,B,w),w&&J&2048&&$g(T.alternate,T);break;default:Io(S,T,M,B,w)}o=o.sibling}}function bu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,p=o,w=p.flags;switch(p.tag){case 22:bu(d,p),w&2048&&Bg(p.alternate,p);break;case 24:bu(d,p),w&2048&&$g(p.alternate,p);break;default:bu(d,p)}o=o.sibling}}var wu=8192;function Ro(s,o,d){if(s.subtreeFlags&wu)for(s=s.child;s!==null;)dE(s,o,d),s=s.sibling}function dE(s,o,d){switch(s.tag){case 26:Ro(s,o,d),s.flags&wu&&s.memoizedState!==null&&LL(d,zr,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,o,d);break;case 3:case 4:var p=zr;zr=Qd(s.stateNode.containerInfo),Ro(s,o,d),zr=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=wu,wu=16777216,Ro(s,o,d),wu=p):Ro(s,o,d));break;default:Ro(s,o,d)}}function fE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Su(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ln=p,mE(p,s)}fE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hE(s),s=s.sibling}function hE(s){switch(s.tag){case 0:case 11:case 15:Su(s),s.flags&2048&&_a(9,s,s.return);break;case 3:Su(s);break;case 12:Su(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Bd(s)):Su(s);break;default:Su(s)}}function Bd(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];ln=p,mE(p,s)}fE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:_a(8,o,o.return),Bd(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Bd(o));break;default:Bd(o)}s=s.sibling}}function mE(s,o){for(;ln!==null;){var d=ln;switch(d.tag){case 0:case 11:case 15:_a(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:au(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,ln=p;else e:for(d=s;ln!==null;){p=ln;var w=p.sibling,S=p.return;if(iE(p),p===d){ln=null;break e}if(w!==null){w.return=S,ln=w;break e}ln=S}}}var Q3={getCacheForType:function(s){var o=yn(Bt),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return yn(Bt).controller.signal}},Z3=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,$e=null,He=0,nt=0,ar=null,Ea=!1,Po=!1,qg=!1,Pi=0,Rt=0,ka=0,ws=0,zg=0,sr=0,Oo=0,_u=null,Vn=null,Hg=!1,$d=0,pE=0,qd=1/0,zd=null,Na=null,Qt=0,Aa=null,Mo=null,Oi=0,Fg=0,Gg=null,gE=null,Eu=0,Vg=null;function or(){return(tt&2)!==0&&He!==0?He&-He:z.T!==null?Qg():R1()}function yE(){if(sr===0)if((He&536870912)===0||Ge){var s=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),sr=s}else sr=536870912;return s=rr.current,s!==null&&(s.flags|=32),sr}function Kn(s,o,d){(s===ct&&(nt===2||nt===9)||s.cancelPendingCommit!==null)&&(Do(s,0),Ta(s,He,sr,!1)),Gl(s,d),((tt&2)===0||s!==ct)&&(s===ct&&((tt&2)===0&&(ws|=d),Rt===4&&Ta(s,He,sr,!1)),li(s))}function vE(s,o,d){if((tt&6)!==0)throw Error(r(327));var p=!d&&(o&127)===0&&(o&s.expiredLanes)===0||Fl(s,o),w=p?nL(s,o):Yg(s,o,!0),S=p;do{if(w===0){Po&&!p&&Ta(s,o,0,!1);break}else{if(d=s.current.alternate,S&&!eL(d)){w=Yg(s,o,!1),S=!1;continue}if(w===2){if(S=o,s.errorRecoveryDisabledLanes&S)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var M=s;w=_u;var B=M.current.memoizedState.isDehydrated;if(B&&(Do(M,T).flags|=256),T=Yg(M,T,!1),T!==2){if(qg&&!B){M.errorRecoveryDisabledLanes|=S,ws|=S,w=4;break e}S=Vn,Vn=w,S!==null&&(Vn===null?Vn=S:Vn.push.apply(Vn,S))}w=T}if(S=!1,w!==2)continue}}if(w===1){Do(s,0),Ta(s,o,0,!0);break}e:{switch(p=s,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ta(p,o,sr,!Ea);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=$d+300-Ye(),10<w)){if(Ta(p,o,sr,!Ea),Qc(p,0,!0)!==0)break e;Oi=o,p.timeoutHandle=JE(xE.bind(null,p,d,Vn,zd,Hg,o,sr,ws,Oo,Ea,S,"Throttled",-0,0),w);break e}xE(p,d,Vn,zd,Hg,o,sr,ws,Oo,Ea,S,null,-0,0)}}break}while(!0);li(s)}function xE(s,o,d,p,w,S,T,M,B,J,se,ce,X,ne){if(s.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},dE(o,S,ce);var _e=(S&62914560)===S?$d-Ye():(S&4194048)===S?pE-Ye():0;if(_e=UL(ce,_e),_e!==null){Oi=S,s.cancelPendingCommit=_e(AE.bind(null,s,o,S,d,p,w,T,M,B,se,ce,null,X,ne)),Ta(s,S,T,!J);return}}AE(s,o,S,d,p,w,T,M,B)}function eL(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var w=d[p],S=w.getSnapshot;w=w.value;try{if(!tr(S(),w))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ta(s,o,d,p){o&=~zg,o&=~ws,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var w=o;0<w;){var S=31-ae(w),T=1<<S;p[S]=-1,w&=~T}d!==0&&C1(s,d,o)}function Hd(){return(tt&6)===0?(ku(0),!1):!0}function Kg(){if($e!==null){if(nt===0)var s=$e.return;else s=$e,_i=fs=null,ug(s),No=null,ou=0,s=$e;for(;s!==null;)W_(s.alternate,s),s=s.return;$e=null}}function Do(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,bL(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Oi=0,Kg(),ct=s,$e=d=wi(s.current,null),He=o,nt=0,ar=null,Ea=!1,Po=Fl(s,o),qg=!1,Oo=sr=zg=ws=ka=Rt=0,Vn=_u=null,Hg=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var w=31-ae(p),S=1<<w;o|=s[w],p&=~S}return Pi=o,cd(),d}function bE(s,o){Ue=null,z.H=pu,o===ko||o===vd?(o=DS(),nt=3):o===Xp?(o=DS(),nt=4):nt=o===kg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ar=o,$e===null&&(Rt=1,Rd(s,Sr(o,s.current)))}function wE(){var s=rr.current;return s===null?!0:(He&4194048)===He?Nr===null:(He&62914560)===He||(He&536870912)!==0?s===Nr:!1}function SE(){var s=z.H;return z.H=pu,s===null?pu:s}function _E(){var s=z.A;return z.A=Q3,s}function Fd(){Rt=4,Ea||(He&4194048)!==He&&rr.current!==null||(Po=!0),(ka&134217727)===0&&(ws&134217727)===0||ct===null||Ta(ct,He,sr,!1)}function Yg(s,o,d){var p=tt;tt|=2;var w=SE(),S=_E();(ct!==s||He!==o)&&(zd=null,Do(s,o)),o=!1;var T=Rt;e:do try{if(nt!==0&&$e!==null){var M=$e,B=ar;switch(nt){case 8:Kg(),T=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(o=!0);var J=nt;if(nt=0,ar=null,Lo(s,M,B,J),d&&Po){T=0;break e}break;default:J=nt,nt=0,ar=null,Lo(s,M,B,J)}}tL(),T=Rt;break}catch(se){bE(s,se)}while(!0);return o&&s.shellSuspendCounter++,_i=fs=null,tt=p,z.H=w,z.A=S,$e===null&&(ct=null,He=0,cd()),T}function tL(){for(;$e!==null;)EE($e)}function nL(s,o){var d=tt;tt|=2;var p=SE(),w=_E();ct!==s||He!==o?(zd=null,qd=Ye()+500,Do(s,o)):Po=Fl(s,o);e:do try{if(nt!==0&&$e!==null){o=$e;var S=ar;t:switch(nt){case 1:nt=0,ar=null,Lo(s,o,S,1);break;case 2:case 9:if(OS(S)){nt=0,ar=null,kE(o);break}o=function(){nt!==2&&nt!==9||ct!==s||(nt=7),li(s)},S.then(o,o);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:OS(S)?(nt=0,ar=null,kE(o)):(nt=0,ar=null,Lo(s,o,S,7));break;case 5:var T=null;switch($e.tag){case 26:T=$e.memoizedState;case 5:case 27:var M=$e;if(T?ck(T):M.stateNode.complete){nt=0,ar=null;var B=M.sibling;if(B!==null)$e=B;else{var J=M.return;J!==null?($e=J,Gd(J)):$e=null}break t}}nt=0,ar=null,Lo(s,o,S,5);break;case 6:nt=0,ar=null,Lo(s,o,S,6);break;case 8:Kg(),Rt=6;break e;default:throw Error(r(462))}}rL();break}catch(se){bE(s,se)}while(!0);return _i=fs=null,z.H=p,z.A=w,tt=d,$e!==null?0:(ct=null,He=0,cd(),Rt)}function rL(){for(;$e!==null&&!gi();)EE($e)}function EE(s){var o=Y_(s.alternate,s,Pi);s.memoizedProps=s.pendingProps,o===null?Gd(s):$e=o}function kE(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=z_(d,o,o.pendingProps,o.type,void 0,He);break;case 11:o=z_(d,o,o.pendingProps,o.type.render,o.ref,He);break;case 5:ug(o);default:W_(d,o),o=$e=_S(o,Pi),o=Y_(d,o,Pi)}s.memoizedProps=s.pendingProps,o===null?Gd(s):$e=o}function Lo(s,o,d,p){_i=fs=null,ug(o),No=null,ou=0;var w=o.return;try{if(G3(s,w,o,d,He)){Rt=1,Rd(s,Sr(d,s.current)),$e=null;return}}catch(S){if(w!==null)throw $e=w,S;Rt=1,Rd(s,Sr(d,s.current)),$e=null;return}o.flags&32768?(Ge||p===1?s=!0:Po||(He&536870912)!==0?s=!1:(Ea=s=!0,(p===2||p===9||p===3||p===6)&&(p=rr.current,p!==null&&p.tag===13&&(p.flags|=16384))),NE(o,s)):Gd(o)}function Gd(s){var o=s;do{if((o.flags&32768)!==0){NE(o,Ea);return}s=o.return;var d=Y3(o.alternate,o,Pi);if(d!==null){$e=d;return}if(o=o.sibling,o!==null){$e=o;return}$e=o=s}while(o!==null);Rt===0&&(Rt=5)}function NE(s,o){do{var d=J3(s.alternate,s);if(d!==null){d.flags&=32767,$e=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){$e=s;return}$e=s=d}while(s!==null);Rt=6,$e=null}function AE(s,o,d,p,w,S,T,M,B){s.cancelPendingCommit=null;do Vd();while(Qt!==0);if((tt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=Dp,D4(s,d,S,T,M,B),s===ct&&($e=ct=null,He=0),Mo=o,Aa=s,Oi=d,Fg=S,Gg=w,gE=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,oL(da,function(){return RE(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=z.T,z.T=null,w=Z.p,Z.p=2,T=tt,tt|=4;try{W3(s,o,d)}finally{tt=T,Z.p=w,z.T=p}}Qt=1,TE(),CE(),jE()}}function TE(){if(Qt===1){Qt=0;var s=Aa,o=Mo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=z.T,z.T=null;var p=Z.p;Z.p=2;var w=tt;tt|=4;try{lE(o,s);var S=s0,T=mS(s.containerInfo),M=S.focusedElem,B=S.selectionRange;if(T!==M&&M&&M.ownerDocument&&hS(M.ownerDocument.documentElement,M)){if(B!==null&&Ip(M)){var J=B.start,se=B.end;if(se===void 0&&(se=J),"selectionStart"in M)M.selectionStart=J,M.selectionEnd=Math.min(se,M.value.length);else{var ce=M.ownerDocument||document,X=ce&&ce.defaultView||window;if(X.getSelection){var ne=X.getSelection(),_e=M.textContent.length,Re=Math.min(B.start,_e),lt=B.end===void 0?Re:Math.min(B.end,_e);!ne.extend&&Re>lt&&(T=lt,lt=Re,Re=T);var K=fS(M,Re),F=fS(M,lt);if(K&&F&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==F.node||ne.focusOffset!==F.offset)){var Y=ce.createRange();Y.setStart(K.node,K.offset),ne.removeAllRanges(),Re>lt?(ne.addRange(Y),ne.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),ne.addRange(Y))}}}}for(ce=[],ne=M;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var ue=ce[M];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}af=!!a0,s0=a0=null}finally{tt=w,Z.p=p,z.T=d}}s.current=o,Qt=2}}function CE(){if(Qt===2){Qt=0;var s=Aa,o=Mo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=z.T,z.T=null;var p=Z.p;Z.p=2;var w=tt;tt|=4;try{rE(s,o.alternate,o)}finally{tt=w,Z.p=p,z.T=d}}Qt=3}}function jE(){if(Qt===4||Qt===3){Qt=0,ri();var s=Aa,o=Mo,d=Oi,p=gE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Qt=5:(Qt=0,Mo=Aa=null,IE(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(Na=null),fp(d),o=o.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(rs,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=z.T,w=Z.p,Z.p=2,z.T=null;try{for(var S=s.onRecoverableError,T=0;T<p.length;T++){var M=p[T];S(M.value,{componentStack:M.stack})}}finally{z.T=o,Z.p=w}}(Oi&3)!==0&&Vd(),li(s),w=s.pendingLanes,(d&261930)!==0&&(w&42)!==0?s===Vg?Eu++:(Eu=0,Vg=s):Eu=0,ku(0)}}function IE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,au(o)))}function Vd(){return TE(),CE(),jE(),RE()}function RE(){if(Qt!==5)return!1;var s=Aa,o=Fg;Fg=0;var d=fp(Oi),p=z.T,w=Z.p;try{Z.p=32>d?32:d,z.T=null,d=Gg,Gg=null;var S=Aa,T=Oi;if(Qt=0,Mo=Aa=null,Oi=0,(tt&6)!==0)throw Error(r(331));var M=tt;if(tt|=4,hE(S.current),cE(S,S.current,T,d),tt=M,ku(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(rs,S)}catch{}return!0}finally{Z.p=w,z.T=p,IE(s,o)}}function PE(s,o,d){o=Sr(d,o),o=Eg(s.stateNode,o,2),s=ba(s,o,2),s!==null&&(Gl(s,2),li(s))}function rt(s,o,d){if(s.tag===3)PE(s,s,d);else for(;o!==null;){if(o.tag===3){PE(o,s,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))){s=Sr(d,s),d=O_(2),p=ba(o,d,2),p!==null&&(M_(d,p,o,s),Gl(p,2),li(p));break}}o=o.return}}function Jg(s,o,d){var p=s.pingCache;if(p===null){p=s.pingCache=new Z3;var w=new Set;p.set(o,w)}else w=p.get(o),w===void 0&&(w=new Set,p.set(o,w));w.has(d)||(qg=!0,w.add(d),s=iL.bind(null,s,o,d),o.then(s,s))}function iL(s,o,d){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,ct===s&&(He&d)===d&&(Rt===4||Rt===3&&(He&62914560)===He&&300>Ye()-$d?(tt&2)===0&&Do(s,0):zg|=d,Oo===He&&(Oo=0)),li(s)}function OE(s,o){o===0&&(o=T1()),s=us(s,o),s!==null&&(Gl(s,o),li(s))}function aL(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),OE(s,d)}function sL(s,o){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,w=s.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),OE(s,d)}function oL(s,o){return yr(s,o)}var Kd=null,Uo=null,Wg=!1,Yd=!1,Xg=!1,Ca=0;function li(s){s!==Uo&&s.next===null&&(Uo===null?Kd=Uo=s:Uo=Uo.next=s),Yd=!0,Wg||(Wg=!0,uL())}function ku(s,o){if(!Xg&&Yd){Xg=!0;do for(var d=!1,p=Kd;p!==null;){if(s!==0){var w=p.pendingLanes;if(w===0)var S=0;else{var T=p.suspendedLanes,M=p.pingedLanes;S=(1<<31-ae(42|s)+1)-1,S&=w&~(T&~M),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,UE(p,S))}else S=He,S=Qc(p,p===ct?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Fl(p,S)||(d=!0,UE(p,S));p=p.next}while(d);Xg=!1}}function lL(){ME()}function ME(){Yd=Wg=!1;var s=0;Ca!==0&&xL()&&(s=Ca);for(var o=Ye(),d=null,p=Kd;p!==null;){var w=p.next,S=DE(p,o);S===0?(p.next=null,d===null?Kd=w:d.next=w,w===null&&(Uo=d)):(d=p,(s!==0||(S&3)!==0)&&(Yd=!0)),p=w}Qt!==0&&Qt!==5||ku(s),Ca!==0&&(Ca=0)}function DE(s,o){for(var d=s.suspendedLanes,p=s.pingedLanes,w=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var T=31-ae(S),M=1<<T,B=w[T];B===-1?((M&d)===0||(M&p)!==0)&&(w[T]=M4(M,o)):B<=o&&(s.expiredLanes|=M),S&=~M}if(o=ct,d=He,d=Qc(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===o&&(nt===2||nt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&vr(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Fl(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(p!==null&&vr(p),fp(d)){case 2:case 8:d=Xt;break;case 32:d=da;break;case 268435456:d=ns;break;default:d=da}return p=LE.bind(null,s),d=yr(d,p),s.callbackPriority=o,s.callbackNode=d,o}return p!==null&&p!==null&&vr(p),s.callbackPriority=2,s.callbackNode=null,2}function LE(s,o){if(Qt!==0&&Qt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Vd()&&s.callbackNode!==d)return null;var p=He;return p=Qc(s,s===ct?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(vE(s,p,o),DE(s,Ye()),s.callbackNode!=null&&s.callbackNode===d?LE.bind(null,s):null)}function UE(s,o){if(Vd())return null;vE(s,o,!0)}function uL(){wL(function(){(tt&6)!==0?yr(At,lL):ME()})}function Qg(){if(Ca===0){var s=_o;s===0&&(s=an,an<<=1,(an&261888)===0&&(an=256)),Ca=s}return Ca}function BE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:nd(""+s)}function $E(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function cL(s,o,d,p,w){if(o==="submit"&&d&&d.stateNode===w){var S=BE((w[qn]||null).action),T=p.submitter;T&&(o=(o=T[qn]||null)?BE(o.formAction):T.getAttribute("formAction"),o!==null&&(S=o,T=null));var M=new sd("action","action",null,p,w);s.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ca!==0){var B=T?$E(w,T):new FormData(w);vg(d,{pending:!0,data:B,method:w.method,action:S},null,B)}}else typeof S=="function"&&(M.preventDefault(),B=T?$E(w,T):new FormData(w),vg(d,{pending:!0,data:B,method:w.method,action:S},S,B))},currentTarget:w}]})}}for(var Zg=0;Zg<Mp.length;Zg++){var e0=Mp[Zg],dL=e0.toLowerCase(),fL=e0[0].toUpperCase()+e0.slice(1);qr(dL,"on"+fL)}qr(yS,"onAnimationEnd"),qr(vS,"onAnimationIteration"),qr(xS,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(T3,"onTransitionRun"),qr(C3,"onTransitionStart"),qr(j3,"onTransitionCancel"),qr(bS,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function qE(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],w=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var T=p.length-1;0<=T;T--){var M=p[T],B=M.instance,J=M.currentTarget;if(M=M.listener,B!==S&&w.isPropagationStopped())break e;S=M,w.currentTarget=J;try{S(w)}catch(se){ud(se)}w.currentTarget=null,S=B}else for(T=0;T<p.length;T++){if(M=p[T],B=M.instance,J=M.currentTarget,M=M.listener,B!==S&&w.isPropagationStopped())break e;S=M,w.currentTarget=J;try{S(w)}catch(se){ud(se)}w.currentTarget=null,S=B}}}}function qe(s,o){var d=o[hp];d===void 0&&(d=o[hp]=new Set);var p=s+"__bubble";d.has(p)||(zE(o,s,2,!1),d.add(p))}function t0(s,o,d){var p=0;o&&(p|=4),zE(d,s,p,o)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function n0(s){if(!s[Jd]){s[Jd]=!0,M1.forEach(function(d){d!=="selectionchange"&&(hL.has(d)||t0(d,!1,s),t0(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Jd]||(o[Jd]=!0,t0("selectionchange",!1,o))}}function zE(s,o,d,p){switch(yk(o)){case 2:var w=qL;break;case 8:w=zL;break;default:w=y0}d=w.bind(null,o,d,s),w=void 0,!Sp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),p?w!==void 0?s.addEventListener(o,d,{capture:!0,passive:w}):s.addEventListener(o,d,!0):w!==void 0?s.addEventListener(o,d,{passive:w}):s.addEventListener(o,d,!1)}function r0(s,o,d,p,w){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var M=p.stateNode.containerInfo;if(M===w)break;if(T===4)for(T=p.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===w)return;T=T.return}for(;M!==null;){if(T=ao(M),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){p=S=T;continue e}M=M.parentNode}}p=p.return}K1(function(){var J=S,se=bp(d),ce=[];e:{var X=wS.get(s);if(X!==void 0){var ne=sd,_e=s;switch(s){case"keypress":if(id(d)===0)break e;case"keydown":case"keyup":ne=s3;break;case"focusin":_e="focus",ne=Np;break;case"focusout":_e="blur",ne=Np;break;case"beforeblur":case"afterblur":ne=Np;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Y4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=u3;break;case yS:case vS:case xS:ne=X4;break;case bS:ne=d3;break;case"scroll":case"scrollend":ne=V4;break;case"wheel":ne=h3;break;case"copy":case"cut":case"paste":ne=Z4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Q1;break;case"toggle":case"beforetoggle":ne=p3}var Re=(o&4)!==0,lt=!Re&&(s==="scroll"||s==="scrollend"),K=Re?X!==null?X+"Capture":null:X;Re=[];for(var F=J,Y;F!==null;){var ue=F;if(Y=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Y===null||K===null||(ue=Yl(F,K),ue!=null&&Re.push(Au(F,ue,Y))),lt)break;F=F.return}0<Re.length&&(X=new ne(X,_e,null,d,se),ce.push({event:X,listeners:Re}))}}if((o&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",X&&d!==xp&&(_e=d.relatedTarget||d.fromElement)&&(ao(_e)||_e[io]))break e;if((ne||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(_e=d.relatedTarget||d.toElement,ne=J,_e=_e?ao(_e):null,_e!==null&&(lt=a(_e),Re=_e.tag,_e!==lt||Re!==5&&Re!==27&&Re!==6)&&(_e=null)):(ne=null,_e=J),ne!==_e)){if(Re=W1,ue="onMouseLeave",K="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Q1,ue="onPointerLeave",K="onPointerEnter",F="pointer"),lt=ne==null?X:Kl(ne),Y=_e==null?X:Kl(_e),X=new Re(ue,F+"leave",ne,d,se),X.target=lt,X.relatedTarget=Y,ue=null,ao(se)===J&&(Re=new Re(K,F+"enter",_e,d,se),Re.target=Y,Re.relatedTarget=lt,ue=Re),lt=ue,ne&&_e)t:{for(Re=mL,K=ne,F=_e,Y=0,ue=K;ue;ue=Re(ue))Y++;ue=0;for(var je=F;je;je=Re(je))ue++;for(;0<Y-ue;)K=Re(K),Y--;for(;0<ue-Y;)F=Re(F),ue--;for(;Y--;){if(K===F||F!==null&&K===F.alternate){Re=K;break t}K=Re(K),F=Re(F)}Re=null}else Re=null;ne!==null&&HE(ce,X,ne,Re,!1),_e!==null&&lt!==null&&HE(ce,lt,_e,Re,!0)}}e:{if(X=J?Kl(J):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var We=sS;else if(iS(X))if(oS)We=k3;else{We=_3;var Ne=S3}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?J&&vp(J.elementType)&&(We=sS):We=E3;if(We&&(We=We(s,J))){aS(ce,We,d,se);break e}Ne&&Ne(s,X,J),s==="focusout"&&J&&X.type==="number"&&J.memoizedProps.value!=null&&yp(X,"number",X.value)}switch(Ne=J?Kl(J):window,s){case"focusin":(iS(Ne)||Ne.contentEditable==="true")&&(po=Ne,Rp=J,nu=null);break;case"focusout":nu=Rp=po=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,pS(ce,d,se);break;case"selectionchange":if(A3)break;case"keydown":case"keyup":pS(ce,d,se)}var Be;if(Tp)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else mo?nS(s,d)&&(Fe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(Z1&&d.locale!=="ko"&&(mo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&mo&&(Be=Y1()):(ha=se,_p="value"in ha?ha.value:ha.textContent,mo=!0)),Ne=Wd(J,Fe),0<Ne.length&&(Fe=new X1(Fe,s,null,d,se),ce.push({event:Fe,listeners:Ne}),Be?Fe.data=Be:(Be=rS(d),Be!==null&&(Fe.data=Be)))),(Be=y3?v3(s,d):x3(s,d))&&(Fe=Wd(J,"onBeforeInput"),0<Fe.length&&(Ne=new X1("onBeforeInput","beforeinput",null,d,se),ce.push({event:Ne,listeners:Fe}),Ne.data=Be)),cL(ce,s,J,d,se)}qE(ce,o)})}function Au(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Wd(s,o){for(var d=o+"Capture",p=[];s!==null;){var w=s,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Yl(s,d),w!=null&&p.unshift(Au(s,w,S)),w=Yl(s,o),w!=null&&p.push(Au(s,w,S))),s.tag===3)return p;s=s.return}return[]}function mL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function HE(s,o,d,p,w){for(var S=o._reactName,T=[];d!==null&&d!==p;){var M=d,B=M.alternate,J=M.stateNode;if(M=M.tag,B!==null&&B===p)break;M!==5&&M!==26&&M!==27||J===null||(B=J,w?(J=Yl(d,S),J!=null&&T.unshift(Au(d,J,B))):w||(J=Yl(d,S),J!=null&&T.push(Au(d,J,B)))),d=d.return}T.length!==0&&s.push({event:o,listeners:T})}var pL=/\r\n?/g,gL=/\u0000|\uFFFD/g;function FE(s){return(typeof s=="string"?s:""+s).replace(pL,`
`).replace(gL,"")}function GE(s,o){return o=FE(o),FE(s)===o}function ot(s,o,d,p,w,S){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||co(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&co(s,""+p);break;case"className":ed(s,"class",p);break;case"tabIndex":ed(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ed(s,d,p);break;case"style":G1(s,p,S);break;case"data":if(o!=="object"){ed(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=nd(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(o!=="input"&&ot(s,o,"name",w.name,w,null),ot(s,o,"formEncType",w.formEncType,w,null),ot(s,o,"formMethod",w.formMethod,w,null),ot(s,o,"formTarget",w.formTarget,w,null)):(ot(s,o,"encType",w.encType,w,null),ot(s,o,"method",w.method,w,null),ot(s,o,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=nd(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=xi);break;case"onScroll":p!=null&&qe("scroll",s);break;case"onScrollEnd":p!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=nd(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":qe("beforetoggle",s),qe("toggle",s),Zc(s,"popover",p);break;case"xlinkActuate":vi(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vi(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vi(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vi(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vi(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vi(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vi(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zc(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=F4.get(d)||d,Zc(s,d,p))}}function i0(s,o,d,p,w,S){switch(d){case"style":G1(s,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof p=="string"?co(s,p):(typeof p=="number"||typeof p=="bigint")&&co(s,""+p);break;case"onScroll":p!=null&&qe("scroll",s);break;case"onScrollEnd":p!=null&&qe("scrollend",s);break;case"onClick":p!=null&&(s.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!D1.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),o=d.slice(2,w?d.length-7:void 0),S=s[qn]||null,S=S!=null?S[d]:null,typeof S=="function"&&s.removeEventListener(o,S,w),typeof p=="function")){typeof S!="function"&&S!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,p,w);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):Zc(s,d,p)}}}function xn(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var p=!1,w=!1,S;for(S in d)if(d.hasOwnProperty(S)){var T=d[S];if(T!=null)switch(S){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ot(s,o,S,T,d,null)}}w&&ot(s,o,"srcSet",d.srcSet,d,null),p&&ot(s,o,"src",d.src,d,null);return;case"input":qe("invalid",s);var M=S=T=w=null,B=null,J=null;for(p in d)if(d.hasOwnProperty(p)){var se=d[p];if(se!=null)switch(p){case"name":w=se;break;case"type":T=se;break;case"checked":B=se;break;case"defaultChecked":J=se;break;case"value":S=se;break;case"defaultValue":M=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:ot(s,o,p,se,d,null)}}q1(s,S,M,B,J,T,w,!1);return;case"select":qe("invalid",s),p=T=S=null;for(w in d)if(d.hasOwnProperty(w)&&(M=d[w],M!=null))switch(w){case"value":S=M;break;case"defaultValue":T=M;break;case"multiple":p=M;default:ot(s,o,w,M,d,null)}o=S,d=T,s.multiple=!!p,o!=null?uo(s,!!p,o,!1):d!=null&&uo(s,!!p,d,!0);return;case"textarea":qe("invalid",s),S=w=p=null;for(T in d)if(d.hasOwnProperty(T)&&(M=d[T],M!=null))switch(T){case"value":p=M;break;case"defaultValue":w=M;break;case"children":S=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:ot(s,o,T,M,d,null)}H1(s,p,w,S);return;case"option":for(B in d)if(d.hasOwnProperty(B)&&(p=d[B],p!=null))switch(B){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ot(s,o,B,p,d,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(p=0;p<Nu.length;p++)qe(Nu[p],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(p=d[J],p!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ot(s,o,J,p,d,null)}return;default:if(vp(o)){for(se in d)d.hasOwnProperty(se)&&(p=d[se],p!==void 0&&i0(s,o,se,p,d,void 0));return}}for(M in d)d.hasOwnProperty(M)&&(p=d[M],p!=null&&ot(s,o,M,p,d,null))}function yL(s,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,T=null,M=null,B=null,J=null,se=null;for(ne in d){var ce=d[ne];if(d.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":B=ce;default:p.hasOwnProperty(ne)||ot(s,o,ne,null,p,ce)}}for(var X in p){var ne=p[X];if(ce=d[X],p.hasOwnProperty(X)&&(ne!=null||ce!=null))switch(X){case"type":S=ne;break;case"name":w=ne;break;case"checked":J=ne;break;case"defaultChecked":se=ne;break;case"value":T=ne;break;case"defaultValue":M=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==ce&&ot(s,o,X,ne,p,ce)}}gp(s,T,M,B,J,se,S,w);return;case"select":ne=T=M=X=null;for(S in d)if(B=d[S],d.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":ne=B;default:p.hasOwnProperty(S)||ot(s,o,S,null,p,B)}for(w in p)if(S=p[w],B=d[w],p.hasOwnProperty(w)&&(S!=null||B!=null))switch(w){case"value":X=S;break;case"defaultValue":M=S;break;case"multiple":T=S;default:S!==B&&ot(s,o,w,S,p,B)}o=M,d=T,p=ne,X!=null?uo(s,!!d,X,!1):!!p!=!!d&&(o!=null?uo(s,!!d,o,!0):uo(s,!!d,d?[]:"",!1));return;case"textarea":ne=X=null;for(M in d)if(w=d[M],d.hasOwnProperty(M)&&w!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ot(s,o,M,null,p,w)}for(T in p)if(w=p[T],S=d[T],p.hasOwnProperty(T)&&(w!=null||S!=null))switch(T){case"value":X=w;break;case"defaultValue":ne=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&ot(s,o,T,w,p,S)}z1(s,X,ne);return;case"option":for(var _e in d)if(X=d[_e],d.hasOwnProperty(_e)&&X!=null&&!p.hasOwnProperty(_e))switch(_e){case"selected":s.selected=!1;break;default:ot(s,o,_e,null,p,X)}for(B in p)if(X=p[B],ne=d[B],p.hasOwnProperty(B)&&X!==ne&&(X!=null||ne!=null))switch(B){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ot(s,o,B,X,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in d)X=d[Re],d.hasOwnProperty(Re)&&X!=null&&!p.hasOwnProperty(Re)&&ot(s,o,Re,null,p,X);for(J in p)if(X=p[J],ne=d[J],p.hasOwnProperty(J)&&X!==ne&&(X!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:ot(s,o,J,X,p,ne)}return;default:if(vp(o)){for(var lt in d)X=d[lt],d.hasOwnProperty(lt)&&X!==void 0&&!p.hasOwnProperty(lt)&&i0(s,o,lt,void 0,p,X);for(se in p)X=p[se],ne=d[se],!p.hasOwnProperty(se)||X===ne||X===void 0&&ne===void 0||i0(s,o,se,X,p,ne);return}}for(var K in d)X=d[K],d.hasOwnProperty(K)&&X!=null&&!p.hasOwnProperty(K)&&ot(s,o,K,null,p,X);for(ce in p)X=p[ce],ne=d[ce],!p.hasOwnProperty(ce)||X===ne||X==null&&ne==null||ot(s,o,ce,X,p,ne)}function VE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var w=d[p],S=w.transferSize,T=w.initiatorType,M=w.duration;if(S&&M&&VE(T)){for(T=0,M=w.responseEnd,p+=1;p<d.length;p++){var B=d[p],J=B.startTime;if(J>M)break;var se=B.transferSize,ce=B.initiatorType;se&&VE(ce)&&(B=B.responseEnd,T+=se*(B<M?1:(M-J)/(B-J)))}if(--p,o+=8*(S+T)/(w.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var a0=null,s0=null;function Xd(s){return s.nodeType===9?s:s.ownerDocument}function KE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function o0(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var l0=null;function xL(){var s=window.event;return s&&s.type==="popstate"?s===l0?!1:(l0=s,!0):(l0=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,bL=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,wL=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(s){return WE.resolve(null).then(s).catch(SL)}:JE;function SL(s){setTimeout(function(){throw s})}function ja(s){return s==="head"}function XE(s,o){var d=o,p=0;do{var w=d.nextSibling;if(s.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(w),zo(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Tu(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Tu(d);for(var S=d.firstChild;S;){var T=S.nextSibling,M=S.nodeName;S[Vl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=T}}else d==="body"&&Tu(s.ownerDocument.body);d=w}while(d);zo(o)}function QE(s,o){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function u0(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":u0(d),mp(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function _L(s,o,d,p){for(;s.nodeType===1;){var w=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Vl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Ar(s.nextSibling),s===null)break}return null}function EL(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Ar(s.nextSibling),s===null))return null;return s}function ZE(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ar(s.nextSibling),s===null))return null;return s}function c0(s){return s.data==="$?"||s.data==="$~"}function d0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kL(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Ar(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var f0=null;function ek(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Ar(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function tk(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function nk(s,o,d){switch(o=Xd(d),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Tu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);mp(s)}var Tr=new Map,rk=new Set;function Qd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Mi=Z.d;Z.d={f:NL,r:AL,D:TL,C:CL,L:jL,m:IL,X:PL,S:RL,M:OL};function NL(){var s=Mi.f(),o=Hd();return s||o}function AL(s){var o=so(s);o!==null&&o.tag===5&&o.type==="form"?b_(o):Mi.r(s)}var Bo=typeof document>"u"?null:document;function ik(s,o,d){var p=Bo;if(p&&typeof o=="string"&&o){var w=br(o);w='link[rel="'+s+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),rk.has(w)||(rk.add(w),s={rel:s,crossOrigin:d,href:o},p.querySelector(w)===null&&(o=p.createElement("link"),xn(o,"link",s),on(o),p.head.appendChild(o)))}}function TL(s){Mi.D(s),ik("dns-prefetch",s,null)}function CL(s,o){Mi.C(s,o),ik("preconnect",s,o)}function jL(s,o,d){Mi.L(s,o,d);var p=Bo;if(p&&s&&o){var w='link[rel="preload"][as="'+br(o)+'"]';o==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+br(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+br(d.imageSizes)+'"]')):w+='[href="'+br(s)+'"]';var S=w;switch(o){case"style":S=$o(s);break;case"script":S=qo(s)}Tr.has(S)||(s=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),Tr.set(S,s),p.querySelector(w)!==null||o==="style"&&p.querySelector(Cu(S))||o==="script"&&p.querySelector(ju(S))||(o=p.createElement("link"),xn(o,"link",s),on(o),p.head.appendChild(o)))}}function IL(s,o){Mi.m(s,o);var d=Bo;if(d&&s){var p=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+br(p)+'"][href="'+br(s)+'"]',S=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=qo(s)}if(!Tr.has(S)&&(s=g({rel:"modulepreload",href:s},o),Tr.set(S,s),d.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ju(S)))return}p=d.createElement("link"),xn(p,"link",s),on(p),d.head.appendChild(p)}}}function RL(s,o,d){Mi.S(s,o,d);var p=Bo;if(p&&s){var w=oo(p).hoistableStyles,S=$o(s);o=o||"default";var T=w.get(S);if(!T){var M={loading:0,preload:null};if(T=p.querySelector(Cu(S)))M.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},d),(d=Tr.get(S))&&h0(s,d);var B=T=p.createElement("link");on(B),xn(B,"link",s),B._p=new Promise(function(J,se){B.onload=J,B.onerror=se}),B.addEventListener("load",function(){M.loading|=1}),B.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Zd(T,o,p)}T={type:"stylesheet",instance:T,count:1,state:M},w.set(S,T)}}}function PL(s,o){Mi.X(s,o);var d=Bo;if(d&&s){var p=oo(d).hoistableScripts,w=qo(s),S=p.get(w);S||(S=d.querySelector(ju(w)),S||(s=g({src:s,async:!0},o),(o=Tr.get(w))&&m0(s,o),S=d.createElement("script"),on(S),xn(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function OL(s,o){Mi.M(s,o);var d=Bo;if(d&&s){var p=oo(d).hoistableScripts,w=qo(s),S=p.get(w);S||(S=d.querySelector(ju(w)),S||(s=g({src:s,async:!0,type:"module"},o),(o=Tr.get(w))&&m0(s,o),S=d.createElement("script"),on(S),xn(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function ak(s,o,d,p){var w=(w=ye.current)?Qd(w):null;if(!w)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=$o(d.href),d=oo(w).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=$o(d.href);var S=oo(w).hoistableStyles,T=S.get(s);if(T||(w=w.ownerDocument||w,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,T),(S=w.querySelector(Cu(s)))&&!S._p&&(T.instance=S,T.state.loading=5),Tr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Tr.set(s,d),S||ML(w,s,d,T.state))),o&&p===null)throw Error(r(528,""));return T}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=qo(d),d=oo(w).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function $o(s){return'href="'+br(s)+'"'}function Cu(s){return'link[rel="stylesheet"]['+s+"]"}function sk(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function ML(s,o,d,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),xn(o,"link",d),on(o),s.head.appendChild(o))}function qo(s){return'[src="'+br(s)+'"]'}function ju(s){return"script[async]"+s}function ok(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+br(d.href)+'"]');if(p)return o.instance=p,on(p),p;var w=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),on(p),xn(p,"style",w),Zd(p,d.precedence,s),o.instance=p;case"stylesheet":w=$o(d.href);var S=s.querySelector(Cu(w));if(S)return o.state.loading|=4,o.instance=S,on(S),S;p=sk(d),(w=Tr.get(w))&&h0(p,w),S=(s.ownerDocument||s).createElement("link"),on(S);var T=S;return T._p=new Promise(function(M,B){T.onload=M,T.onerror=B}),xn(S,"link",p),o.state.loading|=4,Zd(S,d.precedence,s),o.instance=S;case"script":return S=qo(d.src),(w=s.querySelector(ju(S)))?(o.instance=w,on(w),w):(p=d,(w=Tr.get(S))&&(p=g({},d),m0(p,w)),s=s.ownerDocument||s,w=s.createElement("script"),on(w),xn(w,"link",p),s.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Zd(p,d.precedence,s));return o.instance}function Zd(s,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,S=w,T=0;T<p.length;T++){var M=p[T];if(M.dataset.precedence===o)S=M;else if(S!==w)break}S?S.parentNode.insertBefore(s,S.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function h0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function m0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ef=null;function lk(s,o,d){if(ef===null){var p=new Map,w=ef=new Map;w.set(d,p)}else w=ef,p=w.get(d),p||(p=new Map,w.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),w=0;w<d.length;w++){var S=d[w];if(!(S[Vl]||S[pn]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(o)||"";T=s+T;var M=p.get(T);M?M.push(S):p.set(T,[S])}}return p}function uk(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function DL(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ck(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LL(s,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=$o(p.href),S=o.querySelector(Cu(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=tf.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=S,on(S);return}S=o.ownerDocument||o,p=sk(p),(w=Tr.get(w))&&h0(p,w),S=S.createElement("link"),on(S);var T=S;T._p=new Promise(function(M,B){T.onload=M,T.onerror=B}),xn(S,"link",p),d.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=tf.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var p0=0;function UL(s,o){return s.stylesheets&&s.count===0&&rf(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&rf(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+o);0<s.imgBytes&&p0===0&&(p0=62500*vL());var w=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&rf(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>p0?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var nf=null;function rf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,nf=new Map,o.forEach(BL,s),nf=null,tf.call(s))}function BL(s,o){if(!(o.state.loading&4)){var d=nf.get(s);if(d)var p=d.get(null);else{d=new Map,nf.set(s,d);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var T=w[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),p=T)}p&&d.set(null,p)}w=o.instance,T=w.getAttribute("data-precedence"),S=d.get(T)||p,S===p&&d.set(null,w),d.set(T,w),this.count++,p=tf.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),S?S.parentNode.insertBefore(w,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),o.state.loading|=4}}var Iu={$$typeof:j,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function $L(s,o,d,p,w,S,T,M,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cp(0),this.hiddenUpdates=cp(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function dk(s,o,d,p,w,S,T,M,B,J,se,ce){return s=new $L(s,o,d,T,B,J,se,ce,M),o=1,S===!0&&(o|=24),S=nr(3,null,null,o),s.current=S,S.stateNode=s,o=Yp(),o.refCount++,s.pooledCache=o,o.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:o},Qp(S),s}function fk(s){return s?(s=vo,s):vo}function hk(s,o,d,p,w,S){w=fk(w),p.context===null?p.context=w:p.pendingContext=w,p=xa(o),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=ba(s,p,o),d!==null&&(Kn(d,s,o),uu(d,s,o))}function mk(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function g0(s,o){mk(s,o),(s=s.alternate)&&mk(s,o)}function pk(s){if(s.tag===13||s.tag===31){var o=us(s,67108864);o!==null&&Kn(o,s,67108864),g0(s,67108864)}}function gk(s){if(s.tag===13||s.tag===31){var o=or();o=dp(o);var d=us(s,o);d!==null&&Kn(d,s,o),g0(s,o)}}var af=!0;function qL(s,o,d,p){var w=z.T;z.T=null;var S=Z.p;try{Z.p=2,y0(s,o,d,p)}finally{Z.p=S,z.T=w}}function zL(s,o,d,p){var w=z.T;z.T=null;var S=Z.p;try{Z.p=8,y0(s,o,d,p)}finally{Z.p=S,z.T=w}}function y0(s,o,d,p){if(af){var w=v0(p);if(w===null)r0(s,o,p,sf,d),vk(s,p);else if(FL(w,s,o,d,p))p.stopPropagation();else if(vk(s,p),o&4&&-1<HL.indexOf(s)){for(;w!==null;){var S=so(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=is(S.pendingLanes);if(T!==0){var M=S;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var B=1<<31-ae(T);M.entanglements[1]|=B,T&=~B}li(S),(tt&6)===0&&(qd=Ye()+500,ku(0))}}break;case 31:case 13:M=us(S,2),M!==null&&Kn(M,S,2),Hd(),g0(S,2)}if(S=v0(p),S===null&&r0(s,o,p,sf,d),S===w)break;w=S}w!==null&&p.stopPropagation()}else r0(s,o,p,null,d)}}function v0(s){return s=bp(s),x0(s)}var sf=null;function x0(s){if(sf=null,s=ao(s),s!==null){var o=a(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=l(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return sf=s,null}function yk(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case At:return 2;case Xt:return 8;case da:case Xc:return 32;case ns:return 268435456;default:return 32}default:return 32}}var b0=!1,Ia=null,Ra=null,Pa=null,Ru=new Map,Pu=new Map,Oa=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vk(s,o){switch(s){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Ru.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(o.pointerId)}}function Ou(s,o,d,p,w,S){return s===null||s.nativeEvent!==S?(s={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[w]},o!==null&&(o=so(o),o!==null&&pk(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function FL(s,o,d,p,w){switch(o){case"focusin":return Ia=Ou(Ia,s,o,d,p,w),!0;case"dragenter":return Ra=Ou(Ra,s,o,d,p,w),!0;case"mouseover":return Pa=Ou(Pa,s,o,d,p,w),!0;case"pointerover":var S=w.pointerId;return Ru.set(S,Ou(Ru.get(S)||null,s,o,d,p,w)),!0;case"gotpointercapture":return S=w.pointerId,Pu.set(S,Ou(Pu.get(S)||null,s,o,d,p,w)),!0}return!1}function xk(s){var o=ao(s.target);if(o!==null){var d=a(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){s.blockedOn=o,P1(s.priority,function(){gk(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,P1(s.priority,function(){gk(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function of(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=v0(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);xp=p,d.target.dispatchEvent(p),xp=null}else return o=so(d),o!==null&&pk(o),s.blockedOn=d,!1;o.shift()}return!0}function bk(s,o,d){of(s)&&d.delete(o)}function GL(){b0=!1,Ia!==null&&of(Ia)&&(Ia=null),Ra!==null&&of(Ra)&&(Ra=null),Pa!==null&&of(Pa)&&(Pa=null),Ru.forEach(bk),Pu.forEach(bk)}function lf(s,o){s.blockedOn===o&&(s.blockedOn=null,b0||(b0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GL)))}var uf=null;function wk(s){uf!==s&&(uf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uf===s&&(uf=null);for(var o=0;o<s.length;o+=3){var d=s[o],p=s[o+1],w=s[o+2];if(typeof p!="function"){if(x0(p||d)===null)continue;break}var S=so(d);S!==null&&(s.splice(o,3),o-=3,vg(S,{pending:!0,data:w,method:d.method,action:p},p,w))}}))}function zo(s){function o(B){return lf(B,s)}Ia!==null&&lf(Ia,s),Ra!==null&&lf(Ra,s),Pa!==null&&lf(Pa,s),Ru.forEach(o),Pu.forEach(o);for(var d=0;d<Oa.length;d++){var p=Oa[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Oa.length&&(d=Oa[0],d.blockedOn===null);)xk(d),d.blockedOn===null&&Oa.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var w=d[p],S=d[p+1],T=w[qn]||null;if(typeof S=="function")T||wk(d);else if(T){var M=null;if(S&&S.hasAttribute("formAction")){if(w=S,T=S[qn]||null)M=T.formAction;else if(x0(w)!==null)continue}else M=T.action;typeof M=="function"?d[p+1]=M:(d.splice(p,3),p-=3),wk(d)}}}function Sk(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return w=T})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function w0(s){this._internalRoot=s}cf.prototype.render=w0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=or();hk(d,p,s,o,null,null)},cf.prototype.unmount=w0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;hk(s.current,2,null,s,null,null),Hd(),o[io]=null}};function cf(s){this._internalRoot=s}cf.prototype.unstable_scheduleHydration=function(s){if(s){var o=R1();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Oa.length&&o!==0&&o<Oa[d].priority;d++);Oa.splice(d,0,s),d===0&&xk(s)}};var _k=t.version;if(_k!=="19.2.1")throw Error(r(527,_k,"19.2.1"));Z.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var VL={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{rs=df.inject(VL),Rn=df}catch{}}return Du.createRoot=function(s,o){if(!i(s))throw Error(r(299));var d=!1,p="",w=j_,S=I_,T=R_;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=dk(s,1,!1,null,null,d,p,null,w,S,T,Sk),s[io]=o.current,n0(s),new w0(o)},Du.hydrateRoot=function(s,o,d){if(!i(s))throw Error(r(299));var p=!1,w="",S=j_,T=I_,M=R_,B=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError),d.formState!==void 0&&(B=d.formState)),o=dk(s,1,!0,o,d??null,p,w,B,S,T,M,Sk),o.context=fk(null),d=o.current,p=or(),p=dp(p),w=xa(p),w.callback=null,ba(d,w,p),d=p,o.current.lanes=d,Gl(o,d),li(o),s[io]=o.current,n0(s),new cf(o)},Du.version="19.2.1",Du}var Pk;function iU(){if(Pk)return k0.exports;Pk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),k0.exports=rU(),k0.exports}var aU=iU();const sU=ei(aU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ok=e=>{const t=lU(e);return t.charAt(0).toUpperCase()+t.slice(1)},bI=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),uU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>N.createElement("svg",{ref:f,...cU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bI("lucide",i),...!a&&!uU(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>N.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(dU,{ref:a,iconNode:t,className:bI(`lucide-${oU(Ok(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Ok(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hU=me("activity",fU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],$f=me("archive",mU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dl=me("arrow-right",pU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wI=me("ban",gU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Hs=me("banknote",yU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xv=me("bell",vU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],bU=me("bike",xU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],SU=me("book-open",wU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Wr=me("box",_U);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],kU=me("brain-circuit",EU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ga=me("briefcase",NU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Zf=me("building",AU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Mk=me("calculator",TU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],jU=me("calendar-plus",CU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],RU=me("calendar-range",IU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],Dk=me("calendar-x",PU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fi=me("calendar",OU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],SI=me("camera",MU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LU=me("chart-column",DU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],BU=me("chart-line",UU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qU=me("chart-pie",$U);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fi=me("check",zU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],_I=me("chef-hat",HU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],EI=me("chevron-down",FU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tb=me("chevron-left",GU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nb=me("chevron-right",VU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kI=me("chevron-up",KU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JU=me("circle-alert",YU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xr=me("circle-check",WU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QU=me("circle-question-mark",XU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e6=me("circle-x",ZU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rb=me("circle",t6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],r6=me("clipboard-check",n6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],NI=me("clipboard-list",i6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yt=me("clock",a6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],AI=me("command",s6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],l6=me("copy",o6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],hr=me("credit-card",u6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sc=me("crown",c6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zs=me("dollar-sign",d6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bv=me("eye-off",f6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wv=me("eye",h6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],p6=me("file-exclamation-point",m6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sv=me("file-text",g6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],v6=me("flag",y6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],TI=me("folder-open",x6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],w6=me("funnel",b6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],_6=me("gavel",S6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],k6=me("hammer",E6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],A6=me("hard-hat",N6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Ls=me("hash",T6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],j6=me("heart",C6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fl=me("history",I6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Lk=me("image",R6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O6=me("info",P6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],CI=me("key",M6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Uk=me("layout-dashboard",D6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],U6=me("link",L6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jI=me("loader-circle",B6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],om=me("lock",$6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z6=me("log-out",q6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],F6=me("mail",H6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],II=me("map-pin",G6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],K6=me("medal",V6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J6=me("message-circle-question-mark",Y6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_v=me("message-square",W6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Q6=me("moon",X6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],eB=me("octagon-alert",Z6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],nB=me("paperclip",tB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iB=me("pen",rB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],RI=me("pencil",aB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ib=me("phone",sB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],lB=me("play",oB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pr=me("plus",uB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],lm=me("refresh-ccw",cB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fB=me("refresh-cw",dB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ab=me("save",hB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],pB=me("scroll-text",mB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yB=me("search",gB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xB=me("send",vB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PI=me("settings",bB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ev=me("shield-check",wB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hl=me("shield",SB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],OI=me("shopping-bag",_B);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Va=me("sparkles",EB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],NB=me("sun",kB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],MI=me("tag",AB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],CB=me("text-align-start",TB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],IB=me("thumbs-down",jB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],PB=me("thumbs-up",RB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],En=me("trash-2",OB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sb=me("trending-down",MB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nl=me("trending-up",DB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ha=me("triangle-alert",LB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=me("user-check",UB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DI=me("user-cog",BB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fn=me("user",$B);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],um=me("users",qB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Dr=me("wallet",zB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eo=me("x",HB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kv=me("zap",FB);var ve=(e=>(e.DASHBOARD="DASHBOARD",e.EMPLOYEES="EMPLOYEES",e.OVERTIME="OVERTIME",e.SANCTIONS="SANCTIONS",e.FILES="FILES",e.CASH_REGISTER="CASH_REGISTER",e.ADMIN_HUB="ADMIN_HUB",e.PAYROLL="PAYROLL",e.USERS="USERS",e.PRODUCTS="PRODUCTS",e.SETTINGS="SETTINGS",e.FINANCE="FINANCE",e.WALLET="WALLET",e.ROYALTIES="ROYALTIES",e.STATISTICS="STATISTICS",e.AI_REPORT="AI_REPORT",e.FORUM="FORUM",e.INVENTORY="INVENTORY",e.AI_FOCUS="AI_FOCUS",e.MEMBER_HOME="MEMBER_HOME",e.MEMBER_CALENDAR="MEMBER_CALENDAR",e.MEMBER_TASKS="MEMBER_TASKS",e.MEMBER_FILE="MEMBER_FILE",e.MEMBER_FORUM="MEMBER_FORUM",e))(ve||{});const Di=new(window.AudioContext||window.webkitAudioContext),Da=(e,t,n,r=.1)=>{Di.state==="suspended"&&Di.resume();const i=Di.createOscillator(),a=Di.createGain();i.type=t,i.frequency.setValueAtTime(e,Di.currentTime),a.gain.setValueAtTime(r,Di.currentTime),a.gain.exponentialRampToValueAtTime(.001,Di.currentTime+n),i.connect(a),a.connect(Di.destination),i.start(),i.stop(Di.currentTime+n)},Ve=e=>{try{switch(e){case"CLICK":Da(400,"sine",.1,.05);break;case"HOVER":Da(200,"sine",.05,.01);break;case"SUCCESS":Da(500,"sine",.2,.1),setTimeout(()=>Da(800,"sine",.3,.1),100);break;case"ERROR":Da(150,"triangle",.2,.1);break;case"LOGIN":Da(300,"sine",.4,.1),setTimeout(()=>Da(400,"sine",.4,.1),100),setTimeout(()=>Da(600,"sine",.8,.1),200);break}}catch{}},Bk=()=>{const[e,t]=N.useState(new Date);return N.useEffect(()=>{const n=setInterval(()=>t(new Date),1e3);return()=>clearInterval(n)},[]),c.jsxs("div",{className:"px-6 py-4 mb-2 flex flex-col items-center justify-center border-t border-gray-100 dark:border-white/5 mx-4",children:[c.jsx("span",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white tracking-tighter leading-none",children:e.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})}),c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-sushi-gold font-bold mt-1",children:e.toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"short"})})]})},GB=({currentView:e,setView:t,currentUser:n,currentMember:r,onLogout:i,isDarkMode:a,toggleTheme:l,roleAccess:u})=>{if(r){const h=r.role||"COCINA",m=u[h]||[],g=m.includes(ve.INVENTORY),v=m.includes(ve.CASH_REGISTER),b=[{id:ve.MEMBER_HOME,label:"Mi Panel",icon:Uk,visible:!0,domId:"mem-home"},{id:ve.MEMBER_FORUM,label:"Muro Social",icon:_v,visible:!0,domId:"mem-forum"},{id:ve.MEMBER_TASKS,label:"Mi Check-List",icon:r6,visible:!0,domId:"mem-tasks"},{id:ve.MEMBER_CALENDAR,label:"Mi Calendario",icon:RU,visible:!0,domId:"mem-calendar"},{id:ve.MEMBER_FILE,label:"Mi Expediente",icon:fn,visible:!0,domId:"mem-file"},{id:ve.INVENTORY,label:"Inventario Cocina",icon:Wr,visible:g,domId:"mem-inv"},{id:ve.CASH_REGISTER,label:"Caja / Movimientos",icon:Dr,visible:v,domId:"mem-cash"}];return c.jsxs("div",{className:"w-64 bg-white dark:bg-sushi-dark border-r border-gray-200 dark:border-white/10 flex flex-col h-full sticky top-0 transition-colors duration-300",children:[c.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-gray-200 dark:border-white/5",children:[c.jsx("div",{className:"w-10 h-10 border-2 border-sushi-gold rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"font-serif font-bold text-xl text-sushi-gold leading-none pt-1",children:"SB"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-serif text-lg font-bold text-gray-900 dark:text-white tracking-wide",children:"Sushiblack"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted uppercase tracking-widest font-medium",children:"Portal Miembro"})]})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-4 overflow-y-auto",children:b.filter(E=>E.visible).map(E=>c.jsxs("button",{id:E.domId,onClick:()=>{t(E.id),Ve("CLICK")},className:`w-full flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-200 group ${e===E.id?"bg-sushi-gold text-sushi-black font-semibold":"text-gray-500 dark:text-sushi-muted hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[c.jsx(E.icon,{className:"w-5 h-5"}),c.jsx("span",{children:E.label})]},E.id))}),c.jsx(Bk,{}),c.jsx($k,{currentUser:n,currentMember:r,onLogout:i,isDarkMode:a,toggleTheme:l})]})}const f=[{title:"Principal",items:[{id:ve.DASHBOARD,label:"Panel General",icon:Uk,visible:!0,domId:"nav-dashboard"}]},{title:"Gestin Operativa",items:[{id:ve.EMPLOYEES,label:"Empleados",icon:um,visible:n==null?void 0:n.permissions.viewHr,domId:"nav-employees"},{id:ve.FILES,label:"Expedientes",icon:TI,visible:n==null?void 0:n.permissions.viewHr,domId:"nav-files"},{id:ve.OVERTIME,label:"Asistencia",icon:Yt,visible:n==null?void 0:n.permissions.viewOps,domId:"nav-overtime"},{id:ve.SANCTIONS,label:"Novedades",icon:Ha,visible:n==null?void 0:n.permissions.viewOps,domId:"nav-sanctions"},{id:ve.CASH_REGISTER,label:"Caja / Movimientos",icon:MI,visible:!0,domId:"nav-cash"}]},{title:"Finanzas",items:[{id:ve.WALLET,label:"Billetera Global",icon:Dr,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-wallet"},{id:ve.ROYALTIES,label:"Regalas Socios",icon:Sc,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-royalties"},{id:ve.PAYROLL,label:"Pagos y Nmina",icon:Hs,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-payroll"},{id:ve.FINANCE,label:"Calculadora Costos",icon:BU,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-fin"},{id:ve.STATISTICS,label:"Estadsticas",icon:LU,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-stats"}]},{title:"Administracin",items:[{id:ve.ADMIN_HUB,label:"Central Admin",icon:AI,visible:!0,domId:"nav-hub"},{id:ve.INVENTORY,label:"Inventario",icon:Wr,visible:n==null?void 0:n.permissions.viewInventory,domId:"nav-inv"},{id:ve.USERS,label:"Usuarios",icon:DI,visible:n==null?void 0:n.permissions.superAdmin,domId:"nav-users"},{id:ve.PRODUCTS,label:"Productos",icon:Wr,visible:n==null?void 0:n.permissions.viewFinance,domId:"nav-products"},{id:ve.SETTINGS,label:"Configuracin",icon:PI,visible:n==null?void 0:n.permissions.superAdmin,domId:"nav-settings"}]},{title:"Estratgico",items:[{id:ve.FORUM,label:"Foro Social",icon:_v,visible:!0,domId:"nav-forum"},{id:ve.AI_REPORT,label:"Consultor IA",icon:kU,visible:!0,domId:"nav-ai-report"}]},{title:"En Desarrollo",items:[{id:ve.AI_FOCUS,label:"Enfoque IA",icon:Va,visible:!0,domId:"nav-ai-focus"}]}];return c.jsxs("div",{className:"w-64 bg-white dark:bg-sushi-dark border-r border-gray-200 dark:border-white/10 flex flex-col h-full sticky top-0 transition-colors duration-300",children:[c.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-gray-200 dark:border-white/10",children:[c.jsx("div",{className:"w-10 h-10 border-2 border-sushi-gold rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"font-serif font-bold text-xl text-sushi-gold leading-none pt-1",children:"SB"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-serif text-lg font-bold text-gray-900 dark:text-white tracking-wide",children:"Sushiblack"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted uppercase tracking-widest font-medium",children:"Manager System"})]})]}),c.jsx("nav",{id:"sidebar-nav",className:"flex-1 p-4 space-y-6 mt-2 overflow-y-auto",children:f.map((h,m)=>{const g=h.items.filter(v=>v.visible);return g.length===0?null:c.jsxs("div",{children:[c.jsx("p",{className:"px-4 text-[10px] font-bold uppercase tracking-widest text-gray-400 dark:text-sushi-muted mb-2",children:h.title}),c.jsx("div",{className:"space-y-1",children:g.map(v=>{const b=e===v.id;return c.jsxs("button",{id:v.domId,onClick:()=>{t(v.id),Ve("CLICK")},className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200 group text-sm ${b?"bg-sushi-gold text-sushi-black font-bold shadow-md shadow-sushi-gold/20":"text-gray-500 dark:text-sushi-muted hover:bg-gray-100 dark:hover:bg-white/5 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(v.icon,{className:`w-4 h-4 ${b?"text-sushi-black":"text-gray-400 dark:text-sushi-muted group-hover:text-gray-900 dark:group-hover:text-white"}`}),c.jsx("span",{children:v.label})]},v.id)})})]},m)})}),c.jsx(Bk,{}),c.jsx($k,{currentUser:n,currentMember:r,onLogout:i,isDarkMode:a,toggleTheme:l})]})},$k=({currentUser:e,currentMember:t,onLogout:n,isDarkMode:r,toggleTheme:i})=>{const a=e?e.name:t?t.name:"Invitado",l=e?"Administracin":"Miembro";return c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-white/10 space-y-4 bg-gray-50 dark:bg-black/10",children:[c.jsxs("div",{id:"theme-toggle",className:"flex items-center justify-between px-2 py-2 bg-white dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/5",children:[c.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-sushi-muted px-2",children:"Apariencia"}),c.jsx("button",{onClick:()=>{i(),Ve("CLICK")},className:"flex items-center gap-2 bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-md p-1.5 shadow-sm hover:border-sushi-gold/50 transition-colors",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Q6,{className:"w-3 h-3 text-sushi-gold"}),c.jsx("span",{className:"text-[10px] text-white",children:"Oscuro"})]}):c.jsxs(c.Fragment,{children:[c.jsx(NB,{className:"w-3 h-3 text-sushi-gold"}),c.jsx("span",{className:"text-[10px] text-gray-900",children:"Claro"})]})})]}),c.jsxs("button",{onClick:()=>{Ve("CLICK"),window.location.reload()},className:"w-full flex items-center justify-center gap-2 bg-white dark:bg-black/20 text-gray-600 dark:text-sushi-muted border border-gray-200 dark:border-white/5 rounded-lg py-2 text-xs font-medium hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",title:"Recargar pgina para ver cambios recientes",children:[c.jsx(lm,{className:"w-3 h-3"}),c.jsx("span",{children:"Recargar Sistema"})]}),c.jsxs("div",{className:"flex items-center gap-3 px-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-sushi-gold text-sushi-black flex items-center justify-center font-bold uppercase shadow-sm overflow-hidden border border-sushi-gold/30",children:t!=null&&t.photoUrl?c.jsx("img",{src:t.photoUrl,alt:"",className:"w-full h-full object-cover"}):a.charAt(0)}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:a}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted truncate",children:l})]})]}),c.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 text-gray-500 dark:text-sushi-muted hover:text-red-500 dark:hover:text-red-400 text-xs px-2 py-1 transition-colors",children:[c.jsx(z6,{className:"w-3 h-3"}),c.jsx("span",{children:"Cerrar Sesin"})]})]})};function LI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=LI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=LI(e))&&(r&&(r+=" "),r+=t);return r}var VB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ob(e){if(typeof e!="string")return!1;var t=VB;return t.includes(e)}var KB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YB=new Set(KB);function UI(e){return typeof e!="string"?!1:YB.has(e)}function BI(e){return typeof e=="string"&&e.startsWith("data-")}function Qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(UI(n)||BI(n))&&(t[n]=e[n]);return t}function Fs(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qn(t)}return typeof e=="object"&&!Array.isArray(e)?Qn(e):null}function Un(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(UI(n)||BI(n)||ob(n))&&(t[n]=e[n]);return t}function JB(e){return e==null?null:N.isValidElement(e)?Un(e.props):typeof e=="object"&&!Array.isArray(e)?Un(e):null}var WB=["children","width","height","viewBox","className","style","title","desc"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(null,arguments)}function XB(e,t){if(e==null)return{};var n,r,i=QB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lb=N.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:h}=e,m=XB(e,WB),g=a||{width:r,height:i,x:0,y:0},v=Qe("recharts-surface",l);return N.createElement("svg",Nv({},Un(m),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),N.createElement("title",null,f),N.createElement("desc",null,h),n)}),ZB=["children","className"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}function e$(e,t){if(e==null)return{};var n,r,i=t$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lt=N.forwardRef((e,t)=>{var{children:n,className:r}=e,i=e$(e,ZB),a=Qe("recharts-layer",r);return N.createElement("g",Av({className:a},Un(i),{ref:t}),n)}),ub=xI(),$I=N.createContext(null),n$=()=>N.useContext($I);function mt(e){return function(){return e}}const qI=Math.cos,eh=Math.sin,ti=Math.sqrt,th=Math.PI,cm=2*th,Tv=Math.PI,Cv=2*Tv,Es=1e-6,r$=Cv-Es;function zI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function i$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class a${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zI:i$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-t,h=i-n,m=l-t,g=u-n,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Es)if(!(Math.abs(g*f-h*m)>Es)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,E=i-u,k=f*f+h*h,_=b*b+E*E,A=Math.sqrt(k),C=Math.sqrt(v),j=a*Math.tan((Tv-Math.acos((k+v-_)/(2*A*C)))/2),I=j/C,P=j/A;Math.abs(I-1)>Es&&this._append`L${t+I*m},${n+I*g}`,this._append`A${a},${a},0,0,${+(g*b>m*E)},${this._x1=t+P*f},${this._y1=n+P*h}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=t+u,m=n+f,g=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Es||Math.abs(this._y1-m)>Es)&&this._append`L${h},${m}`,r&&(v<0&&(v=v%Cv+Cv),v>r$?this._append`A${r},${r},0,1,${g},${t-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=m}`:v>Es&&this._append`A${r},${r},0,${+(v>=Tv)},${g},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new a$(t)}function db(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HI(e){this._context=e}HI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dm(e){return new HI(e)}function FI(e){return e[0]}function GI(e){return e[1]}function VI(e,t){var n=mt(!0),r=null,i=dm,a=null,l=cb(u);e=typeof e=="function"?e:e===void 0?FI:mt(e),t=typeof t=="function"?t:t===void 0?GI:mt(t);function u(f){var h,m=(f=db(f)).length,g,v=!1,b;for(r==null&&(a=i(b=l())),h=0;h<=m;++h)!(h<m&&n(g=f[h],h,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(g,h,f),+t(g,h,f));if(b)return a=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:mt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function ff(e,t,n){var r=null,i=mt(!0),a=null,l=dm,u=null,f=cb(h);e=typeof e=="function"?e:e===void 0?FI:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?GI:mt(+n);function h(g){var v,b,E,k=(g=db(g)).length,_,A=!1,C,j=new Array(k),I=new Array(k);for(a==null&&(u=l(C=f())),v=0;v<=k;++v){if(!(v<k&&i(_=g[v],v,g))===A)if(A=!A)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=v-1;E>=b;--E)u.point(j[E],I[E]);u.lineEnd(),u.areaEnd()}A&&(j[v]=+e(_,v,g),I[v]=+t(_,v,g),u.point(r?+r(_,v,g):j[v],n?+n(_,v,g):I[v]))}if(C)return u=null,C+""||null}function m(){return VI().defined(i).curve(l).context(a)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:mt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:mt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:mt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:mt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:mt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:mt(+g),h):n},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(n)},h.lineX1=function(){return m().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:mt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,a!=null&&(u=l(a)),h):l},h.context=function(g){return arguments.length?(g==null?a=u=null:u=l(a=g),h):a},h}class KI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function s$(e){return new KI(e,!0)}function o$(e){return new KI(e,!1)}const fb={draw(e,t){const n=ti(t/th);e.moveTo(n,0),e.arc(0,0,n,0,cm)}},l$={draw(e,t){const n=ti(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},YI=ti(1/3),u$=YI*2,c$={draw(e,t){const n=ti(t/u$),r=n*YI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},d$={draw(e,t){const n=ti(t),r=-n/2;e.rect(r,r,n,n)}},f$=.8908130915292852,JI=eh(th/10)/eh(7*th/10),h$=eh(cm/10)*JI,m$=-qI(cm/10)*JI,p$={draw(e,t){const n=ti(t*f$),r=h$*n,i=m$*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=cm*a/5,u=qI(l),f=eh(l);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},C0=ti(3),g$={draw(e,t){const n=-ti(t/(C0*3));e.moveTo(0,n*2),e.lineTo(-C0*n,-n),e.lineTo(C0*n,-n),e.closePath()}},Cr=-.5,jr=ti(3)/2,jv=1/ti(12),y$=(jv/2+1)*3,v$={draw(e,t){const n=ti(t/y$),r=n/2,i=n*jv,a=r,l=n*jv+n,u=-a,f=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,f),e.lineTo(Cr*r-jr*i,jr*r+Cr*i),e.lineTo(Cr*a-jr*l,jr*a+Cr*l),e.lineTo(Cr*u-jr*f,jr*u+Cr*f),e.lineTo(Cr*r+jr*i,Cr*i-jr*r),e.lineTo(Cr*a+jr*l,Cr*l-jr*a),e.lineTo(Cr*u+jr*f,Cr*f-jr*u),e.closePath()}};function x$(e,t){let n=null,r=cb(i);e=typeof e=="function"?e:mt(e||fb),t=typeof t=="function"?t:mt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:mt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:mt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function nh(){}function rh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WI(e){this._context=e}WI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b$(e){return new WI(e)}function XI(e){this._context=e}XI.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w$(e){return new XI(e)}function QI(e){this._context=e}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S$(e){return new QI(e)}function ZI(e){this._context=e}ZI.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _$(e){return new ZI(e)}function qk(e){return e<0?-1:1}function zk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(qk(a)+qk(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function Hk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function j0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function ih(e){this._context=e}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:j0(this,this._t0,Hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,j0(this,Hk(this,n=zk(this,e,t)),n);break;default:j0(this,this._t0,n=zk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function eR(e){this._context=new tR(e)}(eR.prototype=Object.create(ih.prototype)).point=function(e,t){ih.prototype.point.call(this,t,e)};function tR(e){this._context=e}tR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function E$(e){return new ih(e)}function k$(e){return new eR(e)}function nR(e){this._context=e}nR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Fk(e),i=Fk(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fk(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function N$(e){return new nR(e)}function fm(e,t){this._context=e,this._t=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function A$(e){return new fm(e,.5)}function T$(e){return new fm(e,0)}function C$(e){return new fm(e,1)}function ml(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Iv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function j$(e,t){return e[t]}function I$(e){const t=[];return t.key=e,t}function R$(){var e=mt([]),t=Iv,n=ml,r=j$;function i(a){var l=Array.from(e.apply(this,arguments),I$),u,f=l.length,h=-1,m;for(const g of a)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,a)]).data=g;for(u=0,m=db(t(l));u<f;++u)l[m[u]].index=u;return n(l,m),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:mt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:mt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Iv:typeof a=="function"?a:mt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ml,i):n},i}function P$(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ml(e,t)}}function O$(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ml(e,t)}}function M$(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,h=0;u<l;++u){for(var m=e[t[u]],g=m[r][1]||0,v=m[r-1][1]||0,b=(g-v)/2,E=0;E<u;++E){var k=e[t[E]],_=k[r][1]||0,A=k[r-1][1]||0;b+=_-A}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ml(e,t)}}var I0={},R0={},Gk;function D$(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(R0)),R0}var P0={},Vk;function rR(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(P0)),P0}var O0={},Kk;function hb(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(O0)),O0}var M0={},D0={},Yk;function L$(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(D0)),D0}var Jk;function mb(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L$(),n=hb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,f="",h="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,f+=i[u]):g===h?h="":f+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,a.push(f),f=""):f+=g:g==="["?(m=!0,f&&(a.push(f),f="")):g==="."?f&&(a.push(f),f=""):f+=g,u++}return f&&a.push(f),a}e.toPath=r})(M0)),M0}var Wk;function pb(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D$(),n=rR(),r=hb(),i=mb();function a(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?n.isDeepKey(f)?a(u,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?h:m}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?h:m}}}function l(u,f,h){if(f.length===0)return h;let m=u;for(let g=0;g<f.length;g++){if(m==null||t.isUnsafeProperty(f[g]))return h;m=m[f[g]]}return m===void 0?h:m}e.get=a})(I0)),I0}var L0,Xk;function U$(){return Xk||(Xk=1,L0=pb().get),L0}var B$=U$();const Gs=ei(B$);var hn=e=>e===0?0:e>0?1:-1,Lr=e=>typeof e=="number"&&e!=+e,Ki=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!Lr(e),hi=e=>be(e)||typeof e=="string",$$=0,ic=e=>{var t=++$$;return"".concat(e||"").concat(t)},jn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return r;var a;if(Ki(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return Lr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},iR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function bt(e,t,n){return be(e)&&be(t)?e+n*(t-e):t}function aR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Gs(r,t))===n)}var Tt=e=>e===null||typeof e>"u",Ec=e=>Tt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function q$(e){return e!=null}function kc(){}var z$=["type","size","sizeType"];function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(null,arguments)}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){H$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H$(e,t,n){return(t=F$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V$(e,t){if(e==null)return{};var n,r,i=K$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sR={symbolCircle:fb,symbolCross:l$,symbolDiamond:c$,symbolSquare:d$,symbolStar:p$,symbolTriangle:g$,symbolWye:v$},Y$=Math.PI/180,J$=e=>{var t="symbol".concat(Ec(e));return sR[t]||fb},W$=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Y$;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},X$=(e,t)=>{sR["symbol".concat(Ec(e))]=t},gb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=V$(e,z$),a=Zk(Zk({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=J$(l),b=x$().type(v).size(W$(n,r,l)),E=b();if(E!==null)return E},{className:f,cx:h,cy:m}=a,g=Un(a);return be(h)&&be(m)&&be(n)?N.createElement("path",Rv({},g,{className:Qe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};gb.registerSymbol=X$;var oR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,yb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ob(i)&&(r[i]=(a=>n[i](n,a)))}),r},Q$=(e,t,n)=>r=>(e(t,n,r),null),Nc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];ob(i)&&typeof a=="function"&&(r||(r={}),r[i]=Q$(a,t,n))}),r};function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){eq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eq(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return typeof t=="symbol"?t:t+""}function nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t){var n=Z$({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(null,arguments)}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return(t=aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=32,oq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function lq(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Pr/2,a=Pr/6,l=Pr/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var h;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Pr,y2:i,className:"recharts-legend-icon"})}if(f==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Pr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return N.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Pr/8,"h").concat(Pr,"v").concat(Pr*3/4,"h").concat(-Pr,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var m=rq({},t);return delete m.legendIcon,N.cloneElement(t.legendIcon,m)}return N.createElement(gb,{fill:u,cx:i,cy:i,size:Pr,sizeType:"diameter",type:f})}function uq(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:Pr,height:Pr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var v=m.formatter||i,b=Qe({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var E=m.inactive?a:m.color,k=v?v(m.value,m,g):m.value;return N.createElement("li",ah({className:b,style:f,key:"legend-item-".concat(g)},Nc(e,m,g)),N.createElement(lb,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(k," legend icon")},N.createElement(lq,{data:m,iconType:l,inactiveColor:a})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},k))})}var cq=e=>{var t=Wt(e,oq),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:a},N.createElement(uq,ah({},t,{payload:n})))},U0={},B0={},nN;function dq(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(B0)),B0}var $0={},rN;function lR(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})($0)),$0}var q0={},z0={},H0={},iN;function fq(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(H0)),H0}var aN;function vb(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fq();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(z0)),z0}var F0={},sN;function hq(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(F0)),F0}var oN;function mq(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb(),n=hq();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(q0)),q0}var G0={},V0={},lN;function pq(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(V0)),V0}var K0={},Y0={},J0={},W0={},uN;function uR(){return uN||(uN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(W0)),W0}var X0={},cN;function cR(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(X0)),X0}var Q0={},dN;function dR(){return dN||(dN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Q0)),Q0}var fN;function gq(){return fN||(fN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uR(),n=cR(),r=dR();function i(m,g,v){return typeof v!="function"?i(m,g,()=>{}):a(m,g,function b(E,k,_,A,C,j){const I=v(E,k,_,A,C,j);return I!==void 0?!!I:a(E,k,b,j)},new Map)}function a(m,g,v,b){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,v,b);case"function":return Object.keys(g).length>0?a(m,{...g},v,b):r.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:r.eq(m,g)}}function l(m,g,v,b){if(g==null)return!0;if(Array.isArray(g))return f(m,g,v,b);if(g instanceof Map)return u(m,g,v,b);if(g instanceof Set)return h(m,g,v,b);const E=Object.keys(g);if(m==null)return E.length===0;if(E.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===m;b==null||b.set(g,m);try{for(let k=0;k<E.length;k++){const _=E[k];if(!n.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!v(m[_],g[_],_,m,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function u(m,g,v,b){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[E,k]of g.entries()){const _=m.get(E);if(v(_,k,E,m,g,b)===!1)return!1}return!0}function f(m,g,v,b){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const E=new Set;for(let k=0;k<g.length;k++){const _=g[k];let A=!1;for(let C=0;C<m.length;C++){if(E.has(C))continue;const j=m[C];let I=!1;if(v(j,_,k,m,g,b)&&(I=!0),I){E.add(C),A=!0;break}}if(!A)return!1}return!0}function h(m,g,v,b){return g.size===0?!0:m instanceof Set?f([...m],[...g],v,b):!1}e.isMatchWith=i,e.isSetMatch=h})(J0)),J0}var hN;function fR(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gq();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Y0)),Y0}var Z0={},ey={},ty={},mN;function yq(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(ty)),ty}var ny={},pN;function hR(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ny)),ny}var ry={},gN;function mR(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",b="[object Object]",E="[object Error]",k="[object DataView]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",I="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",R="[object Int32Array]",U="[object BigInt64Array]",H="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=k,e.dateTag=u,e.errorTag=E,e.float32ArrayTag=H,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=O,e.int32ArrayTag=R,e.int8ArrayTag=P,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=C,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=A})(ry)),ry}var iy={},yN;function vq(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(iy)),iy}var vN;function pR(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yq(),n=hR(),r=mR(),i=cR(),a=vq();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,v,b=new Map,E=void 0){const k=E==null?void 0:E(m,g,v,b);if(k!==void 0)return k;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const _=new Array(m.length);b.set(m,_);for(let A=0;A<m.length;A++)_[A]=u(m[A],A,v,b,E);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;b.set(m,_);for(const[A,C]of m)_.set(A,u(C,A,v,b,E));return _}if(m instanceof Set){const _=new Set;b.set(m,_);for(const A of m)_.add(u(A,void 0,v,b,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,_);for(let A=0;A<m.length;A++)_[A]=u(m[A],A,v,b,E);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,_),f(_,m,v,b,E),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return b.set(m,_),f(_,m,v,b,E),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return b.set(m,_),f(_,m,v,b,E),_}if(m instanceof Error){const _=new m.constructor;return b.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,f(_,m,v,b,E),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return b.set(m,_),f(_,m,v,b,E),_}if(m instanceof Number){const _=new Number(m.valueOf());return b.set(m,_),f(_,m,v,b,E),_}if(m instanceof String){const _=new String(m.valueOf());return b.set(m,_),f(_,m,v,b,E),_}if(typeof m=="object"&&h(m)){const _=Object.create(Object.getPrototypeOf(m));return b.set(m,_),f(_,m,v,b,E),_}return m}function f(m,g,v=m,b,E){const k=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<k.length;_++){const A=k[_],C=Object.getOwnPropertyDescriptor(m,A);(C==null||C.writable)&&(m[A]=u(g[A],A,v,b,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(ey)),ey}var xN;function xq(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Z0)),Z0}var bN;function bq(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR(),n=xq();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(K0)),K0}var ay={},sy={},oy={},wN;function wq(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pR(),n=mR();function r(i,a){return t.cloneDeepWith(i,(l,u,f,h)=>{const m=a==null?void 0:a(l,u,f,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(oy)),oy}var SN;function Sq(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wq();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(sy)),sy}var ly={},uy={},_N;function gR(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uy)),uy}var cy={},EN;function _q(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hR();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(cy)),cy}var kN;function Eq(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR(),n=gR(),r=_q(),i=mb();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let m=0;m<f.length;m++){const g=f[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=a})(ly)),ly}var NN;function kq(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR(),n=hb(),r=Sq(),i=pb(),a=Eq();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const m=i.get(h,u);return m===void 0?a.has(h,u):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=l})(ay)),ay}var AN;function Nq(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR(),n=pq(),r=bq(),i=kq();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(G0)),G0}var TN;function Aq(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dq(),n=lR(),r=mq(),i=Nq();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(U0)),U0}var dy,CN;function Tq(){return CN||(CN=1,dy=Aq().uniqBy),dy}var Cq=Tq();const jN=ei(Cq);function yR(e,t,n){return t===!0?jN(e,n):typeof t=="function"?jN(e,t):e}var fy={exports:{}},hy={},my={exports:{}},py={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function jq(){if(IN)return py;IN=1;var e=kl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var b=v(),E=r({inst:{value:b,getSnapshot:v}}),k=E[0].inst,_=E[1];return a(function(){k.value=b,k.getSnapshot=v,f(k)&&_({inst:k})},[g,b,v]),i(function(){return f(k)&&_({inst:k}),g(function(){f(k)&&_({inst:k})})},[g]),l(b),b}function f(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!n(g,b)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return py.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,py}var RN;function Iq(){return RN||(RN=1,my.exports=jq()),my.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN;function Rq(){if(PN)return hy;PN=1;var e=kl(),t=Iq();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return hy.useSyncExternalStoreWithSelector=function(h,m,g,v,b){var E=a(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=u(function(){function A(O){if(!C){if(C=!0,j=O,O=v(O),b!==void 0&&k.hasValue){var R=k.value;if(b(R,O))return I=R}return I=O}if(R=I,r(j,O))return R;var U=v(O);return b!==void 0&&b(R,U)?(j=O,R):(j=O,I=U)}var C=!1,j,I,P=g===void 0?null:g;return[function(){return A(m())},P===null?void 0:function(){return A(P())}]},[m,g,v,b]);var _=i(h,E[0],E[1]);return l(function(){k.hasValue=!0,k.value=_},[_]),f(_),_},hy}var ON;function Pq(){return ON||(ON=1,fy.exports=Rq()),fy.exports}var Oq=Pq(),xb=N.createContext(null),Mq=e=>e,pt=()=>{var e=N.useContext(xb);return e?e.store.dispatch:Mq},qf=()=>{},Dq=()=>qf,Lq=(e,t)=>e===t;function we(e){var t=N.useContext(xb);return Oq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dq,t?t.store.getState:qf,t?t.store.getState:qf,t?e:qf,Lq)}function Uq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Bq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $q(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var MN=e=>Array.isArray(e)?e:[e];function qq(e){const t=Array.isArray(e[0])?e[0]:e;return $q(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zq(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Hq=class{constructor(e){this.value=e}deref(){return this.value}},Fq=typeof WeakRef<"u"?WeakRef:Hq,Gq=0,DN=1;function hf(){return{s:Gq,v:void 0,o:null,p:null}}function vR(e,t={}){let n=hf();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var g;let u=n;const{length:f}=arguments;for(let v=0,b=f;v<b;v++){const E=arguments[v];if(typeof E=="function"||typeof E=="object"&&E!==null){let k=u.o;k===null&&(u.o=k=new WeakMap);const _=k.get(E);_===void 0?(u=hf(),k.set(E,u)):u=_}else{let k=u.p;k===null&&(u.p=k=new Map);const _=k.get(E);_===void 0?(u=hf(),k.set(E,u)):u=_}}const h=u;let m;if(u.s===DN)m=u.v;else if(m=e.apply(null,arguments),a++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,m)&&(m=v,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Fq(m):m}return h.s=DN,h.v=m,m}return l.clearCache=()=>{n=hf(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function Vq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),Uq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=vR,argsMemoizeOptions:E=[]}=m,k=MN(v),_=MN(E),A=qq(i),C=g(function(){return a++,h.apply(null,arguments)},...k),j=b(function(){l++;const P=zq(A,arguments);return u=C.apply(null,P),u},..._);return Object.assign(j,{resultFunc:h,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var W=Vq(vR),Kq=Object.assign((e,t=W)=>{Bq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>Kq}),gy={},yy={},vy={},LN;function Yq(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(vy)),vy}var xy={},by={},UN;function xR(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(by)),by}var BN;function Jq(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(xy)),xy}var $N;function Wq(){return $N||($N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yq(),n=Jq(),r=mb();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,E)=>{let k=b;for(let _=0;_<E.length&&k!=null;++_)k=k[E[_]];return k},m=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:h(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?h(E,b):typeof E=="object"?E[b]:E,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(E=>m(E,b))})).slice().sort((b,E)=>{for(let k=0;k<g.length;k++){const _=t.compareValues(b.criteria[k],E.criteria[k],u[k]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=i})(yy)),yy}var wy={},qN;function Xq(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&f<a?l(m,f+1):i.push(m)}};return l(n,0),i}e.flatten=t})(wy)),wy}var Sy={},zN;function bR(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gR(),n=vb(),r=uR(),i=dR();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=a})(Sy)),Sy}var HN;function Qq(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wq(),n=Xq(),r=bR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(gy)),gy}var _y,FN;function Zq(){return FN||(FN=1,_y=Qq().sortBy),_y}var e8=Zq();const hm=ei(e8);var wR=e=>e.legend.settings,t8=e=>e.legend.size,n8=e=>e.legend.payload,r8=W([n8,wR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hm(r,n):r});function i8(){return we(r8)}var mf=1;function SR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>mf||Math.abs(l.left-t.left)>mf||Math.abs(l.top-t.top)>mf||Math.abs(l.width-t.width)>mf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var a8=typeof Symbol=="function"&&Symbol.observable||"@@observable",GN=a8,Ey=()=>Math.random().toString(36).substring(7).split("").join("."),s8={INIT:`@@redux/INIT${Ey()}`,REPLACE:`@@redux/REPLACE${Ey()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ey()}`},sh=s8;function bb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _R(e,t,n){if(typeof e!="function")throw new Error(_n(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_n(1));return n(_R)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,f=!1;function h(){l===a&&(l=new Map,a.forEach((_,A)=>{l.set(A,_)}))}function m(){if(f)throw new Error(_n(3));return i}function g(_){if(typeof _!="function")throw new Error(_n(4));if(f)throw new Error(_n(5));let A=!0;h();const C=u++;return l.set(C,_),function(){if(A){if(f)throw new Error(_n(6));A=!1,h(),l.delete(C),a=null}}}function v(_){if(!bb(_))throw new Error(_n(7));if(typeof _.type>"u")throw new Error(_n(8));if(typeof _.type!="string")throw new Error(_n(17));if(f)throw new Error(_n(9));try{f=!0,i=r(i,_)}finally{f=!1}return(a=l).forEach(C=>{C()}),_}function b(_){if(typeof _!="function")throw new Error(_n(10));r=_,v({type:sh.REPLACE})}function E(){const _=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(_n(11));function C(){const I=A;I.next&&I.next(m())}return C(),{unsubscribe:_(C)}},[GN](){return this}}}return v({type:sh.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:b,[GN]:E}}function o8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sh.INIT})>"u")throw new Error(_n(12));if(typeof n(void 0,{type:sh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function ER(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{o8(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const g=r[m],v=n[g],b=l[g],E=v(b,u);if(typeof E>"u")throw u&&u.type,new Error(_n(14));h[g]=E,f=f||E!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function oh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function l8(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(_n(15))};const l={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},u=e.map(f=>f(l));return a=oh(...u)(i.dispatch),{...i,dispatch:a}}}function kR(e){return bb(e)&&"type"in e&&typeof e.type=="string"}var NR=Symbol.for("immer-nothing"),VN=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fr=Object,pl=fr.getPrototypeOf,lh="constructor",mm="prototype",Pv="configurable",uh="enumerable",zf="writable",ac="value",Yi=e=>!!e&&!!e[Bn];function Zr(e){var t;return e?AR(e)||pm(e)||!!e[VN]||!!((t=e[lh])!=null&&t[VN])||gm(e)||ym(e):!1}var u8=fr[mm][lh].toString(),KN=new WeakMap;function AR(e){if(!e||!wb(e))return!1;const t=pl(e);if(t===null||t===fr[mm])return!0;const n=fr.hasOwnProperty.call(t,lh)&&t[lh];if(n===Object)return!0;if(!Wo(n))return!1;let r=KN.get(n);return r===void 0&&(r=Function.toString.call(n),KN.set(n,r)),r===u8}function Ac(e,t,n=!0){Tc(e)===0?(n?Reflect.ownKeys(e):fr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Tc(e){const t=e[Bn];return t?t.type_:pm(e)?1:gm(e)?2:ym(e)?3:0}var YN=(e,t,n=Tc(e))=>n===2?e.has(t):fr[mm].hasOwnProperty.call(e,t),Ov=(e,t,n=Tc(e))=>n===2?e.get(t):e[t],ch=(e,t,n,r=Tc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function c8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pm=Array.isArray,gm=e=>e instanceof Map,ym=e=>e instanceof Set,wb=e=>typeof e=="object",Wo=e=>typeof e=="function",ky=e=>typeof e=="boolean",Bi=e=>e.copy_||e.base_,Sb=e=>e.modified_?e.copy_:e.base_;function Mv(e,t){if(gm(e))return new Map(e);if(ym(e))return new Set(e);if(pm(e))return Array[mm].slice.call(e);const n=AR(e);if(t===!0||t==="class_only"&&!n){const r=fr.getOwnPropertyDescriptors(e);delete r[Bn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[zf]===!1&&(u[zf]=!0,u[Pv]=!0),(u.get||u.set)&&(r[l]={[Pv]:!0,[zf]:!0,[uh]:u[uh],[ac]:e[l]})}return fr.create(pl(e),r)}else{const r=pl(e);if(r!==null&&n)return{...e};const i=fr.create(r);return fr.assign(i,e)}}function _b(e,t=!1){return vm(e)||Yi(e)||!Zr(e)||(Tc(e)>1&&fr.defineProperties(e,{set:pf,add:pf,clear:pf,delete:pf}),fr.freeze(e),t&&Ac(e,(n,r)=>{_b(r,!0)},!1)),e}function d8(){Kr(2)}var pf={[ac]:d8};function vm(e){return e===null||!wb(e)?!0:fr.isFrozen(e)}var dh="MapSet",Dv="Patches",TR={};function gl(e){const t=TR[e];return t||Kr(0,e),t}var f8=e=>!!TR[e],sc,CR=()=>sc,h8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:f8(dh)?gl(dh):void 0});function JN(e,t){t&&(e.patchPlugin_=gl(Dv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lv(e){Uv(e),e.drafts_.forEach(m8),e.drafts_=null}function Uv(e){e===sc&&(sc=e.parent_)}var WN=e=>sc=h8(sc,e);function m8(e){const t=e[Bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Bn].modified_&&(Lv(t),Kr(4)),Zr(e)&&(e=QN(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Bn].base_,e,t)}else e=QN(t,n);return p8(t,e,!0),Lv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NR?e:void 0}function QN(e,t){if(vm(t))return t;const n=t[Bn];if(!n)return Eb(t,e.handledSet_,e);if(!xm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);RR(n,e)}return n.copy_}function p8(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_b(t,n)}function jR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var xm=(e,t)=>e.scope_===t,g8=[];function IR(e,t,n,r){const i=Bi(e),a=e.type_;if(r!==void 0&&Ov(i,r,a)===t){ch(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ac(i,(f,h)=>{if(Yi(h)){const m=u.get(h)||[];m.push(f),u.set(h,m)}})}const l=e.draftLocations_.get(t)??g8;for(const u of l)ch(i,u,n,a)}function y8(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!xm(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const l=Sb(a);IR(e,a.draft_??a,l,n),RR(a,i)})}function RR(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}jR(e)}}function v8(e,t,n){const{scope_:r}=e;if(Yi(n)){const i=n[Bn];xm(i,r)&&i.callbacks_.push(function(){Hf(e);const l=Sb(i);IR(e,n,l,t)})}else Zr(n)&&e.callbacks_.push(function(){const a=Bi(e);Ov(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Eb(Ov(e.copy_,t,e.type_),r.handledSet_,r)})}function Eb(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Yi(e)||t.has(e)||!Zr(e)||vm(e)||(t.add(e),Ac(e,(r,i)=>{if(Yi(i)){const a=i[Bn];if(xm(a,n)){const l=Sb(a);ch(e,r,l,e.type_),jR(a)}}else Zr(i)&&Eb(i,t,n)})),e}function x8(e,t){const n=pm(e),r={type_:n?1:0,scope_:t?t.scope_:CR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=kb;n&&(i=[r],a=oc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var kb={get(e,t){if(t===Bn)return e;const n=Bi(e);if(!YN(n,t,e.type_))return b8(e,n,t);const r=n[t];if(e.finalized_||!Zr(r))return r;if(r===Ny(e.base_,t)){Hf(e);const i=e.type_===1?+t:t,a=$v(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Bi(e)},ownKeys(e){return Reflect.ownKeys(Bi(e))},set(e,t,n){const r=PR(Bi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ny(Bi(e),t),a=i==null?void 0:i[Bn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(c8(n,i)&&(n!==void 0||YN(e.base_,t,e.type_)))return!0;Hf(e),Bv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),v8(e,t,n)),!0},deleteProperty(e,t){return Hf(e),Ny(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Bv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[zf]:!0,[Pv]:e.type_!==1||t!=="length",[uh]:r[uh],[ac]:n[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return pl(e.base_)},setPrototypeOf(){Kr(12)}},oc={};Ac(kb,(e,t)=>{oc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});oc.deleteProperty=function(e,t){return oc.set.call(this,e,t,void 0)};oc.set=function(e,t,n){return kb.set.call(this,e[0],t,n,e[0])};function Ny(e,t){const n=e[Bn];return(n?Bi(n):e)[t]}function b8(e,t,n){var i;const r=PR(t,n);return r?ac in r?r[ac]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function PR(e,t){if(!(t in e))return;let n=pl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=pl(n)}}function Bv(e){e.modified_||(e.modified_=!0,e.parent_&&Bv(e.parent_))}function Hf(e){e.copy_||(e.assigned_=new Map,e.copy_=Mv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var w8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wo(n)&&!Wo(r)){const l=r;r=n;const u=this;return function(h=l,...m){return u.produce(h,g=>r.call(this,g,...m))}}Wo(r)||Kr(6),i!==void 0&&!Wo(i)&&Kr(7);let a;if(Zr(n)){const l=WN(this),u=$v(l,n,void 0);let f=!0;try{a=r(u),f=!1}finally{f?Lv(l):Uv(l)}return JN(l,i),XN(a,l)}else if(!n||!wb(n)){if(a=r(n),a===void 0&&(a=n),a===NR&&(a=void 0),this.autoFreeze_&&_b(a,!0),i){const l=[],u=[];gl(Dv).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Kr(1,n)},this.produceWithPatches=(n,r)=>{if(Wo(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,a;return[this.produce(n,r,(u,f)=>{i=u,a=f}),i,a]},ky(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ky(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ky(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zr(t)||Kr(8),Yi(t)&&(t=Qr(t));const n=WN(this),r=$v(n,t,void 0);return r[Bn].isManual_=!0,Uv(n),r}finishDraft(t,n){const r=t&&t[Bn];(!r||!r.isManual_)&&Kr(9);const{scope_:i}=r;return JN(i,n),XN(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=gl(Dv).applyPatches_;return Yi(t)?i(t,n):this.produce(t,a=>i(a,n))}};function $v(e,t,n,r){const[i,a]=gm(t)?gl(dh).proxyMap_(t,n):ym(t)?gl(dh).proxySet_(t,n):x8(t,n);return((n==null?void 0:n.scope_)??CR()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?y8(n,a,r):a.callbacks_.push(function(f){var m;(m=f.mapSetPlugin_)==null||m.fixSetContents(a);const{patchPlugin_:h}=f;a.modified_&&h&&h.generatePatches_(a,[],f)}),i}function Qr(e){return Yi(e)||Kr(10,e),OR(e)}function OR(e){if(!Zr(e)||vm(e))return e;const t=e[Bn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Mv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Mv(e,!0);return Ac(n,(i,a)=>{ch(n,i,OR(a))},r),t&&(t.finalized_=!1),n}var S8=new w8,MR=S8.produce;function DR(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var _8=DR(),E8=DR,k8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oh:oh.apply(null,arguments)};function Ur(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(mr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>kR(r)&&r.type===e,n}var LR=class Ju extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ju.prototype)}static get[Symbol.species](){return Ju}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ju(...t[0].concat(this)):new Ju(...t.concat(this))}};function ZN(e){return Zr(e)?MR(e,()=>{}):e}function gf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function N8(e){return typeof e=="boolean"}var A8=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new LR;return n&&(N8(n)?l.push(_8):l.push(E8(n.extraArgument))),l},UR="RTK_autoBatch",Et=()=>e=>({payload:e,meta:{[UR]:!0}}),eA=e=>t=>{setTimeout(t,e)},BR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eA(10):e.type==="callback"?e.queueNotification:eA(e.timeout),h=()=>{l=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),v=r.subscribe(g);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[UR]),a=!i,a&&(l||(l=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},T8=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new LR(e);return r&&i.push(BR(typeof r=="object"?r:void 0)),i};function C8(e){const t=A8(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(bb(n))u=ER(n);else throw new Error(mr(1));let f;typeof r=="function"?f=r(t):f=t();let h=oh;i&&(h=k8({trace:!1,...typeof i=="object"&&i}));const m=l8(...f),g=T8(m);let v=typeof l=="function"?l(g):g();const b=h(...v);return _R(u,a,b)}function $R(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(mr(28));if(u in t)throw new Error(mr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function j8(e){return typeof e=="function"}function I8(e,t){let[n,r,i]=$R(t),a;if(j8(e))a=()=>ZN(e());else{const u=ZN(e);a=()=>u}function l(u=a(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,g)=>{if(g)if(Yi(m)){const b=g(m,f);return b===void 0?m:b}else{if(Zr(m))return MR(m,v=>g(v,f));{const v=g(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=a,l}var R8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P8=(e=21)=>{let t="",n=e;for(;n--;)t+=R8[Math.random()*64|0];return t},O8=Symbol.for("rtk-slice-createasyncthunk");function M8(e,t){return`${e}/${t}`}function D8({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[O8];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(mr(11));const u=(typeof i.reducers=="function"?i.reducers(U8()):i.reducers)||{},f=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(I,P){const O=typeof I=="string"?I:I.type;if(!O)throw new Error(mr(12));if(O in h.sliceCaseReducersByType)throw new Error(mr(13));return h.sliceCaseReducersByType[O]=P,m},addMatcher(I,P){return h.sliceMatchers.push({matcher:I,reducer:P}),m},exposeAction(I,P){return h.actionCreators[I]=P,m},exposeCaseReducer(I,P){return h.sliceCaseReducersByName[I]=P,m}};f.forEach(I=>{const P=u[I],O={reducerName:I,type:M8(a,I),createNotation:typeof i.reducers=="function"};$8(P)?z8(O,P,m,t):B8(O,P,m)});function g(){const[I={},P=[],O=void 0]=typeof i.extraReducers=="function"?$R(i.extraReducers):[i.extraReducers],R={...I,...h.sliceCaseReducersByType};return I8(i.initialState,U=>{for(let H in R)U.addCase(H,R[H]);for(let H of h.sliceMatchers)U.addMatcher(H.matcher,H.reducer);for(let H of P)U.addMatcher(H.matcher,H.reducer);O&&U.addDefaultCase(O)})}const v=I=>I,b=new Map,E=new WeakMap;let k;function _(I,P){return k||(k=g()),k(I,P)}function A(){return k||(k=g()),k.getInitialState()}function C(I,P=!1){function O(U){let H=U[I];return typeof H>"u"&&P&&(H=gf(E,O,A)),H}function R(U=v){const H=gf(b,P,()=>new WeakMap);return gf(H,U,()=>{const G={};for(const[$,V]of Object.entries(i.selectors??{}))G[$]=L8(V,U,()=>gf(E,U,A),P);return G})}return{reducerPath:I,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const j={name:a,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:A,...C(l),injectInto(I,{reducerPath:P,...O}={}){const R=P??l;return I.inject({reducerPath:R,reducer:_},O),{...j,...C(R,!0)}}};return j}}function L8(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Zn=D8();function U8(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function B8({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!q8(r))throw new Error(mr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?Ur(e,l):Ur(e))}function $8(e){return e._reducerDefinitionType==="asyncThunk"}function q8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function z8({type:e,reducerName:t},n,r,i){if(!i)throw new Error(mr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:h,options:m}=n,g=i(e,a,m);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||yf,pending:u||yf,rejected:f||yf,settled:h||yf})}function yf(){}var H8="task",qR="listener",zR="completed",Nb="cancelled",F8=`task-${Nb}`,G8=`task-${zR}`,qv=`${qR}-${Nb}`,V8=`${qR}-${zR}`,bm=class{constructor(e){S0(this,"name","TaskAbortError");S0(this,"message");this.code=e,this.message=`${H8} ${Nb} (reason: ${e})`}},Ab=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},fh=()=>{},HR=(e,t=fh)=>(e.catch(t),e),FR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Us=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Bs=e=>{if(e.aborted){const{reason:t}=e;throw new bm(t)}};function GR(e,t){let n=fh;return new Promise((r,i)=>{const a=()=>i(new bm(e.reason));if(e.aborted){a();return}n=FR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=fh})}var K8=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof bm?"cancelled":"rejected",error:n}}finally{t==null||t()}},hh=e=>t=>HR(GR(e,t).then(n=>(Bs(e),n))),VR=e=>{const t=hh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:rl}=Object,tA={},wm="listenerMiddleware",Y8=(e,t)=>{const n=r=>FR(e,()=>Us(r,e.reason));return(r,i)=>{Ab(r);const a=new AbortController;n(a);const l=K8(async()=>{Bs(e),Bs(a.signal);const u=await r({pause:hh(a.signal),delay:VR(a.signal),signal:a.signal});return Bs(a.signal),u},()=>Us(a,G8));return i!=null&&i.autoJoin&&t.push(l.catch(fh)),{result:hh(e)(l),cancel(){Us(a,F8)}}}},J8=(e,t)=>{const n=async(r,i)=>{Bs(t);let a=()=>{};const u=[new Promise((f,h)=>{let m=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await GR(t,Promise.race(u));return Bs(t),f}finally{a()}};return(r,i)=>HR(n(r,i))},KR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ur(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mr(21));return Ab(a),{predicate:i,type:t,effect:a}},YR=rl(e=>{const{type:t,predicate:n,effect:r}=KR(e);return{id:P8(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>YR}),nA=(e,t)=>{const{type:n,effect:r,predicate:i}=KR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},zv=e=>{e.pending.forEach(t=>{Us(t,qv)})},W8=(e,t)=>()=>{for(const n of t.keys())zv(n);e.clear()},rA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},JR=rl(Ur(`${wm}/add`),{withTypes:()=>JR}),X8=Ur(`${wm}/removeAll`),WR=rl(Ur(`${wm}/remove`),{withTypes:()=>WR}),Q8=(...e)=>{console.error(`${wm}/error`,...e)},Cc=(e={})=>{const t=new Map,n=new Map,r=b=>{const E=n.get(b)??0;n.set(b,E+1)},i=b=>{const E=n.get(b)??1;E===1?n.delete(b):n.set(b,E-1)},{extra:a,onError:l=Q8}=e;Ab(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),E=>{b.unsubscribe(),E!=null&&E.cancelActive&&zv(b)}),f=b=>{const E=nA(t,b)??YR(b);return u(E)};rl(f,{withTypes:()=>f});const h=b=>{const E=nA(t,b);return E&&(E.unsubscribe(),b.cancelActive&&zv(E)),!!E};rl(h,{withTypes:()=>h});const m=async(b,E,k,_)=>{const A=new AbortController,C=J8(f,A.signal),j=[];try{b.pending.add(A),r(b),await Promise.resolve(b.effect(E,rl({},k,{getOriginalState:_,condition:(I,P)=>C(I,P).then(Boolean),take:C,delay:VR(A.signal),pause:hh(A.signal),extra:a,signal:A.signal,fork:Y8(A.signal,j),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((I,P,O)=>{I!==A&&(Us(I,qv),O.delete(I))})},cancel:()=>{Us(A,qv),b.pending.delete(A)},throwIfCancelled:()=>{Bs(A.signal)}})))}catch(I){I instanceof bm||rA(l,I,{raisedBy:"effect"})}finally{await Promise.all(j),Us(A,V8),i(b),b.pending.delete(A)}},g=W8(t,n);return{middleware:b=>E=>k=>{if(!kR(k))return E(k);if(JR.match(k))return f(k.payload);if(X8.match(k)){g();return}if(WR.match(k))return h(k.payload);let _=b.getState();const A=()=>{if(_===tA)throw new Error(mr(23));return _};let C;try{if(C=E(k),t.size>0){const j=b.getState(),I=Array.from(t.values());for(const P of I){let O=!1;try{O=P.predicate(k,j,_)}catch(R){O=!1,rA(l,R,{raisedBy:"predicate"})}O&&m(P,k,b,A)}}}finally{_=tA}return C},startListening:f,stopListening:h,clearListeners:g}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XR=Zn({name:"chartLayout",initialState:Z8,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ez,setLayout:tz,setChartSize:nz,setScale:rz}=XR.actions,iz=XR.reducer;function QR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){az(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function az(e,t,n){return(t=sz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sz(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,n){return Tt(e)||Tt(t)?n:hi(t)?Gs(e,t,n):typeof t=="function"?t(e):n}var lz=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&be(e[a]))return Zo(Zo({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&be(e[l]))return Zo(Zo({},e),{},{[l]:e[l]+(i||0)})}return e},ta=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ZR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},eP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:v,axisType:b}=e;if(!l)return null;var E=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(k=b==="angleAxis"&&a&&a.length>=2?hn(a[0]-a[1])*2*k:k,g||v){var _=(g||v||[]).map((A,C)=>{var j=r?r.indexOf(A):A;return{coordinate:l(j)+k,value:A,offset:k,index:C}});return _.filter(A=>!Lr(A.coordinate))}return f&&h?h.map((A,C)=>({coordinate:l(A)+k,value:A,index:C,offset:k})):l.ticks&&m!=null?l.ticks(m).map((A,C)=>({coordinate:l(A)+k,value:A,offset:k,index:C})):l.domain().map((A,C)=>({coordinate:l(A)+k,value:r?r[A]:A,index:C,offset:k}))},aA=1e-4,uz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-aA,a=Math.max(r[0],r[1])+aA,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},cz=(e,t)=>{if(!t||t.length!==2||!be(t[0])||!be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(i[0]=n),(!be(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},dz=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=Lr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},fz=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=Lr(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},hz={sign:dz,expand:P$,none:ml,silhouette:O$,wiggle:M$,positive:fz},mz=(e,t,n)=>{var r=hz[n],i=R$().keys(t).value((a,l)=>Number(dt(a,l,0))).order(Iv).offset(r);return i(e)};function tP(e){return e==null?void 0:String(e)}function sA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Tt(i[t.dataKey])){var u=aR(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=dt(i,Tt(l)?t.dataKey:l);return Tt(f)?null:t.scale(f)}var oA=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=dt(a,t.dataKey,t.scale.domain()[l]);return Tt(u)?null:t.scale(u)-i/2+r},pz=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},gz=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},yz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vz=(e,t,n)=>{if(e!=null)return yz(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((f,h)=>{var m=QR(h,t,n),g=gz(m);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},lA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yl=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=hm(t,m=>m.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function cA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zo(Zo({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Al(e,t){if(e)return String(e);if(typeof t=="string")return t}var xz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},bz=(e,t)=>t==="centric"?e.angle:e.radius,na=e=>e.layout.width,ra=e=>e.layout.height,wz=e=>e.layout.scale,nP=e=>e.layout.margin,Sm=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_m=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rP="data-recharts-item-index",iP="data-recharts-item-data-key",jc=60;function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){Sz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sz(e,t,n){return(t=_z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=Ez(e,"string");return typeof t=="symbol"?t:t+""}function Ez(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kz=e=>e.brush.height;function Nz(e){var t=_m(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jc;return n+i}return n},0)}function Az(e){var t=_m(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jc;return n+i}return n},0)}function Tz(e){var t=Sm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Cz(e){var t=Sm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var en=W([na,ra,nP,kz,Nz,Az,Tz,Cz,wR,t8],(e,t,n,r,i,a,l,u,f,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=vf(vf({},g),m),b=v.bottom;v.bottom+=r,v=lz(v,f,h);var E=e-v.left-v.right,k=t-v.top-v.bottom;return vf(vf({brushBottom:b},v),{},{width:Math.max(E,0),height:Math.max(k,0)})}),jz=W(en,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Tb=W(na,ra,(e,t)=>({x:0,y:0,width:e,height:t})),Iz=N.createContext(null),In=()=>N.useContext(Iz)!=null,Em=e=>e.brush,km=W([Em,en,nP],(e,t,n)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:be(e.width)?e.width:t.width})),Ay={},Ty={},Cy={},fA;function Rz(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&m(),k()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{E(),l=void 0,u=null},_=()=>{m()},A=function(...C){if(i!=null&&i.aborted)return;l=this,u=C;const j=v==null;b(),f&&j&&m()};return A.schedule=b,A.cancel=k,A.flush=_,i==null||i.addEventListener("abort",k,{once:!0}),A}e.debounce=t})(Cy)),Cy}var hA;function Pz(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rz();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const v=t.debounce(function(...k){m=r.apply(this,k),g=null},i,{edges:h}),b=function(...k){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=r.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},E=()=>(v.flush(),m);return b.cancel=v.cancel,b.flush=E,b}e.debounce=n})(Ty)),Ty}var mA;function Oz(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Ay)),Ay}var jy,pA;function Mz(){return pA||(pA=1,jy=Oz().throttle),jy}var Dz=Mz();const Lz=ei(Dz);var mh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},aP=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=Ki(r)?e:Number(r),f=Ki(i)?t:Number(i);return a&&a>0&&(u?f=u/a:f&&(u=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},Uz={width:0,height:0,overflow:"visible"},Bz={width:0,overflowX:"visible"},$z={height:0,overflowY:"visible"},qz={},zz=e=>{var{width:t,height:n}=e,r=Ki(t),i=Ki(n);return r&&i?Uz:r?Bz:i?$z:qz};function Hz(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wt(e){return Number.isFinite(e)}function mi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(null,arguments)}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){Fz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fz(e,t,n){return(t=Gz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sP=N.createContext({width:-1,height:-1});function Kz(e){return mi(e.width)&&mi(e.height)}function oP(e){var{children:t,width:n,height:r}=e,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return Kz(i)?N.createElement(sP.Provider,{value:i},t):null}var Cb=()=>N.useContext(sP),Yz=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:m=0,id:g,className:v,onResize:b,style:E={}}=e,k=N.useRef(null),_=N.useRef();_.current=b,N.useImperativeHandle(t,()=>k.current);var[A,C]=N.useState({containerWidth:r.width,containerHeight:r.height}),j=N.useCallback((U,H)=>{C(G=>{var $=Math.round(U),V=Math.round(H);return G.containerWidth===$&&G.containerHeight===V?G:{containerWidth:$,containerHeight:V}})},[]);N.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return kc;var U=V=>{var D,{width:oe,height:de}=V[0].contentRect;j(oe,de),(D=_.current)===null||D===void 0||D.call(_,oe,de)};m>0&&(U=Lz(U,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(U),{width:G,height:$}=k.current.getBoundingClientRect();return j(G,$),H.observe(k.current),()=>{H.disconnect()}},[j,m]);var{containerWidth:I,containerHeight:P}=A;mh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:R}=aP(I,P,{width:i,height:a,aspect:n,maxHeight:f});return mh(O!=null&&O>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,R,i,a,l,u,n),N.createElement("div",{id:g?"".concat(g):void 0,className:Qe("recharts-responsive-container",v),style:yA(yA({},E),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:k},N.createElement("div",{style:zz({width:i,height:a})},N.createElement(oP,{width:O,height:R},h)))}),Zu=N.forwardRef((e,t)=>{var n=Cb();if(mi(n.width)&&mi(n.height))return e.children;var{width:r,height:i}=Hz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=aP(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(a)&&be(l)?N.createElement(oP,{width:a,height:l},e.children):N.createElement(Yz,Hv({},e,{width:r,height:i,ref:t}))});function lP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Nm=()=>{var e,t=In(),n=we(jz),r=we(km),i=(e=we(Em))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Jz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uP=()=>{var e;return(e=we(en))!==null&&e!==void 0?e:Jz},jb=()=>we(na),Ib=()=>we(ra),Wz=()=>we(e=>e.layout.margin),Ke=e=>e.layout.layoutType,Tl=()=>we(Ke),Xz=()=>{var e=Tl();if(e==="horizontal"||e==="vertical")return e},Qz=()=>{var e=Tl();return e!==void 0},Am=e=>{var t=pt(),n=In(),{width:r,height:i}=e,a=Cb(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),N.useEffect(()=>{!n&&mi(l)&&mi(u)&&t(nz({width:l,height:u}))},[t,n,l,u]),null},cP=Symbol.for("immer-nothing"),vA=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function Yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lc=Object.getPrototypeOf;function vl(e){return!!e&&!!e[gr]}function Vs(e){var t;return e?dP(e)||Array.isArray(e)||!!e[vA]||!!((t=e.constructor)!=null&&t[vA])||Ic(e)||Cm(e):!1}var Zz=Object.prototype.constructor.toString(),xA=new WeakMap;function dP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=xA.get(n);return r===void 0&&(r=Function.toString.call(n),xA.set(n,r)),r===Zz}function ph(e,t,n=!0){Tm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Tm(e){const t=e[gr];return t?t.type_:Array.isArray(e)?1:Ic(e)?2:Cm(e)?3:0}function Fv(e,t){return Tm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fP(e,t,n){const r=Tm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function eH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ic(e){return e instanceof Map}function Cm(e){return e instanceof Set}function ks(e){return e.copy_||e.base_}function Gv(e,t){if(Ic(e))return new Map(e);if(Cm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=dP(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[gr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(lc(e),r)}else{const r=lc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Rb(e,t=!1){return jm(e)||vl(e)||!Vs(e)||(Tm(e)>1&&Object.defineProperties(e,{set:xf,add:xf,clear:xf,delete:xf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Rb(n,!0))),e}function tH(){Yr(2)}var xf={value:tH};function jm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var nH={};function Ks(e){const t=nH[e];return t||Yr(0,e),t}var uc;function hP(){return uc}function rH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bA(e,t){t&&(Ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vv(e){Kv(e),e.drafts_.forEach(iH),e.drafts_=null}function Kv(e){e===uc&&(uc=e.parent_)}function wA(e){return uc=rH(uc,e)}function iH(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function SA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[gr].modified_&&(Vv(t),Yr(4)),Vs(e)&&(e=gh(t,e),t.parent_||yh(t,e)),t.patches_&&Ks("Patches").generateReplacementPatches_(n[gr].base_,e,t.patches_,t.inversePatches_)):e=gh(t,n,[]),Vv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cP?e:void 0}function gh(e,t,n){if(jm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[gr];if(!i)return ph(t,(a,l)=>_A(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return yh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),ph(l,(f,h)=>_A(e,i,a,f,h,n,u),r),yh(e,a,!1),n&&e.patches_&&Ks("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function _A(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=jm(i);if(!(u&&!l)){if(vl(i)){const f=a&&t&&t.type_!==3&&!Fv(t.assigned_,r)?a.concat(r):void 0,h=gh(e,i,f);if(fP(n,r,h),vl(h))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Vs(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;gh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ic(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&yh(e,i)}}}function yh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rb(t,n)}function aH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:hP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Pb;n&&(i=[r],a=cc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var Pb={get(e,t){if(t===gr)return e;const n=ks(e);if(!Fv(n,t))return sH(e,n,t);const r=n[t];return e.finalized_||!Vs(r)?r:r===Iy(e.base_,t)?(Ry(e),e.copy_[t]=Jv(r,e)):r},has(e,t){return t in ks(e)},ownKeys(e){return Reflect.ownKeys(ks(e))},set(e,t,n){const r=mP(ks(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Iy(ks(e),t),a=i==null?void 0:i[gr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(eH(n,i)&&(n!==void 0||Fv(e.base_,t)))return!0;Ry(e),Yv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Iy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ry(e),Yv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ks(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Yr(11)},getPrototypeOf(e){return lc(e.base_)},setPrototypeOf(){Yr(12)}},cc={};ph(Pb,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,n){return Pb.set.call(this,e[0],t,n,e[0])};function Iy(e,t){const n=e[gr];return(n?ks(n):e)[t]}function sH(e,t,n){var i;const r=mP(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function mP(e,t){if(!(t in e))return;let n=lc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=lc(n)}}function Yv(e){e.modified_||(e.modified_=!0,e.parent_&&Yv(e.parent_))}function Ry(e){e.copy_||(e.copy_=Gv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(f=a,...h){return l.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&Yr(6),r!==void 0&&typeof r!="function"&&Yr(7);let i;if(Vs(t)){const a=wA(this),l=Jv(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Vv(a):Kv(a)}return bA(a,r),SA(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===cP&&(i=void 0),this.autoFreeze_&&Rb(i,!0),r){const a=[],l=[];Ks("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Yr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vs(e)||Yr(8),vl(e)&&(e=lH(e));const t=wA(this),n=Jv(e,void 0);return n[gr].isManual_=!0,Kv(t),n}finishDraft(e,t){const n=e&&e[gr];(!n||!n.isManual_)&&Yr(9);const{scope_:r}=n;return bA(r,t),SA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ks("Patches").applyPatches_;return vl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Jv(e,t){const n=Ic(e)?Ks("MapSet").proxyMap_(e,t):Cm(e)?Ks("MapSet").proxySet_(e,t):aH(e,t);return(t?t.scope_:hP()).drafts_.push(n),n}function lH(e){return vl(e)||Yr(10,e),pP(e)}function pP(e){if(!Vs(e)||jm(e))return e;const t=e[gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Gv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Gv(e,!0);return ph(n,(i,a)=>{fP(n,i,pP(a))},r),t&&(t.finalized_=!1),n}var uH=new oH;uH.produce;var cH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gP=Zn({name:"legend",initialState:cH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Et()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Qr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Et()},removeLegendPayload:{reducer(e,t){var n=Qr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Et()}}}),{setLegendSize:EA,setLegendSettings:dH,addLegendPayload:yP,replaceLegendPayload:vP,removeLegendPayload:xP}=gP.actions,fH=gP.reducer,hH=["contextPayload"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(null,arguments)}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t){if(e==null)return{};var n,r,i=vH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xH(e){return e.value}function bH(e){var{contextPayload:t}=e,n=yH(e,hH),r=yR(t,e.payloadUniqBy,xH),i=xl(xl({},n),{},{payload:r});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(cq,i)}function wH(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:f}=t,h,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-a.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?m={top:((i||0)-a.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),xl(xl({},h),m)}function SH(e){var t=pt();return N.useEffect(()=>{t(dH(e))},[t,e]),null}function _H(e){var t=pt();return N.useEffect(()=>(t(EA(e)),()=>{t(EA({width:0,height:0}))}),[t,e]),null}function EH(e,t,n,r){return e==="vertical"&&be(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var kH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ff(e){var t=Wt(e,kH),n=i8(),r=n$(),i=Wz(),{width:a,height:l,wrapperStyle:u,portal:f}=t,[h,m]=SR([n]),g=jb(),v=Ib();if(g==null||v==null)return null;var b=g-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),E=EH(t.layout,l,a,b),k=f?u:xl(xl({position:"absolute",width:(E==null?void 0:E.width)||a||"auto",height:(E==null?void 0:E.height)||l||"auto"},wH(u,t,i,g,v,h)),u),_=f??r;if(_==null||n==null)return null;var A=N.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:m},N.createElement(SH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&N.createElement(_H,{width:h.width,height:h.height}),N.createElement(bH,Wv({},t,E,{margin:i,chartWidth:g,chartHeight:v,contextPayload:n})));return ub.createPortal(A,_)}Ff.displayName="Legend";function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){NH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e){return Array.isArray(e)&&hi(e[0])&&hi(e[1])?e.join(" ~ "):e}var jH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:v=!1}=e,b=()=>{if(a&&a.length){var P={padding:0,margin:0},O=(u?hm(a,u):a).map((R,U)=>{if(R.type==="none")return null;var H=R.formatter||l||CH,{value:G,name:$}=R,V=G,D=$;if(H){var oe=H(G,$,R,U,a);if(Array.isArray(oe))[V,D]=oe;else if(oe!=null)V=oe;else return null}var de=Py({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:de},hi(D)?N.createElement("span",{className:"recharts-tooltip-item-name"},D):null,hi(D)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},V),N.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},E=Py({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),k=Py({margin:0},i),_=!Tt(m),A=_?m:"",C=Qe("recharts-default-tooltip",f),j=Qe("recharts-tooltip-label",h);_&&g&&a!==void 0&&a!==null&&(A=g(m,a));var I=v?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Xv({className:C,style:E},I),N.createElement("p",{className:j,style:k},N.isValidElement(A)?A:"".concat(A)),b())},Lu="recharts-tooltip-wrapper",IH={visibility:"hidden"};function RH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qe(Lu,{["".concat(Lu,"-right")]:be(n)&&t&&be(t.x)&&n>=t.x,["".concat(Lu,"-left")]:be(n)&&t&&be(t.x)&&n<t.x,["".concat(Lu,"-bottom")]:be(r)&&t&&be(t.y)&&r>=t.y,["".concat(Lu,"-top")]:be(r)&&t&&be(t.y)&&r<t.y})}function AA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=e;if(a&&be(a[r]))return a[r];var m=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?m:g;var v=f[r];if(v==null)return 0;if(l[r]){var b=m,E=v;return b<E?Math.max(g,v):Math.max(m,v)}if(h==null)return 0;var k=g+u,_=v+h;return k>_?Math.max(m,v):Math.max(g,v)}function PH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function OH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,h,m,g;return l.height>0&&l.width>0&&n?(m=AA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=AA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=PH({translateX:m,translateY:g,useTranslate3d:u})):h=IH,{cssProperties:h,cssClasses:RH({translateX:m,translateY:g,coordinate:n})}}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){Qv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qv(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LH extends N.PureComponent{constructor(){super(...arguments),Qv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:m,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:E,lastBoundingBox:k,innerRef:_,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:j}=OH({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:b}),I=A?{}:bf(bf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=bf(bf({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},E);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:_},a)}}var bP=()=>{var e;return(e=we(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(null,arguments)}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IA={curveBasisClosed:w$,curveBasisOpen:S$,curveBasis:b$,curveBumpX:s$,curveBumpY:o$,curveLinearClosed:_$,curveLinear:dm,curveMonotoneX:E$,curveMonotoneY:k$,curveNatural:N$,curveStep:A$,curveStepAfter:C$,curveStepBefore:T$},vh=e=>wt(e.x)&&wt(e.y),RA=e=>e.base!=null&&vh(e.base)&&vh(e),Uu=e=>e.x,Bu=e=>e.y,qH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ec(e));return(n==="curveMonotone"||n==="curveBump")&&t?IA["".concat(n).concat(t==="vertical"?"Y":"X")]:IA[n]||dm},zH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=qH(t,i),u=a?n.filter(vh):n,f;if(Array.isArray(r)){var h=n.map((b,E)=>jA(jA({},b),{},{base:r[E]}));i==="vertical"?f=ff().y(Bu).x1(Uu).x0(b=>b.base.x):f=ff().x(Uu).y1(Bu).y0(b=>b.base.y);var m=f.defined(RA).curve(l),g=a?h.filter(RA):h;return m(g)}i==="vertical"&&be(r)?f=ff().y(Bu).x1(Uu).x0(r):be(r)?f=ff().x(Uu).y1(Bu).y0(r):f=VI().x(Uu).y(Bu);var v=f.defined(vh).curve(l);return v(u)},il=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?zH(e):r;return N.createElement("path",Zv({},Qn(e),yb(e),{className:Qe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},HH=["x","y","top","left","width","height","className"];function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){GH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var n,r,i=JH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),XH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,f=YH(e,HH),h=FH({x:t,y:n,top:r,left:i,width:a,height:l},f);return!be(t)||!be(n)||!be(a)||!be(l)||!be(r)||!be(i)?null:N.createElement("path",ex({},Un(h),{className:Qe("recharts-cross",u),d:WH(t,n,a,l,r,i)}))};function QH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){ZH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZH(e,t,n){return(t=eF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e){var t=tF(e,"string");return typeof t=="symbol"?t:t+""}function tF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),wP=(e,t,n)=>e.map(r=>"".concat(nF(r)," ").concat(t,"ms ").concat(n)).join(","),rF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),dc=(e,t)=>Object.keys(t).reduce((n,r)=>MA(MA({},n),{},{[r]:e(r,t[r])}),{});function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){iF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iF(e,t,n){return(t=aF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aF(e){var t=sF(e,"string");return typeof t=="symbol"?t:t+""}function sF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=(e,t,n)=>e+(t-e)*n,tx=e=>{var{from:t,to:n}=e;return t!==n},SP=(e,t,n)=>{var r=dc((i,a)=>{if(tx(a)){var[l,u]=e(a.from,a.to,a.velocity);return Zt(Zt({},a),{},{from:l,velocity:u})}return a},t);return n<1?dc((i,a)=>tx(a)?Zt(Zt({},a),{},{velocity:xh(a.velocity,r[i].velocity,n),from:xh(a.from,r[i].from,n)}):a,t):SP(e,r,n-1)};function oF(e,t,n,r,i,a){var l,u=r.reduce((v,b)=>Zt(Zt({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>dc((v,b)=>b.from,u),h=()=>!Object.values(u).filter(tx).length,m=null,g=v=>{l||(l=v);var b=v-l,E=b/n.dt;u=SP(n,u,E),i(Zt(Zt(Zt({},e),t),f())),l=v,h()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function lF(e,t,n,r,i,a,l){var u=null,f=i.reduce((g,v)=>Zt(Zt({},g),{},{[v]:[e[v],t[v]]}),{}),h,m=g=>{h||(h=g);var v=(g-h)/r,b=dc((k,_)=>xh(..._,n(v)),f);if(a(Zt(Zt(Zt({},e),t),b)),v<1)u=l.setTimeout(m);else{var E=dc((k,_)=>xh(..._,n(1)),f);a(Zt(Zt(Zt({},e),t),E))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const uF=(e,t,n,r,i,a)=>{var l=rF(e,t);return n==null?()=>(i(Zt(Zt({},e),t)),()=>{}):n.isStepper===!0?oF(e,t,n,l,i,a):lF(e,t,n,r,l,i,a)};var bh=1e-4,_P=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],EP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),LA=(e,t)=>n=>{var r=_P(e,t);return EP(r,n)},cF=(e,t)=>n=>{var r=_P(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return EP(i,n)},dF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},fF=(e,t,n,r)=>{var i=LA(e,n),a=LA(t,r),l=cF(e,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,g=m,v=0;v<8;++v){var b=i(g)-m,E=l(g);if(Math.abs(b-m)<bh||E<bh)return a(g);g=u(g-b/E)}return a(g)};return f.isStepper=!1,f},UA=function(){return fF(...dF(...arguments))},hF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,f)=>{var h=-(l-u)*n,m=f*r,g=f+(h-m)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<bh&&Math.abs(g)<bh?[u,0]:[v,g]};return a.isStepper=!0,a.dt=i,a},mF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UA(e);case"spring":return hF();default:if(e.split("(")[0]==="cubic-bezier")return UA(e)}return typeof e=="function"?e:null};function pF(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=e.setTimeout(a.bind(null,h),f);return}a(f),i=e.setTimeout(a.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class gF{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function yF(){return pF(new gF)}var vF=N.createContext(yF);function xF(e,t){var n=N.useContext(vF);return N.useMemo(()=>t??n(e),[e,t,n])}var bF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cl={devToolsEnabled:!1,isSsr:bF()},wF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},BA={t:0},Oy={t:1};function Rc(e){var t=Wt(e,wF),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=t,m=n==="auto"?!Cl.isSsr:n,g=xF(t.animationId,t.animationManager),[v,b]=N.useState(m?BA:Oy),E=N.useRef(null);return N.useEffect(()=>{m||b(Oy)},[m]),N.useEffect(()=>{if(!m||!r)return kc;var k=uF(BA,Oy,mF(a),i,b,g.getTimeoutController()),_=()=>{E.current=k()};return g.start([f,l,_,i,u]),()=>{g.stop(),E.current&&E.current(),u()}},[m,r,i,a,l,f,u,g]),h(v.t)}function Pc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(ic(t)),r=N.useRef(e);return r.current!==e&&(n.current=ic(t),r.current=e),n.current}var SF=["radius"],_F=["radius"];function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){EF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EF(e,t,n){return(t=kF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}function zA(e,t){if(e==null)return{};var n,r,i=AF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HA=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>a?a:i[g];h="M".concat(e,",").concat(t+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+u*m[0],",").concat(t)),h+="L ".concat(e+n-u*m[1],",").concat(t),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*m[1])),h+="L ".concat(e+n,",").concat(t+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-u*m[2],",").concat(t+r)),h+="L ".concat(e+u*m[3],",").concat(t+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*m[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+n-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-u*b,",").concat(t+r,`
            L `).concat(e+u*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},FA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kP=e=>{var t=Wt(e,FA),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:h,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:k}=t,_=N.useRef(u),A=N.useRef(f),C=N.useRef(a),j=N.useRef(l),I=N.useMemo(()=>({x:a,y:l,width:u,height:f,radius:h}),[a,l,u,f,h]),P=Pc(I,"rectangle-");if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var O=Qe("recharts-rectangle",m);if(!k){var R=Un(t),{radius:U}=R,H=zA(R,SF);return N.createElement("path",wh({},H,{radius:typeof h=="number"?h:void 0,className:O,d:HA(a,l,u,f,h)}))}var G=_.current,$=A.current,V=C.current,D=j.current,oe="0px ".concat(r===-1?1:r,"px"),de="".concat(r,"px 0px"),z=wP(["strokeDasharray"],v,typeof g=="string"?g:FA.animationEasing);return N.createElement(Rc,{animationId:P,key:P,canBegin:r>0,duration:v,easing:g,isActive:k,begin:b},Z=>{var fe=bt(G,u,Z),te=bt($,f,Z),pe=bt(V,a,Z),L=bt(D,l,Z);n.current&&(_.current=fe,A.current=te,C.current=pe,j.current=L);var q;E?Z>0?q={transition:z,strokeDasharray:de}:q={strokeDasharray:oe}:q={strokeDasharray:de};var le=Un(t),{radius:he}=le,ie=zA(le,_F);return N.createElement("path",wh({},ie,{radius:typeof h=="number"?h:void 0,className:O,d:HA(pe,L,fe,te,h),ref:n,style:qA(qA({},q),t.style)}))})};function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){TF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TF(e,t,n){return(t=CF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sh=Math.PI/180,IF=e=>e*180/Math.PI,Vt=(e,t,n,r)=>({x:e+Math.cos(-Sh*r)*n,y:t+Math.sin(-Sh*r)*n}),NP=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},RF=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},PF=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=RF({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:IF(f),angleInRadian:f}},OF=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},MF=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},DF=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=PF({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=OF(t),m=a,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?VA(VA({},t),{},{radius:i,angle:MF(m,t)}):null};function AP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=Vt(t,n,r,i),u=Vt(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}var LF=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},wf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,h=u*(l?1:-1)+r,m=Math.asin(u/h)/Sh,g=f?i:i+a*m,v=Vt(t,n,h,g),b=Vt(t,n,r,g),E=f?i-a*m:i,k=Vt(t,n,h*Math.cos(m*Sh),E);return{center:v,circleTangency:b,lineTangency:k,theta:m}},TP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=LF(a,l),f=a+u,h=Vt(t,n,i,a),m=Vt(t,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var v=Vt(t,n,r,a),b=Vt(t,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},UF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=e,m=hn(h-f),{circleTangency:g,lineTangency:v,theta:b}=wf({cx:t,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:u}),{circleTangency:E,lineTangency:k,theta:_}=wf({cx:t,cy:n,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:u}),A=u?Math.abs(f-h):Math.abs(f-h)-b-_;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):TP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:I,theta:P}=wf({cx:t,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:O,lineTangency:R,theta:U}=wf({cx:t,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),H=u?Math.abs(f-h):Math.abs(f-h)-P-U;if(H<0&&a===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},BF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CP=e=>{var t=Wt(e,BF),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m,className:g}=t;if(a<i||h===m)return null;var v=Qe("recharts-sector",g),b=a-i,E=jn(l,b,0,!0),k;return E>0&&Math.abs(h-m)<360?k=UF({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):k=TP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),N.createElement("path",nx({},Un(t),{className:v,d:k}))};function $F(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(oR(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,f=Vt(r,i,a,u),h=Vt(r,i,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return AP(t)}}var My={},Dy={},Ly={},KA;function qF(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Ly)),Ly}var YA;function zF(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qF();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Dy)),Dy}var JA;function HF(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bR(),n=zF();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}e.range=r})(My)),My}var Uy,WA;function FF(){return WA||(WA=1,Uy=HF().range),Uy}var GF=FF();const jP=ei(GF);function Fa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ob(e){let t,n,r;e.length!==2?(t=Fa,n=(u,f)=>Fa(e(u),f),r=(u,f)=>e(u)-f):(t=e===Fa||e===VF?e:KF,n=e,r=e);function i(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;n(u[g],f)<0?h=g+1:m=g}while(h<m)}return h}function a(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;n(u[g],f)<=0?h=g+1:m=g}while(h<m)}return h}function l(u,f,h=0,m=u.length){const g=i(u,f,h,m-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:a}}function KF(){return 0}function IP(e){return e===null?NaN:+e}function*YF(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const JF=Ob(Fa),Oc=JF.right;Ob(IP).center;class XA extends Map{constructor(t,n=QF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(QA(this,t))}has(t){return super.has(QA(this,t))}set(t,n){return super.set(WF(this,t),n)}delete(t){return super.delete(XF(this,t))}}function QA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function WF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function XF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function QF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZF(e=Fa){if(e===Fa)return RP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function RP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e9=Math.sqrt(50),t9=Math.sqrt(10),n9=Math.sqrt(2);function _h(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=e9?10:a>=t9?5:a>=n9?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),f=Math.round(t*h),u/h<e&&++u,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),f=Math.round(t/h),u*h<e&&++u,f*h>t&&--f),f<u&&.5<=n&&n<2?_h(e,t,n*2):[u,f,h]}function rx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?_h(t,e,n):_h(e,t,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(a-h)/-l;else for(let h=0;h<u;++h)f[h]=(a-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function ix(e,t,n){return t=+t,e=+e,n=+n,_h(e,t,n)[2]}function ax(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ix(t,e,n):ix(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ZA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function PP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?RP:ZF(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,m=Math.log(f),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(t-h*g/f+v)),E=Math.min(r,Math.floor(t+(f-h)*g/f+v));PP(e,t,b,E,i)}const a=e[t];let l=n,u=r;for($u(e,n,t),i(e[r],a)>0&&$u(e,n,r);l<u;){for($u(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?$u(e,n,u):(++u,$u(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function $u(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function r9(e,t,n){if(e=Float64Array.from(YF(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return eT(e);if(t>=1)return ZA(e);var r,i=(r-1)*t,a=Math.floor(i),l=ZA(PP(e,a).subarray(0,a+1)),u=eT(e.subarray(a+1));return l+(u-l)*(i-a)}}function i9(e,t,n=IP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function a9(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ia(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sx=Symbol("implicit");function Mb(){var e=new XA,t=[],n=[],r=sx;function i(a){let l=e.get(a);if(l===void 0){if(r!==sx)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new XA;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mb(t,n).unknown(r)},$r.apply(i,arguments),i}function Db(){var e=Mb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,f=0,h=0,m=.5;delete e.unknown;function g(){var v=t().length,b=i<r,E=b?i:r,k=b?r:i;a=(k-E)/Math.max(1,v-f+h*2),u&&(a=Math.floor(a)),E+=(k-E-a*(v-f))*m,l=a*(1-f),u&&(E=Math.round(E),l=Math.round(l));var _=a9(v).map(function(A){return E+a*A});return n(b?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return Db(t(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(m)},$r.apply(g(),arguments)}function OP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OP(t())},e}function s9(){return OP(Db.apply(null,arguments).paddingInner(1))}function Lb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mc(){}var fc=.7,Eh=1/fc,al="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o9=/^#([0-9a-f]{3,8})$/,l9=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),u9=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),c9=new RegExp(`^rgba\\(${al},${al},${al},${hc}\\)$`),d9=new RegExp(`^rgba\\(${di},${di},${di},${hc}\\)$`),f9=new RegExp(`^hsl\\(${hc},${di},${di}\\)$`),h9=new RegExp(`^hsla\\(${hc},${di},${di},${hc}\\)$`),tT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lb(Mc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nT,formatHex:nT,formatHex8:m9,formatHsl:p9,formatRgb:rT,toString:rT});function nT(){return this.rgb().formatHex()}function m9(){return this.rgb().formatHex8()}function p9(){return DP(this).formatHsl()}function rT(){return this.rgb().formatRgb()}function mc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=o9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?iT(t):n===3?new Xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l9.exec(e))?new Xn(t[1],t[2],t[3],1):(t=u9.exec(e))?new Xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c9.exec(e))?Sf(t[1],t[2],t[3],t[4]):(t=d9.exec(e))?Sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=f9.exec(e))?oT(t[1],t[2]/100,t[3]/100,1):(t=h9.exec(e))?oT(t[1],t[2]/100,t[3]/100,t[4]):tT.hasOwnProperty(e)?iT(tT[e]):e==="transparent"?new Xn(NaN,NaN,NaN,0):null}function iT(e){return new Xn(e>>16&255,e>>8&255,e&255,1)}function Sf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xn(e,t,n,r)}function g9(e){return e instanceof Mc||(e=mc(e)),e?(e=e.rgb(),new Xn(e.r,e.g,e.b,e.opacity)):new Xn}function ox(e,t,n,r){return arguments.length===1?g9(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lb(Xn,ox,MP(Mc,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xn($s(this.r),$s(this.g),$s(this.b),kh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aT,formatHex:aT,formatHex8:y9,formatRgb:sT,toString:sT}));function aT(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}`}function y9(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}${Rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function sT(){const e=kh(this.opacity);return`${e===1?"rgb(":"rgba("}${$s(this.r)}, ${$s(this.g)}, ${$s(this.b)}${e===1?")":`, ${e})`}`}function kh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rs(e){return e=$s(e),(e<16?"0":"")+e.toString(16)}function oT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,n,r)}function DP(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof Mc||(e=mc(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new Jr(l,u,f,e.opacity)}function v9(e,t,n,r){return arguments.length===1?DP(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lb(Jr,v9,MP(Mc,{brighter(e){return e=e==null?Eh:Math.pow(Eh,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xn(By(e>=240?e-240:e+120,i,r),By(e,i,r),By(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Jr(lT(this.h),_f(this.s),_f(this.l),kh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kh(this.opacity);return`${e===1?"hsl(":"hsla("}${lT(this.h)}, ${_f(this.s)*100}%, ${_f(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lT(e){return e=(e||0)%360,e<0?e+360:e}function _f(e){return Math.max(0,Math.min(1,e||0))}function By(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ub=e=>()=>e;function x9(e,t){return function(n){return e+n*t}}function b9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function w9(e){return(e=+e)==1?LP:function(t,n){return n-t?b9(t,n,e):Ub(isNaN(t)?n:t)}}function LP(e,t){var n=t-e;return n?x9(e,n):Ub(isNaN(e)?t:e)}const uT=(function e(t){var n=w9(t);function r(i,a){var l=n((i=ox(i)).r,(a=ox(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=LP(i.opacity,a.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=e,r})(1);function S9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function _9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=jl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function k9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function N9(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var lx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$y=new RegExp(lx.source,"g");function A9(e){return function(){return e}}function T9(e){return function(t){return e(t)+""}}function C9(e,t){var n=lx.lastIndex=$y.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(e=e+"",t=t+"";(r=lx.exec(e))&&(i=$y.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Nh(r,i)})),n=$y.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?T9(f[0].x):A9(t):(t=f.length,function(h){for(var m=0,g;m<t;++m)u[(g=f[m]).i]=g.x(h);return u.join("")})}function jl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ub(t):(n==="number"?Nh:n==="string"?(r=mc(t))?(t=r,uT):C9:t instanceof mc?uT:t instanceof Date?k9:_9(t)?S9:Array.isArray(t)?E9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N9:Nh)(e,t)}function Bb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function j9(e,t){t===void 0&&(t=e,e=jl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function I9(e){return function(){return e}}function Ah(e){return+e}var cT=[0,1];function Ln(e){return e}function ux(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:I9(isNaN(t)?NaN:.5)}function R9(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function P9(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=ux(i,r),a=n(l,a)):(r=ux(r,i),a=n(a,l)),function(u){return a(r(u))}}function O9(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=ux(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var f=Oc(e,u,1,r)-1;return a[f](i[f](u))}}function Dc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Im(){var e=cT,t=cT,n=jl,r,i,a,l=Ln,u,f,h;function m(){var v=Math.min(e.length,t.length);return l!==Ln&&(l=R9(e[0],e[v-1])),u=v>2?O9:P9,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?a:(f||(f=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=u(t,e.map(r),Nh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Ah),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Bb,m()},g.clamp=function(v){return arguments.length?(l=v?!0:Ln,m()):l!==Ln},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,b){return r=v,i=b,m()}}function $b(){return Im()(Ln,Ln)}function M9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Th(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bl(e){return e=Th(Math.abs(e)),e?e[1]:NaN}function D9(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function L9(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var U9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=U9.exec(e)))throw new Error("invalid format: "+e);var t;return new qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=qb.prototype;function qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B9(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var UP;function $9(e,t){var n=Th(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(UP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Th(e,Math.max(0,t+a-1))[0]}function dT(e,t){var n=Th(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:M9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dT(e*100,t),r:dT,s:$9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hT(e){return e}var mT=Array.prototype.map,pT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function q9(e){var t=e.grouping===void 0||e.thousands===void 0?hT:D9(mT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?hT:L9(mT.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=pc(g);var v=g.fill,b=g.align,E=g.sign,k=g.symbol,_=g.zero,A=g.width,C=g.comma,j=g.precision,I=g.trim,P=g.type;P==="n"?(C=!0,P="g"):fT[P]||(j===void 0&&(j=12),I=!0,P="g"),(_||v==="0"&&b==="=")&&(_=!0,v="0",b="=");var O=k==="$"?n:k==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=k==="$"?r:/[%p]/.test(P)?l:"",U=fT[P],H=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function G($){var V=O,D=R,oe,de,z;if(P==="c")D=U($)+D,$="";else{$=+$;var Z=$<0||1/$<0;if($=isNaN($)?f:U(Math.abs($),j),I&&($=B9($)),Z&&+$==0&&E!=="+"&&(Z=!1),V=(Z?E==="("?E:u:E==="-"||E==="("?"":E)+V,D=(P==="s"?pT[8+UP/3]:"")+D+(Z&&E==="("?")":""),H){for(oe=-1,de=$.length;++oe<de;)if(z=$.charCodeAt(oe),48>z||z>57){D=(z===46?i+$.slice(oe+1):$.slice(oe))+D,$=$.slice(0,oe);break}}}C&&!_&&($=t($,1/0));var fe=V.length+$.length+D.length,te=fe<A?new Array(A-fe+1).join(v):"";switch(C&&_&&($=t(te+$,te.length?A-D.length:1/0),te=""),b){case"<":$=V+$+D+te;break;case"=":$=V+te+$+D;break;case"^":$=te.slice(0,fe=te.length>>1)+V+$+D+te.slice(fe);break;default:$=te+V+$+D;break}return a($)}return G.toString=function(){return g+""},G}function m(g,v){var b=h((g=pc(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(bl(v)/3)))*3,k=Math.pow(10,-E),_=pT[8+E/3];return function(A){return b(k*A)+_}}return{format:h,formatPrefix:m}}var Ef,zb,BP;z9({thousands:",",grouping:[3],currency:["$",""]});function z9(e){return Ef=q9(e),zb=Ef.format,BP=Ef.formatPrefix,Ef}function H9(e){return Math.max(0,-bl(Math.abs(e)))}function F9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(t)/3)))*3-bl(Math.abs(e)))}function G9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bl(t)-bl(e))+1}function $P(e,t,n,r){var i=ax(e,t,n),a;switch(r=pc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=F9(i,l))&&(r.precision=a),BP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=G9(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=H9(i))&&(r.precision=a-(r.type==="%")*2);break}}return zb(r)}function Qa(e){var t=e.domain;return e.ticks=function(n){var r=t();return rx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $P(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],f,h,m=10;for(u<l&&(h=l,l=u,u=h,h=i,i=a,a=h);m-- >0;){if(h=ix(l,u,n),h===f)return r[i]=l,r[a]=u,t(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return e},e}function qP(){var e=$b();return e.copy=function(){return Dc(e,qP())},$r.apply(e,arguments),Qa(e)}function zP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ah),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zP(e).unknown(t)},e=arguments.length?Array.from(e,Ah):[0,1],Qa(n)}function HP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function gT(e){return Math.log(e)}function yT(e){return Math.exp(e)}function V9(e){return-Math.log(-e)}function K9(e){return-Math.exp(-e)}function Y9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function J9(e){return e===10?Y9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function W9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vT(e){return(t,n)=>-e(-t,n)}function Hb(e){const t=e(gT,yT),n=t.domain;let r=10,i,a;function l(){return i=W9(r),a=J9(r),n()[0]<0?(i=vT(i),a=vT(a),e(V9,K9)):e(gT,yT),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const f=n();let h=f[0],m=f[f.length-1];const g=m<h;g&&([h,m]=[m,h]);let v=i(h),b=i(m),E,k;const _=u==null?10:+u;let A=[];if(!(r%1)&&b-v<_){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(E=1;E<r;++E)if(k=v<0?E/a(-v):E*a(v),!(k<h)){if(k>m)break;A.push(k)}}else for(;v<=b;++v)for(E=r-1;E>=1;--E)if(k=v>0?E/a(-v):E*a(v),!(k<h)){if(k>m)break;A.push(k)}A.length*2<_&&(A=rx(h,m,_))}else A=rx(v,b,Math.min(b-v,_)).map(a);return g?A.reverse():A},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=pc(f)).precision==null&&(f.trim=!0),f=zb(f)),u===1/0)return f;const h=Math.max(1,r*u/t.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=h?f(m):""}},t.nice=()=>n(HP(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function FP(){const e=Hb(Im()).domain([1,10]);return e.copy=()=>Dc(e,FP()).base(e.base()),$r.apply(e,arguments),e}function xT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Fb(e){var t=1,n=e(xT(t),bT(t));return n.constant=function(r){return arguments.length?e(xT(t=+r),bT(t)):t},Qa(n)}function GP(){var e=Fb(Im());return e.copy=function(){return Dc(e,GP()).constant(e.constant())},$r.apply(e,arguments)}function wT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Q9(e){return e<0?-e*e:e*e}function Gb(e){var t=e(Ln,Ln),n=1;function r(){return n===1?e(Ln,Ln):n===.5?e(X9,Q9):e(wT(n),wT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Qa(t)}function Vb(){var e=Gb(Im());return e.copy=function(){return Dc(e,Vb()).exponent(e.exponent())},$r.apply(e,arguments),e}function Z9(){return Vb.apply(null,arguments).exponent(.5)}function ST(e){return Math.sign(e)*e*e}function eG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VP(){var e=$b(),t=[0,1],n=!1,r;function i(a){var l=eG(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(ST(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ah)).map(ST)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},$r.apply(i,arguments),Qa(i)}function KP(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=i9(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Oc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Fa),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return KP().domain(e).range(t).unknown(r)},$r.apply(a,arguments)}function YP(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Oc(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return YP().domain([e,t]).range(i).unknown(a)},$r.apply(Qa(l),arguments)}function JP(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Oc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JP().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}const qy=new Date,zy=new Date;function tn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let h;do f.push(h=new Date(+a)),t(a,u),e(a);while(h<a&&a<l);return f},i.filter=a=>tn(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(qy.setTime(+a),zy.setTime(+l),e(qy),e(zy),Math.floor(n(qy,zy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ch=tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ch);Ch.range;const zi=1e3,Or=zi*60,Hi=Or*60,Ji=Hi*24,Kb=Ji*7,_T=Ji*30,Hy=Ji*365,Ps=tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCSeconds());Ps.range;const Yb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zi)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getMinutes());Yb.range;const Jb=tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCMinutes());Jb.range;const Wb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zi-e.getMinutes()*Or)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getHours());Wb.range;const Xb=tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCHours());Xb.range;const Lc=tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Or)/Ji,e=>e.getDate()-1);Lc.range;const Rm=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>e.getUTCDate()-1);Rm.range;const WP=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>Math.floor(e/Ji));WP.range;function to(e){return tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Or)/Kb)}const Pm=to(0),jh=to(1),tG=to(2),nG=to(3),wl=to(4),rG=to(5),iG=to(6);Pm.range;jh.range;tG.range;nG.range;wl.range;rG.range;iG.range;function no(e){return tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Kb)}const Om=no(0),Ih=no(1),aG=no(2),sG=no(3),Sl=no(4),oG=no(5),lG=no(6);Om.range;Ih.range;aG.range;sG.range;Sl.range;oG.range;lG.range;const Qb=tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qb.range;const Zb=tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zb.range;const Wi=tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wi.range;const Xi=tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xi.range;function XP(e,t,n,r,i,a){const l=[[Ps,1,zi],[Ps,5,5*zi],[Ps,15,15*zi],[Ps,30,30*zi],[a,1,Or],[a,5,5*Or],[a,15,15*Or],[a,30,30*Or],[i,1,Hi],[i,3,3*Hi],[i,6,6*Hi],[i,12,12*Hi],[r,1,Ji],[r,2,2*Ji],[n,1,Kb],[t,1,_T],[t,3,3*_T],[e,1,Hy]];function u(h,m,g){const v=m<h;v&&([h,m]=[m,h]);const b=g&&typeof g.range=="function"?g:f(h,m,g),E=b?b.range(h,+m+1):[];return v?E.reverse():E}function f(h,m,g){const v=Math.abs(m-h)/g,b=Ob(([,,_])=>_).right(l,v);if(b===l.length)return e.every(ax(h/Hy,m/Hy,g));if(b===0)return Ch.every(Math.max(ax(h,m,g),1));const[E,k]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return E.every(k)}return[u,f]}const[uG,cG]=XP(Xi,Zb,Om,WP,Xb,Jb),[dG,fG]=XP(Wi,Qb,Pm,Lc,Wb,Yb);function Fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,h=zu(i),m=Hu(i),g=zu(a),v=Hu(a),b=zu(l),E=Hu(l),k=zu(u),_=Hu(u),A=zu(f),C=Hu(f),j={a:Z,A:fe,b:te,B:pe,c:null,d:CT,e:CT,f:DG,g:VG,G:YG,H:PG,I:OG,j:MG,L:QP,m:LG,M:UG,p:L,q,Q:RT,s:PT,S:BG,u:$G,U:qG,V:zG,w:HG,W:FG,x:null,X:null,y:GG,Y:KG,Z:JG,"%":IT},I={a:le,A:he,b:ie,B:ye,c:null,d:jT,e:jT,f:ZG,g:uV,G:dV,H:WG,I:XG,j:QG,L:eO,m:eV,M:tV,p:ge,q:Ie,Q:RT,s:PT,S:nV,u:rV,U:iV,V:aV,w:sV,W:oV,x:null,X:null,y:lV,Y:cV,Z:fV,"%":IT},P={a:G,A:$,b:V,B:D,c:oe,d:AT,e:AT,f:CG,g:NT,G:kT,H:TT,I:TT,j:kG,L:TG,m:EG,M:NG,p:H,q:_G,Q:IG,s:RG,S:AG,u:vG,U:xG,V:bG,w:yG,W:wG,x:de,X:z,y:NT,Y:kT,Z:SG,"%":jG};j.x=O(n,j),j.X=O(r,j),j.c=O(t,j),I.x=O(n,I),I.X=O(r,I),I.c=O(t,I);function O(re,Te){return function(Q){var ee=[],Ce=-1,ke=0,Oe=re.length,Le,Ut,jt;for(Q instanceof Date||(Q=new Date(+Q));++Ce<Oe;)re.charCodeAt(Ce)===37&&(ee.push(re.slice(ke,Ce)),(Ut=ET[Le=re.charAt(++Ce)])!=null?Le=re.charAt(++Ce):Ut=Le==="e"?" ":"0",(jt=Te[Le])&&(Le=jt(Q,Ut)),ee.push(Le),ke=Ce+1);return ee.push(re.slice(ke,Ce)),ee.join("")}}function R(re,Te){return function(Q){var ee=qu(1900,void 0,1),Ce=U(ee,re,Q+="",0),ke,Oe;if(Ce!=Q.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Te&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ke=Gy(qu(ee.y,0,1)),Oe=ke.getUTCDay(),ke=Oe>4||Oe===0?Ih.ceil(ke):Ih(ke),ke=Rm.offset(ke,(ee.V-1)*7),ee.y=ke.getUTCFullYear(),ee.m=ke.getUTCMonth(),ee.d=ke.getUTCDate()+(ee.w+6)%7):(ke=Fy(qu(ee.y,0,1)),Oe=ke.getDay(),ke=Oe>4||Oe===0?jh.ceil(ke):jh(ke),ke=Lc.offset(ke,(ee.V-1)*7),ee.y=ke.getFullYear(),ee.m=ke.getMonth(),ee.d=ke.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Oe="Z"in ee?Gy(qu(ee.y,0,1)).getUTCDay():Fy(qu(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Oe+5)%7:ee.w+ee.U*7-(Oe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Gy(ee)):Fy(ee)}}function U(re,Te,Q,ee){for(var Ce=0,ke=Te.length,Oe=Q.length,Le,Ut;Ce<ke;){if(ee>=Oe)return-1;if(Le=Te.charCodeAt(Ce++),Le===37){if(Le=Te.charAt(Ce++),Ut=P[Le in ET?Te.charAt(Ce++):Le],!Ut||(ee=Ut(re,Q,ee))<0)return-1}else if(Le!=Q.charCodeAt(ee++))return-1}return ee}function H(re,Te,Q){var ee=h.exec(Te.slice(Q));return ee?(re.p=m.get(ee[0].toLowerCase()),Q+ee[0].length):-1}function G(re,Te,Q){var ee=b.exec(Te.slice(Q));return ee?(re.w=E.get(ee[0].toLowerCase()),Q+ee[0].length):-1}function $(re,Te,Q){var ee=g.exec(Te.slice(Q));return ee?(re.w=v.get(ee[0].toLowerCase()),Q+ee[0].length):-1}function V(re,Te,Q){var ee=A.exec(Te.slice(Q));return ee?(re.m=C.get(ee[0].toLowerCase()),Q+ee[0].length):-1}function D(re,Te,Q){var ee=k.exec(Te.slice(Q));return ee?(re.m=_.get(ee[0].toLowerCase()),Q+ee[0].length):-1}function oe(re,Te,Q){return U(re,t,Te,Q)}function de(re,Te,Q){return U(re,n,Te,Q)}function z(re,Te,Q){return U(re,r,Te,Q)}function Z(re){return l[re.getDay()]}function fe(re){return a[re.getDay()]}function te(re){return f[re.getMonth()]}function pe(re){return u[re.getMonth()]}function L(re){return i[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function le(re){return l[re.getUTCDay()]}function he(re){return a[re.getUTCDay()]}function ie(re){return f[re.getUTCMonth()]}function ye(re){return u[re.getUTCMonth()]}function ge(re){return i[+(re.getUTCHours()>=12)]}function Ie(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Te=O(re+="",j);return Te.toString=function(){return re},Te},parse:function(re){var Te=R(re+="",!1);return Te.toString=function(){return re},Te},utcFormat:function(re){var Te=O(re+="",I);return Te.toString=function(){return re},Te},utcParse:function(re){var Te=R(re+="",!0);return Te.toString=function(){return re},Te}}}var ET={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,mG=/^%/,pG=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function gG(e){return e.replace(pG,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(gG).join("|")+")","i")}function Hu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yG(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vG(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function bG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kT(e,t,n){var r=mn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function NT(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _G(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function EG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function AT(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kG(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function TT(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function NG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AG(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TG(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=mn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jG(e,t,n){var r=mG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function IG(e,t,n){var r=mn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function RG(e,t,n){var r=mn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function CT(e,t){return Ze(e.getDate(),t,2)}function PG(e,t){return Ze(e.getHours(),t,2)}function OG(e,t){return Ze(e.getHours()%12||12,t,2)}function MG(e,t){return Ze(1+Lc.count(Wi(e),e),t,3)}function QP(e,t){return Ze(e.getMilliseconds(),t,3)}function DG(e,t){return QP(e,t)+"000"}function LG(e,t){return Ze(e.getMonth()+1,t,2)}function UG(e,t){return Ze(e.getMinutes(),t,2)}function BG(e,t){return Ze(e.getSeconds(),t,2)}function $G(e){var t=e.getDay();return t===0?7:t}function qG(e,t){return Ze(Pm.count(Wi(e)-1,e),t,2)}function ZP(e){var t=e.getDay();return t>=4||t===0?wl(e):wl.ceil(e)}function zG(e,t){return e=ZP(e),Ze(wl.count(Wi(e),e)+(Wi(e).getDay()===4),t,2)}function HG(e){return e.getDay()}function FG(e,t){return Ze(jh.count(Wi(e)-1,e),t,2)}function GG(e,t){return Ze(e.getFullYear()%100,t,2)}function VG(e,t){return e=ZP(e),Ze(e.getFullYear()%100,t,2)}function KG(e,t){return Ze(e.getFullYear()%1e4,t,4)}function YG(e,t){var n=e.getDay();return e=n>=4||n===0?wl(e):wl.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function JG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function jT(e,t){return Ze(e.getUTCDate(),t,2)}function WG(e,t){return Ze(e.getUTCHours(),t,2)}function XG(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function QG(e,t){return Ze(1+Rm.count(Xi(e),e),t,3)}function eO(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function ZG(e,t){return eO(e,t)+"000"}function eV(e,t){return Ze(e.getUTCMonth()+1,t,2)}function tV(e,t){return Ze(e.getUTCMinutes(),t,2)}function nV(e,t){return Ze(e.getUTCSeconds(),t,2)}function rV(e){var t=e.getUTCDay();return t===0?7:t}function iV(e,t){return Ze(Om.count(Xi(e)-1,e),t,2)}function tO(e){var t=e.getUTCDay();return t>=4||t===0?Sl(e):Sl.ceil(e)}function aV(e,t){return e=tO(e),Ze(Sl.count(Xi(e),e)+(Xi(e).getUTCDay()===4),t,2)}function sV(e){return e.getUTCDay()}function oV(e,t){return Ze(Ih.count(Xi(e)-1,e),t,2)}function lV(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function uV(e,t){return e=tO(e),Ze(e.getUTCFullYear()%100,t,2)}function cV(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function dV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Sl(e):Sl.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function fV(){return"+0000"}function IT(){return"%"}function RT(e){return+e}function PT(e){return Math.floor(+e/1e3)}var Ho,nO,rO;hV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hV(e){return Ho=hG(e),nO=Ho.format,Ho.parse,rO=Ho.utcFormat,Ho.utcParse,Ho}function mV(e){return new Date(e)}function pV(e){return e instanceof Date?+e:+new Date(+e)}function ew(e,t,n,r,i,a,l,u,f,h){var m=$b(),g=m.invert,v=m.domain,b=h(".%L"),E=h(":%S"),k=h("%I:%M"),_=h("%I %p"),A=h("%a %d"),C=h("%b %d"),j=h("%B"),I=h("%Y");function P(O){return(f(O)<O?b:u(O)<O?E:l(O)<O?k:a(O)<O?_:r(O)<O?i(O)<O?A:C:n(O)<O?j:I)(O)}return m.invert=function(O){return new Date(g(O))},m.domain=function(O){return arguments.length?v(Array.from(O,pV)):v().map(mV)},m.ticks=function(O){var R=v();return e(R[0],R[R.length-1],O??10)},m.tickFormat=function(O,R){return R==null?P:h(R)},m.nice=function(O){var R=v();return(!O||typeof O.range!="function")&&(O=t(R[0],R[R.length-1],O??10)),O?v(HP(R,O)):m},m.copy=function(){return Dc(m,ew(e,t,n,r,i,a,l,u,f,h))},m}function gV(){return $r.apply(ew(dG,fG,Wi,Qb,Pm,Lc,Wb,Yb,Ps,nO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yV(){return $r.apply(ew(uG,cG,Xi,Zb,Om,Rm,Xb,Jb,Ps,rO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var e=0,t=1,n,r,i,a,l=Ln,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(a(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function m(g){return function(v){var b,E;return arguments.length?([b,E]=v,l=g(b,E),h):[l(0),l(1)]}}return h.range=m(jl),h.rangeRound=m(Bb),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return a=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function Za(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iO(){var e=Qa(Mm()(Ln));return e.copy=function(){return Za(e,iO())},ia.apply(e,arguments)}function aO(){var e=Hb(Mm()).domain([1,10]);return e.copy=function(){return Za(e,aO()).base(e.base())},ia.apply(e,arguments)}function sO(){var e=Fb(Mm());return e.copy=function(){return Za(e,sO()).constant(e.constant())},ia.apply(e,arguments)}function tw(){var e=Gb(Mm());return e.copy=function(){return Za(e,tw()).exponent(e.exponent())},ia.apply(e,arguments)}function vV(){return tw.apply(null,arguments).exponent(.5)}function oO(){var e=[],t=Ln;function n(r){if(r!=null&&!isNaN(r=+r))return t((Oc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Fa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>r9(e,a/r))},n.copy=function(){return oO(t).domain(e)},ia.apply(n,arguments)}function Dm(){var e=0,t=.5,n=1,r=1,i,a,l,u,f,h=Ln,m,g=!1,v;function b(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-a)*(r*k<r*a?u:f),h(g?Math.max(0,Math.min(1,k)):k))}b.domain=function(k){return arguments.length?([e,t,n]=k,i=m(e=+e),a=m(t=+t),l=m(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(k){return arguments.length?(g=!!k,b):g},b.interpolator=function(k){return arguments.length?(h=k,b):h};function E(k){return function(_){var A,C,j;return arguments.length?([A,C,j]=_,h=j9(k,[A,C,j]),b):[h(0),h(.5),h(1)]}}return b.range=E(jl),b.rangeRound=E(Bb),b.unknown=function(k){return arguments.length?(v=k,b):v},function(k){return m=k,i=k(e),a=k(t),l=k(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,b}}function lO(){var e=Qa(Dm()(Ln));return e.copy=function(){return Za(e,lO())},ia.apply(e,arguments)}function uO(){var e=Hb(Dm()).domain([.1,1,10]);return e.copy=function(){return Za(e,uO()).base(e.base())},ia.apply(e,arguments)}function cO(){var e=Fb(Dm());return e.copy=function(){return Za(e,cO()).constant(e.constant())},ia.apply(e,arguments)}function nw(){var e=Gb(Dm());return e.copy=function(){return Za(e,nw()).exponent(e.exponent())},ia.apply(e,arguments)}function xV(){return nw.apply(null,arguments).exponent(.5)}const Wu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Db,scaleDiverging:lO,scaleDivergingLog:uO,scaleDivergingPow:nw,scaleDivergingSqrt:xV,scaleDivergingSymlog:cO,scaleIdentity:zP,scaleImplicit:sx,scaleLinear:qP,scaleLog:FP,scaleOrdinal:Mb,scalePoint:s9,scalePow:Vb,scaleQuantile:KP,scaleQuantize:YP,scaleRadial:VP,scaleSequential:iO,scaleSequentialLog:aO,scaleSequentialPow:tw,scaleSequentialQuantile:oO,scaleSequentialSqrt:vV,scaleSequentialSymlog:sO,scaleSqrt:Z9,scaleSymlog:GP,scaleThreshold:JP,scaleTime:gV,scaleUtc:yV,tickFormat:$P},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,rw=W([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Lm=(e,t,n,r)=>r?rw(e):es(e);function Ka(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wt(t)&&wt(n))return!0}return!1}function OT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wt(n))i=n;else if(typeof n=="function")return;if(wt(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Ka(l))return l}}function bV(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ka(r))return OT(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&lA.test(i)){var f=lA.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(be(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&uA.test(a)){var m=uA.exec(a);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(Ka(v))return t==null?v:OT(v,t,n)}}}var Il=1e9,wV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aw,kt=!0,Br="[DecimalError] ",qs=Br+"Invalid argument: ",iw=Br+"Exponent out of range: ",Rl=Math.floor,Ns=Math.pow,SV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cr,dn=1e7,xt=7,fO=9007199254740991,Rh=Rl(fO/xt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*xt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(e){return Gi(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,n=t.constructor;return ft(Gi(t,new n(e),0,1),n.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Jt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(cr))throw Error(Br+"NaN");if(n.s<1)throw Error(Br+(n.s?"NaN":"-Infinity"));return n.eq(cr)?new r(0):(kt=!1,t=Gi(gc(n,a),gc(e,a),a),kt=!0,ft(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pO(t,e):hO(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Br+"NaN");return n.s?(kt=!1,t=Gi(n,e,0,1).times(e),kt=!0,n.minus(t)):ft(new r(n),i)};Se.naturalExponential=Se.exp=function(){return mO(this)};Se.naturalLogarithm=Se.ln=function(){return gc(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hO(t,e):pO(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qs+e);if(t=Jt(i)+1,r=i.d.length-1,n=r*xt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Se.squareRoot=Se.sqrt=function(){var e,t,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Br+"NaN")}for(e=Jt(u),kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ci(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(Gi(u,a,l+2)).times(.5),ci(a.d).slice(0,l)===(t=ci(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(ft(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return kt=!0,ft(r,n)};Se.times=Se.mul=function(e){var t,n,r,i,a,l,u,f,h,m=this,g=m.constructor,v=m.d,b=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,n=m.e+e.e,f=v.length,h=b.length,f<h&&(a=v,v=b,b=a,l=f,f=h,h=l),a=[],l=f+h,r=l;r--;)a.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)u=a[i]+b[r]*v[i-r-1]+t,a[i--]=u%dn|0,t=u/dn|0;a[i]=(a[i]+t)%dn|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,kt?ft(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(pi(e,0,Il),t===void 0?t=r.rounding:pi(t,0,8),ft(n,e+Jt(n)+1,t))};Se.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ys(r,!0):(pi(e,0,Il),t===void 0?t=i.rounding:pi(t,0,8),r=ft(new i(r),e+1,t),n=Ys(r,!0,e+1)),n};Se.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Ys(i):(pi(e,0,Il),t===void 0?t=a.rounding:pi(t,0,8),r=ft(new a(i),e+Jt(i)+1,t),n=Ys(r.abs(),!1,e+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return ft(new t(e),Jt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,n,r,i,a,l,u=this,f=u.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(cr);if(u=new f(u),!u.s){if(e.s<1)throw Error(Br+"Infinity");return u}if(u.eq(cr))return u;if(r=f.precision,e.eq(cr))return ft(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=m<0?-m:m)<=fO){for(i=new f(cr),t=Math.ceil(r/xt+4),kt=!1;n%2&&(i=i.times(u),DT(i.d,t)),n=Rl(n/2),n!==0;)u=u.times(u),DT(u.d,t);return kt=!0,e.s<0?new f(cr).div(i):ft(i,r)}}else if(a<0)throw Error(Br+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,kt=!1,i=e.times(gc(u,r+h)),kt=!0,i=mO(i),i.s=a,i};Se.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Jt(i),r=Ys(i,n<=a.toExpNeg||n>=a.toExpPos)):(pi(e,1,Il),t===void 0?t=a.rounding:pi(t,0,8),i=ft(new a(i),e,t),n=Jt(i),r=Ys(i,e<=n||n<=a.toExpNeg,e)),r};Se.toSignificantDigits=Se.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(pi(e,1,Il),t===void 0?t=r.rounding:pi(t,0,8)),ft(new r(n),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),n=e.constructor;return Ys(e,t<=n.toExpNeg||t>=n.toExpPos)};function hO(e,t){var n,r,i,a,l,u,f,h,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),kt?ft(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(g/xt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/dn|0,f[a]%=dn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,kt?ft(t,g):t}function pi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(qs+e)}function ci(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=xt-r.length,n&&(a+=La(n)),a+=r;l=e[t],r=l+"",n=xt-r.length,n&&(a+=La(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Gi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%dn|0,l=a/dn|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*dn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,h,m,g,v,b,E,k,_,A,C,j,I,P,O,R,U,H=r.constructor,G=r.s==i.s?1:-1,$=r.d,V=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Br+"Division by zero");for(f=r.e-i.e,R=V.length,P=$.length,b=new H(G),E=b.d=[],h=0;V[h]==($[h]||0);)++h;if(V[h]>($[h]||0)&&--f,a==null?C=a=H.precision:l?C=a+(Jt(r)-Jt(i))+1:C=a,C<0)return new H(0);if(C=C/xt+2|0,h=0,R==1)for(m=0,V=V[0],C++;(h<P||m)&&C--;h++)j=m*dn+($[h]||0),E[h]=j/V|0,m=j%V|0;else{for(m=dn/(V[0]+1)|0,m>1&&(V=e(V,m),$=e($,m),R=V.length,P=$.length),I=R,k=$.slice(0,R),_=k.length;_<R;)k[_++]=0;U=V.slice(),U.unshift(0),O=V[0],V[1]>=dn/2&&++O;do m=0,u=t(V,k,R,_),u<0?(A=k[0],R!=_&&(A=A*dn+(k[1]||0)),m=A/O|0,m>1?(m>=dn&&(m=dn-1),g=e(V,m),v=g.length,_=k.length,u=t(g,k,v,_),u==1&&(m--,n(g,R<v?U:V,v))):(m==0&&(u=m=1),g=V.slice()),v=g.length,v<_&&g.unshift(0),n(k,g,_),u==-1&&(_=k.length,u=t(V,k,R,_),u<1&&(m++,n(k,R<_?U:V,_))),_=k.length):u===0&&(m++,k=[0]),E[h++]=m,u&&k[0]?k[_++]=$[I]||0:(k=[$[I]],_=1);while((I++<P||k[0]!==void 0)&&C--)}return E[0]||E.shift(),b.e=f,ft(b,l?a+Jt(b)+1:a)}})();function mO(e,t){var n,r,i,a,l,u,f=0,h=0,m=e.constructor,g=m.precision;if(Jt(e)>16)throw Error(iw+Jt(e));if(!e.s)return new m(cr);for(kt=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(Ns(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new m(cr),m.precision=u;;){if(i=ft(i.times(e),u),n=n.times(++f),l=a.plus(Gi(i,n,u)),ci(l.d).slice(0,u)===ci(a.d).slice(0,u)){for(;h--;)a=ft(a.times(a),u);return m.precision=g,t==null?(kt=!0,ft(a,g)):a}a=l}}function Jt(e){for(var t=e.e*xt,n=e.d[0];n>=10;n/=10)t++;return t}function Vy(e,t,n){if(t>e.LN10.sd())throw kt=!0,n&&(e.precision=n),Error(Br+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function La(e){for(var t="";e--;)t+="0";return t}function gc(e,t){var n,r,i,a,l,u,f,h,m,g=1,v=10,b=e,E=b.d,k=b.constructor,_=k.precision;if(b.s<1)throw Error(Br+(b.s?"NaN":"-Infinity"));if(b.eq(cr))return new k(0);if(t==null?(kt=!1,h=_):h=t,b.eq(10))return t==null&&(kt=!0),Vy(k,h);if(h+=v,k.precision=h,n=ci(E),r=n.charAt(0),a=Jt(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=ci(b.d),r=n.charAt(0),g++;a=Jt(b),r>1?(b=new k("0."+n),a++):b=new k(r+"."+n.slice(1))}else return f=Vy(k,h+2,_).times(a+""),b=gc(new k(r+"."+n.slice(1)),h-v).plus(f),k.precision=_,t==null?(kt=!0,ft(b,_)):b;for(u=l=b=Gi(b.minus(cr),b.plus(cr),h),m=ft(b.times(b),h),i=3;;){if(l=ft(l.times(m),h),f=u.plus(Gi(l,new k(i),h)),ci(f.d).slice(0,h)===ci(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus(Vy(k,h+2,_).times(a+""))),u=Gi(u,new k(g),h),k.precision=_,t==null?(kt=!0,ft(u,_)):u;u=f,i+=2}}function MT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rl(n/xt),e.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=xt;r<i;)e.d.push(+t.slice(r,r+=xt));t=t.slice(r),r=xt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),kt&&(e.e>Rh||e.e<-Rh))throw Error(iw+n)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,n){var r,i,a,l,u,f,h,m,g=e.d;for(l=1,a=g[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=xt,i=t,h=g[m=0];else{if(m=Math.ceil((r+1)/xt),a=g.length,m>=a)return e;for(h=a=g[m],l=1;a>=10;a/=10)l++;r%=xt,i=r-xt+l}if(n!==void 0&&(a=Ns(10,l-i-1),u=h/a%10|0,f=t<0||g[m+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/Ns(10,l-i):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(a=Jt(e),g.length=1,t=t-a-1,g[0]=Ns(10,(xt-t%xt)%xt),e.e=Rl(-t/xt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=m,a=1,m--):(g.length=m+1,a=Ns(10,xt-r),g[m]=i>0?(h/Ns(10,l-i)%Ns(10,i)|0)*a:0),f)for(;;)if(m==0){(g[0]+=a)==dn&&(g[0]=1,++e.e);break}else{if(g[m]+=a,g[m]!=dn)break;g[m--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(kt&&(e.e>Rh||e.e<-Rh))throw Error(iw+Jt(e));return e}function pO(e,t){var n,r,i,a,l,u,f,h,m,g,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),kt?ft(t,b):t;if(f=e.d,g=t.d,r=t.e,h=e.e,f=f.slice(),l=h-r,l){for(m=l<0,m?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(b/xt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){m=f[i]<g[i];break}l=0}for(m&&(n=f,f=g,g=n,t.s=-t.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=dn-1;--f[a],f[i]+=dn}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,kt?ft(t,b):t):new v(0)}function Ys(e,t,n){var r,i=Jt(e),a=ci(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+La(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+La(-i-1)+a,n&&(r=n-l)>0&&(a+=La(r))):i>=l?(a+=La(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+La(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=La(r))),e.s<0?"-"+a:a}function DT(e,t){if(e.length>t)return e.length=t,!0}function gO(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qs+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return MT(l,a.toString())}else if(typeof a!="string")throw Error(qs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,SV.test(a))MT(l,a);else throw Error(qs+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gO,i.config=i.set=_V,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function _V(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,n,r,i=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(qs+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qs+n+": "+r);return this}var aw=gO(wV);cr=new aw(1);const it=aw;var EV=e=>e,yO={},vO=e=>e===yO,LT=e=>function t(){return arguments.length===0||arguments.length===1&&vO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xO=(e,t)=>e===1?t:LT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==yO).length;return a>=e?t(...r):xO(e-a,LT(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(m=>vO(m)?u.shift():m);return t(...h,...u)}))}),kV=e=>xO(e.length,e),cx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},NV=kV((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),AV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return EV;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),a(...arguments))}},dx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function bO(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function wO(e,t,n){for(var r=new it(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var SO=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_O=(e,t,n)=>{if(e.lte(0))return new it(0);var r=bO(e.toNumber()),i=new it(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new it(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return t?new it(f.toNumber()):new it(Math.ceil(f.toNumber()))},TV=(e,t,n)=>{var r=new it(1),i=new it(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new it(10).pow(bO(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));var l=Math.floor((t-1)/2),u=AV(NV(f=>i.add(new it(f-l).mul(r)).toNumber()),cx);return u(0,t)},EO=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var l=_O(new it(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new it(0):(u=new it(t).add(n).div(2),u=u.sub(new it(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new it(n).sub(u).div(l).toNumber()),m=f+h+1;return m>r?EO(t,n,r,i,a+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:l,tickMin:u.sub(new it(f).mul(l)),tickMax:u.add(new it(h).mul(l))})},CV=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=SO([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...cx(0,i-1).map(()=>1/0)]:[...cx(0,i-1).map(()=>-1/0),f];return n>r?dx(h):h}if(u===f)return TV(u,i,a);var{step:m,tickMin:g,tickMax:v}=EO(u,f,l,a,0),b=wO(g,v.add(new it(.1).mul(m)),m);return n>r?dx(b):b},jV=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=SO([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),h=_O(new it(u).sub(l).div(f-1),a,0),m=[...wO(new it(l),new it(u),h),u];return a===!1&&(m=m.map(g=>Math.round(g))),r>i?dx(m):m},kO=e=>e.rootProps.maxBarSize,IV=e=>e.rootProps.barGap,NO=e=>e.rootProps.barCategoryGap,RV=e=>e.rootProps.barSize,Uc=e=>e.rootProps.stackOffset,AO=e=>e.rootProps.reverseStackOrder,sw=e=>e.options.chartName,ow=e=>e.rootProps.syncId,TO=e=>e.rootProps.syncMethod,lw=e=>e.options.eventEmitter,PV=e=>e.rootProps.baseValue,Kt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$i={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},OV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$i.angleAxisId,includeHidden:!1,name:void 0,reversed:$i.reversed,scale:$i.scale,tick:$i.tick,tickCount:void 0,ticks:void 0,type:$i.type,unit:void 0},MV={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},DV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},LV={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},uw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DV:OV,cw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?LV:MV,Bm=e=>e.polarOptions,dw=W([na,ra,en],NP),CO=W([Bm,dw],(e,t)=>{if(e!=null)return jn(e.innerRadius,t,0)}),jO=W([Bm,dw],(e,t)=>{if(e!=null)return jn(e.outerRadius,t,t*.8)}),UV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},IO=W([Bm],UV);W([uw,IO],Um);var RO=W([dw,CO,jO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([cw,RO],Um);var PO=W([Ke,Bm,CO,jO,na,ra],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=t;return{cx:jn(l,i,i/2),cy:jn(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Nt=(e,t)=>t,Bc=(e,t,n)=>n;function $m(e){return e==null?void 0:e.id}function OO(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var m=$m(u);h.forEach((g,v)=>{var b=a==null||i?v:String(dt(g,a,null)),E=dt(g,u.dataKey,0),k;l.has(b)?k=l.get(b):k={},Object.assign(k,{[m]:E}),l.set(b,k)})}}),Array.from(l.values())}function qm(e){return e.stackId!=null&&e.dataKey!=null}var zm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function BV(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var nn=e=>{var t=Ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Pl=e=>e.tooltip.settings.axisId;function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){$V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $V(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fx=[0,"auto"],un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},MO=(e,t)=>e.cartesianAxis.xAxis[t],aa=(e,t)=>{var n=MO(e,t);return n??un},cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jc},DO=(e,t)=>e.cartesianAxis.yAxis[t],sa=(e,t)=>{var n=DO(e,t);return n??cn},HV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fw=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??HV},Ct=(e,t,n)=>{switch(t){case"xAxis":return aa(e,n);case"yAxis":return sa(e,n);case"zAxis":return fw(e,n);case"angleAxis":return uw(e,n);case"radiusAxis":return cw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FV=(e,t,n)=>{switch(t){case"xAxis":return aa(e,n);case"yAxis":return sa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$c=(e,t,n)=>{switch(t){case"xAxis":return aa(e,n);case"yAxis":return sa(e,n);case"angleAxis":return uw(e,n);case"radiusAxis":return cw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},LO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function hw(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Fm=e=>e.graphicalItems.cartesianItems,GV=W([Nt,Bc],hw),mw=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),qc=W([Fm,Ct,GV],mw,{memoizeOptions:{resultEqualityCheck:Hm}}),UO=W([qc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qm)),BO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),VV=W([qc],BO),pw=e=>e.map(t=>t.data).filter(Boolean).flat(1),KV=W([qc],pw,{memoizeOptions:{resultEqualityCheck:Hm}}),gw=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},yw=W([KV,Lm],gw),vw=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:dt(i,r)}))):e.map(r=>({value:r})),Gm=W([yw,Ct,qc],vw);function $O(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Gf(e){if(hi(e)||e instanceof Date){var t=Number(e);if(wt(t))return t}}function BT(e){if(Array.isArray(e)){var t=[Gf(e[0]),Gf(e[1])];return Ka(t)?t:void 0}var n=Gf(e);if(n!=null)return[n,n]}function Qi(e){return e.map(Gf).filter(q$)}function YV(e,t,n){return!n||typeof t!="number"||Lr(t)?[]:n.length?Qi(n.flatMap(r=>{var i=dt(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!wt(a)||!wt(l)))return[t-a,t+l]})):[]}var rn=e=>{var t=nn(e),n=Pl(e);return $c(e,t,n)},zc=W([rn],e=>e==null?void 0:e.dataKey),JV=W([UO,Lm,rn],OO),qO=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,f]=l,h=r?[...f].reverse():f,m=h.map($m);return[u,{stackedData:mz(e,m,n),graphicalItems:h}]}))},yc=W([JV,UO,Uc,AO],qO),zO=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=vz(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},WV=W([Ct],e=>e.allowDataOverflow),xw=e=>{var t;if(e==null||!("domain"in e))return fx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Qi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:fx},bw=W([Ct],xw),ww=W([bw,WV],dO),XV=W([yc,es,Nt,ww],zO,{memoizeOptions:{resultEqualityCheck:zm}}),Vm=e=>e.errorBars,QV=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>$O(n,r)),Oh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},Sw=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var h,m,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(A=>$O(i,A)),v=dt(u,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),b=YV(u,v,g);if(b.length>=2){var E=Math.min(...b),k=Math.max(...b);(a==null||E<a)&&(a=E),(l==null||k>l)&&(l=k)}var _=BT(v);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=BT(dt(u,t.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),wt(a)&&wt(l))return[a,l]},ZV=W([yw,Ct,VV,Vm,Nt],Sw,{memoizeOptions:{resultEqualityCheck:zm}});function e7(e){var{value:t}=e;if(hi(t)||t instanceof Date)return t}var t7=(e,t,n)=>{var r=e.map(e7).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&iR(r))?jP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},HO=e=>e.referenceElements.dots,Ol=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),n7=W([HO,Nt,Bc],Ol),FO=e=>e.referenceElements.areas,r7=W([FO,Nt,Bc],Ol),GO=e=>e.referenceElements.lines,i7=W([GO,Nt,Bc],Ol),VO=(e,t)=>{var n=Qi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},a7=W(n7,Nt,VO),KO=(e,t)=>{var n=Qi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},s7=W([r7,Nt],KO);function o7(e){var t;if(e.x!=null)return Qi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Qi(n)}function l7(e){var t;if(e.y!=null)return Qi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Qi(n)}var YO=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?o7(r):l7(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u7=W([i7,Nt],YO),c7=W(a7,u7,s7,(e,t,n)=>Oh(e,n,t)),_w=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?Oh(r,a,i):Oh(a,i);return bV(t,h,e.allowDataOverflow)},d7=W([Ct,bw,ww,XV,ZV,c7,Ke,Nt],_w,{memoizeOptions:{resultEqualityCheck:zm}}),f7=[0,1],Ew=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,h=ta(t,a);if(h&&u==null){var m;return jP(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return f==="category"?t7(r,e,h):i==="expand"?f7:l}},kw=W([Ct,Ke,yw,Gm,Uc,Nt,d7],Ew),JO=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Ec(a));return u in Wu?u:"point"}}},Ml=W([Ct,Ke,LO,sw,Nt],JO);function h7(e){if(e!=null){if(e in Wu)return Wu[e]();var t="scale".concat(Ec(e));if(t in Wu)return Wu[t]()}}function Nw(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=h7(t);if(i!=null){var a=i.domain(n).range(r);return uz(a),a}}}var Aw=(e,t,n)=>{var r=xw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ka(e))return CV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ka(e))return jV(e,t.tickCount,t.allowDecimals)}},Tw=W([kw,$c,Ml],Aw),Cw=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ka(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},m7=W([Ct,kw,Tw,Nt],Cw),p7=W(Gm,Ct,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Qi(e.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),WO=W(p7,Ke,NO,en,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wt(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=jn(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),g7=(e,t)=>{var n=aa(e,t);return n==null||typeof n.padding!="string"?0:WO(e,"xAxis",t,n.padding)},y7=(e,t)=>{var n=sa(e,t);return n==null||typeof n.padding!="string"?0:WO(e,"yAxis",t,n.padding)},v7=W(aa,g7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),x7=W(sa,y7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),b7=W([en,v7,km,Em,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),w7=W([en,Ke,x7,km,Em,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Hc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return b7(e,n,r);case"yAxis":return w7(e,n,r);case"zAxis":return(i=fw(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return IO(e);case"radiusAxis":return RO(e,n);default:return}},XO=W([Ct,Hc],Um),Dl=W([Ct,Ml,m7,XO],Nw);W([qc,Vm,Nt],QV);function QO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Km=(e,t)=>t,Ym=(e,t,n)=>n,S7=W(Sm,Km,Ym,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(QO)),_7=W(_m,Km,Ym,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(QO)),ZO=(e,t)=>({width:e.width,height:t.height}),E7=(e,t)=>{var n=typeof t.width=="number"?t.width:jc;return{width:n,height:e.height}},eM=W(en,aa,ZO),k7=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},N7=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},A7=W(ra,en,S7,Km,Ym,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=ZO(t,u);l==null&&(l=k7(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),a}),T7=W(na,en,_7,Km,Ym,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=E7(t,u);l==null&&(l=N7(t,r,e));var h=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),a}),C7=(e,t)=>{var n=aa(e,t);if(n!=null)return A7(e,n.orientation,n.mirror)},j7=W([en,aa,C7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),I7=(e,t)=>{var n=sa(e,t);if(n!=null)return T7(e,n.orientation,n.mirror)},R7=W([en,sa,I7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),tM=W(en,sa,(e,t)=>{var n=typeof t.width=="number"?t.width:jc;return{width:n,height:e.height}}),$T=(e,t,n)=>{switch(t){case"xAxis":return eM(e,n).width;case"yAxis":return tM(e,n).height;default:return}},nM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ta(e,r),f=t.map(h=>h.value);if(l&&u&&a==="category"&&i&&iR(f))return f}},jw=W([Ke,Gm,Ct,Nt],nM),rM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ta(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Iw=W([Ke,Gm,$c,Nt],rM),qT=W([Ke,FV,Ml,Dl,jw,Iw,Hc,Tw,Nt],(e,t,n,r,i,a,l,u,f)=>{if(t!=null){var h=ta(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),P7=(e,t,n,r,i,a,l,u,f)=>{if(!(t==null||r==null)){var h=ta(e,f),{type:m,ticks:g,tickCount:v}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/b:0;E=f==="angleAxis"&&a!=null&&a.length>=2?hn(a[0]-a[1])*2*E:E;var k=g||i;if(k){var _=k.map((A,C)=>{var j=l?l.indexOf(A):A;return{index:C,coordinate:r(j)+E,value:A,offset:E}});return _.filter(A=>wt(A.coordinate))}return h&&u?u.map((A,C)=>({coordinate:r(A)+E,value:A,index:C,offset:E})).filter(A=>wt(A.coordinate)):r.ticks?r.ticks(v).map(A=>({coordinate:r(A)+E,value:A,offset:E})):r.domain().map((A,C)=>({coordinate:r(A)+E,value:l?l[A]:A,index:C,offset:E}))}},iM=W([Ke,$c,Ml,Dl,Tw,Hc,jw,Iw,Nt],P7),O7=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ta(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?hn(r[0]-r[1])*2*h:h,u&&a?a.map((m,g)=>({coordinate:n(m)+h,value:m,index:g,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,g)=>({coordinate:n(m)+h,value:i?i[m]:m,index:g,offset:h}))}},Ya=W([Ke,$c,Dl,Hc,jw,Iw,Nt],O7),Ja=W(Ct,Dl,(e,t)=>{if(!(e==null||t==null))return Ph(Ph({},e),{},{scale:t})}),M7=W([Ct,Ml,kw,XO],Nw);W((e,t,n)=>fw(e,n),M7,(e,t)=>{if(!(e==null||t==null))return Ph(Ph({},e),{},{scale:t})});var D7=W([Ke,Sm,_m],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aM=e=>e.options.defaultTooltipEventType,sM=e=>e.options.validateTooltipEventTypes;function oM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Rw(e,t){var n=aM(e),r=sM(e);return oM(t,n,r)}function L7(e){return we(t=>Rw(t,e))}var lM=(e,t)=>{var n,r=Number(t);if(!(Lr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},U7=e=>e.tooltip.settings,Ba={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},B7={itemInteraction:{click:Ba,hover:Ba},axisInteraction:{click:Ba,hover:Ba},keyboardInteraction:Ba,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uM=Zn({name:"tooltip",initialState:B7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Et()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Qr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Et()},removeTooltipEntrySettings:{reducer(e,t){var n=Qr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Et()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$7,replaceTooltipEntrySettings:q7,removeTooltipEntrySettings:z7,setTooltipSettingsState:H7,setActiveMouseOverItemIndex:cM,mouseLeaveItem:F7,mouseLeaveChart:dM,setActiveClickItemIndex:G7,setMouseOverAxisIndex:fM,setMouseClickAxisIndex:V7,setSyncInteraction:hx,setKeyboardInteraction:mx}=uM.actions,K7=uM.reducer;function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X7(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Q7(e){return e.index!=null}var hM=(e,t,n,r)=>{if(t==null)return Ba;var i=X7(e,t,n);if(i==null)return Ba;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Q7(i)){if(a)return kf(kf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return kf(kf({},Ba),{},{coordinate:i.coordinate})};function Z7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function eK(e,t){var n=Z7(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function tK(e,t,n){if(n==null||t==null)return!0;var r=dt(e,t);return r==null||!Ka(n)?!0:eK(r,n)}var Pw=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!wt(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(a,u)),h=t[f];return h==null||tK(h,n,r)?String(f):null},mM=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,a);if(h!=null)return h;var m=i==null?void 0:i[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},pM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Fc=e=>e.options.tooltipPayloadSearcher,Ll=e=>e.tooltip;function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){nK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nK(e,t,n){return(t=rK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e,t){return e??t}var gM=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,g=[];return e.reduce((v,b)=>{var E,{dataDefinedOnItem:k,settings:_}=b,A=aK(k,u),C=Array.isArray(A)?QR(A,h,m):A,j=(E=_==null?void 0:_.dataKey)!==null&&E!==void 0?E:r,I=_==null?void 0:_.nameKey,P;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?P=aR(C,r,i):P=a(C,t,f,I),Array.isArray(P))P.forEach(R=>{var U=FT(FT({},_),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(cA({tooltipEntrySettings:U,dataKey:R.dataKey,payload:R.payload,value:dt(R.payload,R.dataKey),name:R.name}))});else{var O;v.push(cA({tooltipEntrySettings:_,dataKey:j,payload:P,value:dt(P,j),name:(O=dt(P,I))!==null&&O!==void 0?O:_==null?void 0:_.name}))}return v},g)}},Ow=W([rn,Ke,LO,sw,nn],JO),sK=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oK=W([nn,Pl],hw),Gc=W([sK,rn,oK],mw,{memoizeOptions:{resultEqualityCheck:Hm}}),lK=W([Gc],e=>e.filter(qm)),uK=W([Gc],pw,{memoizeOptions:{resultEqualityCheck:Hm}}),Ul=W([uK,es],gw),cK=W([lK,es,rn],OO),Mw=W([Ul,rn,Gc],vw),yM=W([rn],xw),dK=W([rn],e=>e.allowDataOverflow),vM=W([yM,dK],dO),fK=W([Gc],e=>e.filter(qm)),hK=W([cK,fK,Uc,AO],qO),mK=W([hK,es,nn,vM],zO),pK=W([Gc],BO),gK=W([Ul,rn,pK,Vm,nn],Sw,{memoizeOptions:{resultEqualityCheck:zm}}),yK=W([HO,nn,Pl],Ol),vK=W([yK,nn],VO),xK=W([FO,nn,Pl],Ol),bK=W([xK,nn],KO),wK=W([GO,nn,Pl],Ol),SK=W([wK,nn],YO),_K=W([vK,SK,bK],Oh),EK=W([rn,yM,vM,mK,gK,_K,Ke,nn],_w),Vc=W([rn,Ke,Ul,Mw,Uc,nn,EK],Ew),kK=W([Vc,rn,Ow],Aw),NK=W([rn,Vc,kK,nn],Cw),xM=e=>{var t=nn(e),n=Pl(e),r=!1;return Hc(e,t,n,r)},bM=W([rn,xM],Um),wM=W([rn,Ow,NK,bM],Nw),AK=W([Ke,Mw,rn,nn],nM),TK=W([Ke,Mw,rn,nn],rM),CK=(e,t,n,r,i,a,l,u)=>{if(t){var{type:f}=t,h=ta(e,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hn(i[0]-i[1])*2*g:g,h&&l?l.map((v,b)=>({coordinate:r(v)+g,value:v,index:b,offset:g})):r.domain().map((v,b)=>({coordinate:r(v)+g,value:a?a[v]:v,index:b,offset:g}))}}},oa=W([Ke,rn,Ow,wM,xM,AK,TK,nn],CK),Dw=W([aM,sM,U7],(e,t,n)=>oM(n.shared,e,t)),SM=e=>e.tooltip.settings.trigger,Lw=e=>e.tooltip.settings.defaultIndex,Kc=W([Ll,Dw,SM,Lw],hM),Wa=W([Kc,Ul,zc,Vc],Pw),_M=W([oa,Wa],lM),Uw=W([Kc],e=>{if(e)return e.dataKey}),jK=W([Kc],e=>{if(e)return e.graphicalItemId}),EM=W([Ll,Dw,SM,Lw],pM),IK=W([na,ra,Ke,en,oa,Lw,EM,Fc],mM),RK=W([Kc,IK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PK=W([Kc],e=>e.active),OK=W([EM,Wa,es,zc,_M,Fc,Dw],gM),MK=W([OK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){DK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DK(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=UK(e,"string");return typeof t=="symbol"?t:t+""}function UK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BK=()=>we(rn),$K=()=>{var e=BK(),t=we(oa),n=we(wM);return yl(!e||!n?void 0:VT(VT({},e),{},{scale:n}),t)};function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){qK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qK(e,t,n){return(t=zK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FK=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},GK=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Fo(Fo(Fo({},r),Vt(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return Fo(Fo(Fo({},r),Vt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function VK(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var kM=(e,t,n,r,i)=>{var a,l=-1,u=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var h=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,g=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(hn(m-h)!==hn(g-m)){var b=[];if(hn(g-m)===hn(i[1]-i[0])){v=g;var E=m+i[1]-i[0];b[0]=Math.min(E,(E+h)/2),b[1]=Math.max(E,(E+h)/2)}else{v=h;var k=g+i[1]-i[0];b[0]=Math.min(m,(k+m)/2),b[1]=Math.max(m,(k+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){({index:l}=n[f]);break}}else{var A=Math.min(h,g),C=Math.max(h,g);if(e>(A+m)/2&&e<=(C+m)/2){({index:l}=n[f]);break}}}else if(t){for(var j=0;j<u;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<u-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===u-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},NM=()=>we(sw),Bw=(e,t)=>t,AM=(e,t,n)=>n,$w=(e,t,n,r)=>r,KK=W(oa,e=>hm(e,t=>t.coordinate)),qw=W([Ll,Bw,AM,$w],hM),zw=W([qw,Ul,zc,Vc],Pw),YK=(e,t,n)=>{if(t!=null){var r=Ll(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},TM=W([Ll,Bw,AM,$w],pM),Mh=W([na,ra,Ke,en,oa,$w,TM,Fc],mM),JK=W([qw,Mh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),CM=W([oa,zw],lM),WK=W([TM,zw,es,zc,CM,Fc,Bw],gM),XK=W([qw,zw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QK=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&VK(e,l)){var u=xz(e,t),f=kM(u,a,i,n,r),h=FK(t,i,f,e);return{activeIndex:String(f),activeCoordinate:h}}},ZK=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=DF(e,n);if(u){var f=bz(u,t),h=kM(f,l,a,r,i),m=GK(t,a,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},eY=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?QK(e,t,r,i,a,l,u):ZK(e,t,n,r,i,a,l)},tY=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),nY=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Kt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:BV}});function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){rY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rY(e,t,n){return(t=iY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY={},oY={zIndexMap:Object.values(Kt).reduce((e,t)=>JT(JT({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),sY)},lY=new Set(Object.values(Kt));function uY(e){return lY.has(e)}var jM=Zn({name:"zIndex",initialState:oY,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Et()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!uY(n)&&delete e.zIndexMap[n])},prepare:Et()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Et()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Et()}}}),{registerZIndexPortal:cY,unregisterZIndexPortal:dY,registerZIndexPortalId:fY,unregisterZIndexPortalId:hY}=jM.actions,mY=jM.reducer;function er(e){var{zIndex:t,children:n}=e,r=Qz(),i=r&&t!==void 0&&t!==0,a=In(),l=pt();N.useLayoutEffect(()=>i?(l(cY({zIndex:t})),()=>{l(dY({zIndex:t}))}):kc,[l,t,i]);var u=we(h=>tY(h,t,a));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?ub.createPortal(n,f):null}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},px.apply(null,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return N.isValidElement(t)?N.cloneElement(t,r):N.createElement(n,r)}function xY(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=n,v=r,b=i;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var E,k,_;if(m==="ScatterChart")E=g,k=XH,_=Kt.cursorLine;else if(m==="BarChart")E=QH(u,g,a,l),k=kP,_=Kt.cursorRectangle;else if(u==="radial"&&oR(g)){var{cx:A,cy:C,radius:j,startAngle:I,endAngle:P}=AP(g);E={cx:A,cy:C,startAngle:I,endAngle:P,innerRadius:j,outerRadius:j},k=CP,_=Kt.cursorLine}else E={points:$F(u,g,a)},k=il,_=Kt.cursorLine;var O=typeof f=="object"&&"className"in f?f.className:void 0,R=Nf(Nf(Nf(Nf({stroke:"#ccc",pointerEvents:"none"},a),E),Fs(f)),{},{payload:v,payloadIndex:b,className:Qe("recharts-tooltip-cursor",O)});return N.createElement(er,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},N.createElement(vY,{cursor:f,cursorComp:k,cursorProps:R}))}function bY(e){var t=$K(),n=uP(),r=Tl(),i=NM();return t==null||n==null||r==null||i==null?null:N.createElement(xY,px({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var IM=N.createContext(null),wY=()=>N.useContext(IM),Ky={exports:{}},XT;function SY(){return XT||(XT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,g||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],b]:f._events[E].push(b):(f._events[E]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)t.call(m,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=n?n+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,E=new Array(b);v<b;v++)E[v]=g[v].fn;return E},u.prototype.listenerCount=function(h){var m=n?n+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,v,b,E){var k=n?n+h:h;if(!this._events[k])return!1;var _=this._events[k],A=arguments.length,C,j;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),A){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,v),!0;case 5:return _.fn.call(_.context,m,g,v,b),!0;case 6:return _.fn.call(_.context,m,g,v,b,E),!0}for(j=1,C=new Array(A-1);j<A;j++)C[j-1]=arguments[j];_.fn.apply(_.context,C)}else{var I=_.length,P;for(j=0;j<I;j++)switch(_[j].once&&this.removeListener(h,_[j].fn,void 0,!0),A){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,m);break;case 3:_[j].fn.call(_[j].context,m,g);break;case 4:_[j].fn.call(_[j].context,m,g,v);break;default:if(!C)for(P=1,C=new Array(A-1);P<A;P++)C[P-1]=arguments[P];_[j].fn.apply(_[j].context,C)}}return!0},u.prototype.on=function(h,m,g){return a(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return a(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,v){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return l(this,b),this;var E=this._events[b];if(E.fn)E.fn===m&&(!v||E.once)&&(!g||E.context===g)&&l(this,b);else{for(var k=0,_=[],A=E.length;k<A;k++)(E[k].fn!==m||v&&!E[k].once||g&&E[k].context!==g)&&_.push(E[k]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Ky)),Ky.exports}var _Y=SY();const EY=ei(_Y);var vc=new EY,gx="recharts.syncEvent.tooltip",QT="recharts.syncEvent.brush";function Hw(e,t){if(t){var n=Number.parseInt(t,10);if(!Lr(n))return e==null?void 0:e[n]}}var kY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},RM=Zn({name:"options",initialState:kY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),NY=RM.reducer,{createEventEmitter:AY}=RM.actions;function TY(e){return e.tooltip.syncInteraction}var CY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PM=Zn({name:"chartData",initialState:CY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:ZT,setDataStartEndIndexes:jY,setComputedData:pde}=PM.actions,IY=PM.reducer,RY=["x","y"];function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e,t){if(e==null)return{};var n,r,i=LY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UY(){var e=we(ow),t=we(lw),n=pt(),r=we(TO),i=we(oa),a=Tl(),l=Nm(),u=we(f=>f.rootProps.className);N.useEffect(()=>{if(e==null)return kc;var f=(h,m,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:E,y:k}=b,_=DY(b,RY),{x:A,y:C,width:j,height:I}=m.payload.sourceViewBox,P=Go(Go({},_),{},{x:l.x+(j?(E-A)/j:0)*l.width,y:l.y+(I?(k-C)/I:0)*l.height});n(Go(Go({},m),{},{payload:Go(Go({},m.payload),{},{coordinate:P})}))}else n(m);return}if(i!=null){var O;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},U=r(i,R);O=i[U]}else r==="value"&&(O=i.find(z=>String(z.value)===m.payload.label));var{coordinate:H}=m.payload;if(O==null||m.payload.active===!1||H==null||l==null){n(hx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:$}=H,V=Math.min(G,l.x+l.width),D=Math.min($,l.y+l.height),oe={x:a==="horizontal"?O.coordinate:V,y:a==="horizontal"?D:O.coordinate},de=hx({active:m.payload.active,coordinate:oe,dataKey:m.payload.dataKey,index:String(O.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(de)}}};return vc.on(gx,f),()=>{vc.off(gx,f)}},[u,n,t,e,r,i,a,l])}function BY(){var e=we(ow),t=we(lw),n=pt();N.useEffect(()=>{if(e==null)return kc;var r=(i,a,l)=>{t!==l&&e===i&&n(jY(a))};return vc.on(QT,r),()=>{vc.off(QT,r)}},[n,t,e])}function $Y(){var e=pt();N.useEffect(()=>{e(AY())},[e]),UY(),BY()}function qY(e,t,n,r,i,a){var l=we(b=>YK(b,e,t)),u=we(lw),f=we(ow),h=we(TO),m=we(TY),g=m==null?void 0:m.active,v=Nm();N.useEffect(()=>{if(!g&&f!=null&&u!=null){var b=hx({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});vc.emit(gx,f,b,u)}},[g,n,l,i,r,u,f,h,a,v])}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){zY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zY(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e){return e.dataKey}function VY(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(jH,t)}var rC=[],KY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ec(e){var t,n,r=Wt(e,KY),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:m,offset:g,payloadUniqBy:v,position:b,reverseDirection:E,useTranslate3d:k,wrapperStyle:_,cursor:A,shared:C,trigger:j,defaultIndex:I,portal:P,axisId:O}=r,R=pt(),U=typeof I=="number"?String(I):I;N.useEffect(()=>{R(H7({shared:C,trigger:j,axisId:O,active:i,defaultIndex:U}))},[R,C,j,O,i,U]);var H=Nm(),G=bP(),$=L7(C),{activeIndex:V,isActive:D}=(t=we(ge=>XK(ge,$,j,U)))!==null&&t!==void 0?t:{},oe=we(ge=>WK(ge,$,j,U)),de=we(ge=>CM(ge,$,j,U)),z=we(ge=>JK(ge,$,j,U)),Z=oe,fe=wY(),te=(n=i??D)!==null&&n!==void 0?n:!1,[pe,L]=SR([Z,te]),q=$==="axis"?de:void 0;qY($,j,z,q,V,te);var le=P??fe;if(le==null||H==null||$==null)return null;var he=Z??rC;te||(he=rC),h&&he.length&&(he=yR(he.filter(ge=>ge.value!=null&&(ge.hide!==!0||r.includeHidden)),v,GY));var ie=he.length>0,ye=N.createElement(LH,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:m,active:te,coordinate:z,hasPayload:ie,offset:g,position:b,reverseDirection:E,useTranslate3d:k,viewBox:H,wrapperStyle:_,lastBoundingBox:pe,innerRef:L,hasPortalFromProps:!!P},VY(f,nC(nC({},r),{},{payload:he,label:q,active:te,activeIndex:V,coordinate:z,accessibilityLayer:G})));return N.createElement(N.Fragment,null,ub.createPortal(ye,le),te&&N.createElement(bY,{cursor:A,tooltipEventType:$,coordinate:z,payload:he,index:V}))}var Js=e=>null;Js.displayName="Cell";function YY(e,t,n){return(t=JY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XY{constructor(t){YY(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){ZY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZY(e,t,n){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nJ={cacheSize:2e3,enableCache:!0},OM=QY({},nJ),aC=new XY(OM.cacheSize),rJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sC="recharts_measurement_span";function iJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var oC=(e,t)=>{try{var n=document.getElementById(sC);n||(n=document.createElement("span"),n.setAttribute("id",sC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},tc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cl.isSsr)return{width:0,height:0};if(!OM.enableCache)return oC(t,n);var r=iJ(t,n),i=aC.get(r);if(i)return i;var a=oC(t,n);return aC.set(r,a),a},lC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oJ=Object.keys(MM),el="NaN";function lJ(e,t){return e*MM[t]}class Jn{static parse(t){var n,[,r,i]=(n=sJ.exec(t))!==null&&n!==void 0?n:[];return new Jn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Lr(t)&&(this.unit=""),n!==""&&!aJ.test(n)&&(this.num=NaN,this.unit=""),oJ.includes(n)&&(this.num=lJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Lr(this.num)}}function DM(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=lC.exec(t))!==null&&n!==void 0?n:[],l=Jn.parse(r??""),u=Jn.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return el;t=t.replace(lC,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,g,v]=(h=uC.exec(t))!==null&&h!==void 0?h:[],b=Jn.parse(m??""),E=Jn.parse(v??""),k=g==="+"?b.add(E):b.subtract(E);if(k.isNaN())return el;t=t.replace(uC,k.toString())}return t}var cC=/\(([^()]*)\)/;function uJ(e){for(var t=e,n;(n=cC.exec(t))!=null;){var[,r]=n;t=t.replace(cC,DM(r))}return t}function cJ(e){var t=e.replace(/\s+/g,"");return t=uJ(t),t=DM(t),t}function dJ(e){try{return cJ(e)}catch{return el}}function Yy(e){var t=dJ(e.slice(5,-1));return t===el?"":t}var fJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hJ=["dx","dy","angle","className","breakAll"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yx.apply(null,arguments)}function dC(e,t){if(e==null)return{};var n,r,i=mJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LM=/[ \f\n\r\t\v\u2028\u2029]+/,UM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Tt(t)||(n?i=t.toString().split(""):i=t.toString().split(LM));var a=i.map(u=>({word:u,width:tc(u,r).width})),l=n?0:tc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function pJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var BM=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,f=i[i.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(l),f.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),$M=e=>e.reduce((t,n)=>t.width>n.width?t:n),gJ="",fC=(e,t,n,r,i,a,l,u)=>{var f=e.slice(0,t),h=UM({breakAll:n,style:r,children:f+gJ});if(!h)return[!1,[]];var m=BM(h.wordsWithComputedWidth,a,l,u),g=m.length>i||$M(m).width>Number(a);return[g,m]},yJ=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=e,h=be(a),m=String(l),g=BM(t,r,n,i);if(!h||i)return g;var v=g.length>a||$M(g).width>Number(r);if(!v)return g;for(var b=0,E=m.length-1,k=0,_;b<=E&&k<=m.length-1;){var A=Math.floor((b+E)/2),C=A-1,[j,I]=fC(m,C,f,u,a,r,n,i),[P]=fC(m,A,f,u,a,r,n,i);if(!j&&!P&&(b=A+1),j&&P&&(E=A-1),!j&&P){_=I;break}k++}return _||g},hC=e=>{var t=Tt(e)?[]:e.toString().split(LM);return[{words:t,width:void 0}]},vJ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!Cl.isSsr){var u,f,h=UM({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,f=g}else return hC(r);return yJ({breakAll:a,children:r,maxLines:l,style:i},u,f,t,!!n)}return hC(r)},qM="#808080",xJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:qM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jm=N.forwardRef((e,t)=>{var n=Wt(e,xJ),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:m}=n,g=dC(n,fJ),v=N.useMemo(()=>vJ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:E,angle:k,className:_,breakAll:A}=g,C=dC(g,hJ);if(!hi(r)||!hi(i)||v.length===0)return null;var j=Number(r)+(be(b)?b:0),I=Number(i)+(be(E)?E:0);if(!wt(j)||!wt(I))return null;var P;switch(m){case"start":P=Yy("calc(".concat(l,")"));break;case"middle":P=Yy("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:P=Yy("calc(".concat(v.length-1," * -").concat(a,")"));break}var O=[];if(f){var R=v[0].width,{width:U}=g;O.push("scale(".concat(be(U)&&be(R)?U/R:1,")"))}return k&&O.push("rotate(".concat(k,", ").concat(j,", ").concat(I,")")),O.length&&(C.transform=O.join(" ")),N.createElement("text",yx({},Un(C),{ref:t,x:j,y:I,className:Qe("recharts-text",_),textAnchor:h,fill:u.includes("url")?qM:u}),v.map((H,G)=>{var $=H.words.join(A?"":" ");return N.createElement("tspan",{x:j,dy:G===0?P:a,key:"".concat($,"-").concat(G)},$)}))});Jm.displayName="Text";var bJ=["labelRef"];function wJ(e,t){if(e==null)return{};var n,r,i=SJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(null,arguments)}var zM=N.createContext(null),NJ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,f=N.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return N.createElement(zM.Provider,{value:f},u)},HM=()=>{var e=N.useContext(zM),t=Nm();return e||lP(t)},AJ=N.createContext(null),TJ=()=>{var e=N.useContext(AJ),t=we(PO);return e||t},CJ=e=>{var{value:t,formatter:n}=e,r=Tt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Fw=e=>e!=null&&typeof e=="function",jJ=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},IJ=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:g,endAngle:v,clockWise:b}=i,E=(h+m)/2,k=jJ(g,v),_=k>=0?1:-1,A,C;switch(t){case"insideStart":A=g+_*a,C=b;break;case"insideEnd":A=v-_*a,C=!b;break;case"end":A=v+_*a,C=b;break;default:throw new Error("Unsupported position ".concat(t))}C=k<=0?C:!C;var j=Vt(u,f,E,A),I=Vt(u,f,E,A+(C?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(C?0:1,`,
    `).concat(I.x,",").concat(I.y),O=Tt(e.id)?ic("recharts-radial-line-"):e.id;return N.createElement("text",qi({},r,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:O,d:P})),N.createElement("textPath",{xlinkHref:"#".concat(O)},n))},RJ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=e,h=(u+f)/2;if(n==="outside"){var{x:m,y:g}=Vt(r,i,l+t,h);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:b,y:E}=Vt(r,i,v,h);return{x:b,y:E,textAnchor:"middle",verticalAnchor:"middle"}},vx=e=>"cx"in e&&be(e.cx),PJ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!vx(n)&&(a=n);var{x:l,y:u,upperWidth:f,lowerWidth:h,height:m}=t,g=l,v=l+(f-h)/2,b=(g+v)/2,E=(f+h)/2,k=g+f/2,_=m>=0?1:-1,A=_*r,C=_>0?"end":"start",j=_>0?"start":"end",I=f>=0?1:-1,P=I*r,O=I>0?"end":"start",R=I>0?"start":"end";if(i==="top"){var U={x:g+f/2,y:u-A,textAnchor:"middle",verticalAnchor:C};return Dt(Dt({},U),a?{height:Math.max(u-a.y,0),width:f}:{})}if(i==="bottom"){var H={x:v+h/2,y:u+m+A,textAnchor:"middle",verticalAnchor:j};return Dt(Dt({},H),a?{height:Math.max(a.y+a.height-(u+m),0),width:h}:{})}if(i==="left"){var G={x:b-P,y:u+m/2,textAnchor:O,verticalAnchor:"middle"};return Dt(Dt({},G),a?{width:Math.max(G.x-a.x,0),height:m}:{})}if(i==="right"){var $={x:b+E+P,y:u+m/2,textAnchor:R,verticalAnchor:"middle"};return Dt(Dt({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:m}:{})}var V=a?{width:E,height:m}:{};return i==="insideLeft"?Dt({x:b+P,y:u+m/2,textAnchor:R,verticalAnchor:"middle"},V):i==="insideRight"?Dt({x:b+E-P,y:u+m/2,textAnchor:O,verticalAnchor:"middle"},V):i==="insideTop"?Dt({x:g+f/2,y:u+A,textAnchor:"middle",verticalAnchor:j},V):i==="insideBottom"?Dt({x:v+h/2,y:u+m-A,textAnchor:"middle",verticalAnchor:C},V):i==="insideTopLeft"?Dt({x:g+P,y:u+A,textAnchor:R,verticalAnchor:j},V):i==="insideTopRight"?Dt({x:g+f-P,y:u+A,textAnchor:O,verticalAnchor:j},V):i==="insideBottomLeft"?Dt({x:v+P,y:u+m-A,textAnchor:R,verticalAnchor:C},V):i==="insideBottomRight"?Dt({x:v+h-P,y:u+m-A,textAnchor:O,verticalAnchor:C},V):i&&typeof i=="object"&&(be(i.x)||Ki(i.x))&&(be(i.y)||Ki(i.y))?Dt({x:l+jn(i.x,E),y:u+jn(i.y,m),textAnchor:"end",verticalAnchor:"end"},V):Dt({x:k,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},V)},OJ={angle:0,offset:5,zIndex:Kt.label,position:"middle",textBreakAll:!1};function Ua(e){var t=Wt(e,OJ),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:f,labelRef:h}=t,m=TJ(),g=HM(),v=r==="center"?g:m??g,b,E,k;if(n==null?b=v:vx(n)?b=n:b=lP(n),!b||Tt(i)&&Tt(a)&&!N.isValidElement(l)&&typeof l!="function")return null;var _=Dt(Dt({},t),{},{viewBox:b});if(N.isValidElement(l)){var{labelRef:A}=_,C=wJ(_,bJ);return N.cloneElement(l,C)}if(typeof l=="function"){if(E=N.createElement(l,_),N.isValidElement(E))return E}else E=CJ(t);var j=Un(t);if(vx(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return IJ(t,r,E,j,b);k=RJ(b,t.offset,t.position)}else k=PJ(t,b);return N.createElement(er,{zIndex:t.zIndex},N.createElement(Jm,qi({ref:h,className:Qe("recharts-label",u)},j,k,{textAnchor:pJ(j.textAnchor)?j.textAnchor:k.textAnchor,breakAll:f}),E))}Ua.displayName="Label";var MJ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?N.createElement(Ua,qi({key:"label-implicit"},r)):hi(e)?N.createElement(Ua,qi({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===Ua?N.cloneElement(e,Dt({key:"label-implicit"},r)):N.createElement(Ua,qi({key:"label-implicit",content:e},r)):Fw(e)?N.createElement(Ua,qi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?N.createElement(Ua,qi({},e,{key:"label-implicit"},r)):null};function DJ(e){var{label:t,labelRef:n}=e,r=HM();return MJ(t,r,n)||null}var Jy={},Wy={},pC;function LJ(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Wy)),Wy}var Xy={},gC;function UJ(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Xy)),Xy}var yC;function BJ(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LJ(),n=UJ(),r=vb();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Jy)),Jy}var Qy,vC;function $J(){return vC||(vC=1,Qy=BJ().last),Qy}var qJ=$J();const zJ=ei(qJ);var HJ=["valueAccessor"],FJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(null,arguments)}function xC(e,t){if(e==null)return{};var n,r,i=GJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VJ=e=>Array.isArray(e.value)?zJ(e.value):e.value,FM=N.createContext(void 0),GM=FM.Provider,VM=N.createContext(void 0),KJ=VM.Provider;function YJ(){return N.useContext(FM)}function JJ(){return N.useContext(VM)}function Vf(e){var{valueAccessor:t=VJ}=e,n=xC(e,HJ),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,f=xC(n,FJ),h=YJ(),m=JJ(),g=h||m;return!g||!g.length?null:N.createElement(er,{zIndex:u??Kt.label},N.createElement(Lt,{className:"recharts-label-list"},g.map((v,b)=>{var E,k=Tt(r)?t(v,b):dt(v&&v.payload,r),_=Tt(a)?{}:{id:"".concat(a,"-").concat(b)};return N.createElement(Ua,Dh({key:"label-".concat(b)},Un(v),f,_,{fill:(E=n.fill)!==null&&E!==void 0?E:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:b,zIndex:0}))})))}Vf.displayName="LabelList";function Gw(e){var{label:t}=e;return t?t===!0?N.createElement(Vf,{key:"labelList-implicit"}):N.isValidElement(t)||Fw(t)?N.createElement(Vf,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(Vf,Dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}var KM=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qe("recharts-dot",i);return be(t)&&be(n)&&be(r)?N.createElement("circle",xx({},Qn(e),yb(e),{className:a,cx:t,cy:n,r})):null},YM=e=>e.graphicalItems.polarItems,WJ=W([Nt,Bc],hw),Wm=W([YM,Ct,WJ],mw),XJ=W([Wm],pw),Xm=W([XJ,rw],gw),QJ=W([Xm,Ct,Wm],vw);W([Xm,Ct,Wm],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,l=dt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var bC=()=>{},ZJ=W([Xm,Ct,Wm,Vm,Nt],Sw),eW=W([Ct,bw,ww,bC,ZJ,bC,Ke,Nt],_w),JM=W([Ct,Ke,Xm,QJ,Uc,Nt,eW],Ew),tW=W([JM,Ct,Ml],Aw);W([Ct,JM,tW,Nt],Cw);var nW={radiusAxis:{},angleAxis:{}},WM=Zn({name:"polarAxis",initialState:nW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gde,removeRadiusAxis:yde,addAngleAxis:vde,removeAngleAxis:xde}=WM.actions,rW=WM.reducer;function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oW=(e,t)=>t,Vw=W([YM,oW],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),lW=[],Kw=(e,t,n)=>(n==null?void 0:n.length)===0?lW:n,XM=W([rw,Vw,Kw],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>SC(SC({},t.presentationProps),a.props))),i!=null)return i}}),uW=W([XM,Vw,Kw],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,l=dt(r,t.nameKey,t.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Al(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),cW=W([XM,Vw,Kw,en],(e,t,n,r)=>{if(!(t==null||e==null))return dX({offset:r,pieSettings:t,displayedData:e,cells:n})}),Zy={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function dW(){if(_C)return ut;_C=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(k){if(typeof k=="object"&&k!==null){var _=k.$$typeof;switch(_){case e:switch(k=k.type,k){case n:case i:case r:case f:case h:case v:return k;default:switch(k=k&&k.$$typeof,k){case l:case u:case g:case m:return k;case a:return k;default:return _}}case t:return _}}}return ut.ContextConsumer=a,ut.ContextProvider=l,ut.Element=e,ut.ForwardRef=u,ut.Fragment=n,ut.Lazy=g,ut.Memo=m,ut.Portal=t,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=f,ut.SuspenseList=h,ut.isContextConsumer=function(k){return E(k)===a},ut.isContextProvider=function(k){return E(k)===l},ut.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},ut.isForwardRef=function(k){return E(k)===u},ut.isFragment=function(k){return E(k)===n},ut.isLazy=function(k){return E(k)===g},ut.isMemo=function(k){return E(k)===m},ut.isPortal=function(k){return E(k)===t},ut.isProfiler=function(k){return E(k)===i},ut.isStrictMode=function(k){return E(k)===r},ut.isSuspense=function(k){return E(k)===f},ut.isSuspenseList=function(k){return E(k)===h},ut.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===i||k===r||k===f||k===h||typeof k=="object"&&k!==null&&(k.$$typeof===g||k.$$typeof===m||k.$$typeof===l||k.$$typeof===a||k.$$typeof===u||k.$$typeof===b||k.getModuleId!==void 0)},ut.typeOf=E,ut}var EC;function fW(){return EC||(EC=1,Zy.exports=dW()),Zy.exports}var hW=fW(),kC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",NC=null,ev=null,QM=e=>{if(e===NC&&Array.isArray(ev))return ev;var t=[];return N.Children.forEach(e,n=>{Tt(n)||(hW.isFragment(n)?t=t.concat(QM(n.props.children)):t.push(n))}),ev=t,NC=e,t};function Yw(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>kC(i)):r=[kC(t)],QM(e).forEach(i=>{var a=Gs(i,"type.displayName")||Gs(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var ZM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,tv={},AC;function mW(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(tv)),tv}var nv,TC;function pW(){return TC||(TC=1,nv=mW().isPlainObject),nv}var gW=pW();const yW=ei(gW);function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return(t=xW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lh.apply(null,arguments)}var IC=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},wW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SW=e=>{var t=Wt(e,wW),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t,v=N.useRef(null),[b,E]=N.useState(-1),k=N.useRef(i),_=N.useRef(a),A=N.useRef(l),C=N.useRef(n),j=N.useRef(r),I=Pc(e,"trapezoid-");if(N.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var oe=v.current.getTotalLength();oe&&E(oe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var P=Qe("recharts-trapezoid",u);if(!g)return N.createElement("g",null,N.createElement("path",Lh({},Un(t),{className:P,d:IC(n,r,i,a,l)})));var O=k.current,R=_.current,U=A.current,H=C.current,G=j.current,$="0px ".concat(b===-1?1:b,"px"),V="".concat(b,"px 0px"),D=wP(["strokeDasharray"],h,f);return N.createElement(Rc,{animationId:I,key:I,canBegin:b>0,duration:h,easing:f,isActive:g,begin:m},oe=>{var de=bt(O,i,oe),z=bt(R,a,oe),Z=bt(U,l,oe),fe=bt(H,n,oe),te=bt(G,r,oe);v.current&&(k.current=de,_.current=z,A.current=Z,C.current=fe,j.current=te);var pe=oe>0?{transition:D,strokeDasharray:V}:{strokeDasharray:$};return N.createElement("path",Lh({},Un(t),{className:P,d:IC(fe,te,de,z,Z),ref:v,style:jC(jC({},pe),t.style)}))})},_W=["option","shapeType","propTransformer","activeClassName"];function EW(e,t){if(e==null)return{};var n,r,i=kW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=AW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CW(e,t){return Uh(Uh({},t),e)}function jW(e,t){return e==="symbols"}function PC(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(kP,n);case"trapezoid":return N.createElement(SW,n);case"sector":return N.createElement(CP,n);case"symbols":if(jW(t))return N.createElement(gb,n);break;case"curve":return N.createElement(il,n);default:return null}}function IW(e){return N.isValidElement(e)?e.props:e}function eD(e){var{option:t,shapeType:n,propTransformer:r=CW,activeClassName:i="recharts-active-shape"}=e,a=EW(e,_W),l;if(N.isValidElement(t))l=N.cloneElement(t,Uh(Uh({},a),IW(t)));else if(typeof t=="function")l=t(a,a.index);else if(yW(t)&&typeof t!="boolean"){var u=r(t,a);l=N.createElement(PC,{shapeType:n,elementProps:u})}else{var f=a;l=N.createElement(PC,{shapeType:n,elementProps:f})}return a.isActive?N.createElement(Lt,{className:i},l):l}var Jw=(e,t,n)=>{var r=pt();return(i,a)=>l=>{e==null||e(i,a,l),r(cM({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Ww=e=>{var t=pt();return(n,r)=>i=>{e==null||e(n,r,i),t(F7())}},Xw=(e,t,n)=>{var r=pt();return(i,a)=>l=>{e==null||e(i,a,l),r(G7({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Qw(e){var{tooltipEntrySettings:t}=e,n=pt(),r=In(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n($7(t)):i.current!==t&&n(q7({prev:i.current,next:t})),i.current=t)},[t,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(z7(i.current)),i.current=null)},[n]),null}function tD(e){var{legendPayload:t}=e,n=pt(),r=In(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(yP(t)):i.current!==t&&n(vP({prev:i.current,next:t})),i.current=t)},[n,r,t]),N.useLayoutEffect(()=>()=>{i.current&&(n(xP(i.current)),i.current=null)},[n]),null}function RW(e){var{legendPayload:t}=e,n=pt(),r=we(Ke),i=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(yP(t)):i.current!==t&&n(vP({prev:i.current,next:t})),i.current=t)},[n,r,t]),N.useLayoutEffect(()=>()=>{i.current&&(n(xP(i.current)),i.current=null)},[n]),null}var rv,PW=()=>{var[e]=N.useState(()=>ic("uid-"));return e},OW=(rv=ZL.useId)!==null&&rv!==void 0?rv:PW;function nD(e,t){var n=OW();return t||(e?"".concat(e,"-").concat(n):n)}var MW=N.createContext(void 0),Zw=e=>{var{id:t,type:n,children:r}=e,i=nD("recharts-".concat(n),t);return N.createElement(MW.Provider,{value:i},r(i))},DW={cartesianItems:[],polarItems:[]},rD=Zn({name:"graphicalItems",initialState:DW,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Et()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Qr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Et()},removeCartesianGraphicalItem:{reducer(e,t){var n=Qr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Et()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Et()},removePolarGraphicalItem:{reducer(e,t){var n=Qr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Et()}}}),{addCartesianGraphicalItem:LW,replaceCartesianGraphicalItem:UW,removeCartesianGraphicalItem:BW,addPolarGraphicalItem:$W,removePolarGraphicalItem:qW}=rD.actions,zW=rD.reducer,HW=e=>{var t=pt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?t(LW(e)):n.current!==e&&t(UW({prev:n.current,next:e})),n.current=e},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(t(BW(n.current)),n.current=null)},[t]),null},iD=N.memo(HW);function FW(e){var t=pt();return N.useLayoutEffect(()=>(t($W(e)),()=>{t(qW(e))}),[t,e]),null}var GW=["key"],VW=["onMouseEnter","onClick","onMouseLeave"],KW=["id"],YW=["id"];function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return(t=WW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(null,arguments)}function Qm(e,t){if(e==null)return{};var n,r,i=QW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZW(e){var t=N.useMemo(()=>Yw(e.children,Js),[e.children]),n=we(r=>uW(r,e.id,t));return n==null?null:N.createElement(RW,{legendPayload:n})}var eX=N.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:f,tooltipType:h}=e,m={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:l,dataKey:t,nameKey:n,name:Al(u,t),hide:f,type:h,color:l,unit:""}};return N.createElement(Qw,{tooltipEntrySettings:m})}),tX=(e,t)=>e>t?"start":e<t?"end":"middle",nX=(e,t,n)=>jn(typeof t=="function"?t(e):t,n,n*.8),rX=(e,t,n)=>{var{top:r,left:i,width:a,height:l}=t,u=NP(a,l),f=i+jn(e.cx,a,a/2),h=r+jn(e.cy,l,l/2),m=jn(e.innerRadius,u,0),g=nX(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:f,cy:h,innerRadius:m,outerRadius:g,maxRadius:v}},iX=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function aX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var sX=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Qe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Qm(t,GW);return N.createElement(il,Xa({},i,{type:"linear",className:n}))},oX=(e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),N.isValidElement(r)))return r;var i=Qe("recharts-pie-label-text",aX(e));return N.createElement(Jm,Xa({},t,{alignmentBaseline:"middle",className:i}),r)};function lX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!t)return null;var u=Qn(n),f=Fs(i),h=Fs(a),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,b)=>{var E=(v.startAngle+v.endAngle)/2,k=Vt(v.cx,v.cy,v.outerRadius+m,E),_=Pt(Pt(Pt(Pt({},u),v),{},{stroke:"none"},f),{},{index:b,textAnchor:tX(k.x,v.cx)},k),A=Pt(Pt(Pt(Pt({},u),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[Vt(v.cx,v.cy,v.outerRadius,E),k],key:"line"});return N.createElement(er,{zIndex:Kt.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},N.createElement(Lt,null,a&&sX(a,A),oX(i,_,dt(v,l))))});return N.createElement(Lt,{className:"recharts-pie-labels"},g)}function uX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(Gw,{label:i}):N.createElement(lX,{sectors:t,props:n,showLabels:r})}function cX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=e,u=we(Wa),f=we(Uw),h=we(jK),{onMouseEnter:m,onClick:g,onMouseLeave:v}=i,b=Qm(i,VW),E=Jw(m,i.dataKey,l),k=Ww(v),_=Xw(g,i.dataKey,l);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((A,C)=>{if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&t.length!==1)return null;var j=h==null||h===l,I=String(C)===u&&(f==null||i.dataKey===f)&&j,P=u?r:null,O=n&&I?n:P,R=Pt(Pt({},A),{},{stroke:A.stroke,tabIndex:-1,[rP]:C,[iP]:i.dataKey});return N.createElement(Lt,Xa({key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(C),tabIndex:-1,className:"recharts-pie-sector"},Nc(b,A,C),{onMouseEnter:E(A,C),onMouseLeave:k(A,C),onClick:_(A,C)}),N.createElement(eD,Xa({option:a??O,index:C,shapeType:"sector",isActive:I},R)))}))}function dX(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:m,tooltipType:g}=n,v=Math.abs(n.minAngle),b=iX(u,f),E=Math.abs(b),k=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,_=r.filter(O=>dt(O,h,0)!==0).length,A=(E>=360?_:_-1)*k,C=E-_*v-A,j=r.reduce((O,R)=>{var U=dt(R,h,0);return O+(be(U)?U:0)},0),I;if(j>0){var P;I=r.map((O,R)=>{var U=dt(O,h,0),H=dt(O,m,R),G=rX(n,a,O),$=(be(U)?U:0)/j,V,D=Pt(Pt({},O),i&&i[R]&&i[R].props);R?V=P.endAngle+hn(b)*k*(U!==0?1:0):V=u;var oe=V+hn(b)*((U!==0?v:0)+$*C),de=(V+oe)/2,z=(G.innerRadius+G.outerRadius)/2,Z=[{name:H,value:U,payload:D,dataKey:h,type:g}],fe=Vt(G.cx,G.cy,z,de);return P=Pt(Pt(Pt(Pt({},n.presentationProps),{},{percent:$,cornerRadius:typeof l=="string"?parseFloat(l):l,name:H,tooltipPayload:Z,midAngle:de,middleRadius:z,tooltipPosition:fe},D),G),{},{value:U,dataKey:h,startAngle:V,endAngle:oe,payload:D,paddingAngle:hn(b)*k}),P})}return I}function fX(e){var{showLabels:t,sectors:n,children:r}=e,i=N.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return N.createElement(KJ,{value:t?i:void 0},r)}function hX(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:m,onAnimationStart:g,onAnimationEnd:v}=t,b=Pc(t,"recharts-pie-"),E=n.current,[k,_]=N.useState(!1),A=N.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),C=N.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return N.createElement(fX,{showLabels:!k,sectors:i},N.createElement(Rc,{animationId:b,begin:l,duration:u,isActive:a,easing:f,onAnimationStart:C,onAnimationEnd:A,key:b},j=>{var I=[],P=i&&i[0],O=P==null?void 0:P.startAngle;return i==null||i.forEach((R,U)=>{var H=E&&E[U],G=U>0?Gs(R,"paddingAngle",0):0;if(H){var $=bt(H.endAngle-H.startAngle,R.endAngle-R.startAngle,j),V=Pt(Pt({},R),{},{startAngle:O+G,endAngle:O+$+G});I.push(V),O=V.endAngle}else{var{endAngle:D,startAngle:oe}=R,de=bt(0,D-oe,j),z=Pt(Pt({},R),{},{startAngle:O+G,endAngle:O+de+G});I.push(z),O=z.endAngle}}),n.current=I,N.createElement(Lt,null,N.createElement(cX,{sectors:I,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:r}))}),N.createElement(uX,{showLabels:!k,sectors:i,props:t}),t.children)}var mX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Kt.area};function pX(e){var{id:t}=e,n=Qm(e,KW),{hide:r,className:i,rootTabIndex:a}=e,l=N.useMemo(()=>Yw(e.children,Js),[e.children]),u=we(m=>cW(m,t,l)),f=N.useRef(null),h=Qe("recharts-pie",i);return r||u==null?(f.current=null,N.createElement(Lt,{tabIndex:a,className:h})):N.createElement(er,{zIndex:e.zIndex},N.createElement(eX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),N.createElement(Lt,{tabIndex:a,className:h},N.createElement(hX,{props:Pt(Pt({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function Bh(e){var t=Wt(e,mX),{id:n}=t,r=Qm(t,YW),i=Qn(r);return N.createElement(Zw,{id:n,type:"pie"},a=>N.createElement(N.Fragment,null,N.createElement(FW,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(ZW,Xa({},r,{id:a})),N.createElement(pX,Xa({},r,{id:a}))))}Bh.displayName="Pie";var gX=["points"];function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){yX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yX(e,t,n){return(t=vX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}function bX(e,t){if(e==null)return{};var n,r,i=wX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SX(e){var{option:t,dotProps:n,className:r}=e;if(N.isValidElement(t))return N.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qe(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=bX(a,gX);return N.createElement(KM,$h({},u,{className:i}))}function _X(e,t){return e==null?!1:t?!0:e.length===1}function EX(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:f,zIndex:h=Kt.scatter}=e;if(!_X(t,n))return null;var m=ZM(n),g=JB(n),v=t.map((E,k)=>{var _,A,C=iv(iv(iv({r:3},l),g),{},{index:k,cx:(_=E.x)!==null&&_!==void 0?_:void 0,cy:(A=E.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:E.value,payload:E.payload,points:t});return N.createElement(SX,{key:"dot-".concat(k),option:n,dotProps:C,className:i})}),b={};return u&&f!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(f,")")),N.createElement(er,{zIndex:h},N.createElement(Lt,$h({className:r},b),v))}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX={xAxis:{},yAxis:{},zAxis:{}},aD=Zn({name:"cartesianAxis",initialState:TX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Et()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Et()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Et()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Et()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Et()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Et()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Et()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Et()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Et()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=LC(LC({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:CX,replaceXAxis:jX,removeXAxis:IX,addYAxis:RX,replaceYAxis:PX,removeYAxis:OX,addZAxis:bde,replaceZAxis:wde,removeZAxis:Sde,updateYAxisWidth:MX}=aD.actions,DX=aD.reducer,LX=W([en],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),UX=W([LX,na,ra],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),e1=()=>we(UX),BX=()=>we(MK);function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){$X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $X(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=av(av(av({},u),Fs(i)),yb(i)),h;return N.isValidElement(i)?h=N.cloneElement(i,f):typeof i=="function"?h=i(f):h=N.createElement(KM,f),N.createElement(Lt,{className:"recharts-active-dot",clipPath:l},h)};function BC(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Kt.activeDot}=e,u=we(Wa),f=BX();if(t==null||f==null)return null;var h=t.find(m=>f.includes(m.payload));return Tt(h)?null:N.createElement(er,{zIndex:l},N.createElement(HX,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var FX="Invariant failed";function GX(e,t){throw new Error(FX)}var VX=["x","y"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(null,arguments)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){KX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KX(e,t,n){return(t=YX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t){if(e==null)return{};var n,r,i=XX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QX(e,t){var{x:n,y:r}=e,i=WX(e,VX),a="".concat(n),l=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(t.height||i.height),m=parseInt(h,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Fu(Fu(Fu(Fu(Fu({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:m,width:v,name:t.name,radius:t.radius})}function qh(e){return N.createElement(eD,bx({shapeType:"rectangle",propTransformer:QX,activeClassName:"recharts-active-bar"},e))}var ZX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(be(t))return t;var a=be(r)||Tt(r);return a?t(r,i):(a||GX(),n)}},eQ={},sD=Zn({name:"errorBars",initialState:eQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:_de,replaceErrorBar:Ede,removeErrorBar:kde}=sD.actions,tQ=sD.reducer,nQ=["children"];function rQ(e,t){if(e==null)return{};var n,r,i=iQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sQ=N.createContext(aQ);function oQ(e){var{children:t}=e,n=rQ(e,nQ);return N.createElement(sQ.Provider,{value:n},t)}function t1(e,t){var n,r,i=we(h=>aa(h,e)),a=we(h=>sa(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:un.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:cn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function oD(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=e1(),{needClipX:a,needClipY:l,needClip:u}=t1(t,n);if(!u||!i)return null;var{x:f,y:h,width:m,height:g}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:a?f:f-m/2,y:l?h:h-g/2,width:a?m:m*2,height:l?g:g*2}))}function lQ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&wt(e.zIndex)?e.zIndex:t}var sv={exports:{}},ov={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function uQ(){if(qC)return ov;qC=1;var e=kl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return ov.useSyncExternalStoreWithSelector=function(f,h,m,g,v){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=l(function(){function _(P){if(!A){if(A=!0,C=P,P=g(P),v!==void 0&&E.hasValue){var O=E.value;if(v(O,P))return j=O}return j=P}if(O=j,n(C,P))return O;var R=g(P);return v!==void 0&&v(O,R)?(C=P,O):(C=P,j=R)}var A=!1,C,j,I=m===void 0?null:m;return[function(){return _(h())},I===null?void 0:function(){return _(I())}]},[h,m,g,v]);var k=r(f,b[0],b[1]);return a(function(){E.hasValue=!0,E.value=k},[k]),u(k),k},ov}var zC;function cQ(){return zC||(zC=1,sv.exports=uQ()),sv.exports}cQ();function dQ(e){e()}function fQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dQ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HC={notify(){},get:()=>[]};function hQ(e,t){let n,r=HC,i=0,a=!1;function l(k){m();const _=r.subscribe(k);let A=!1;return()=>{A||(A=!0,_(),g())}}function u(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return a}function m(){i++,n||(n=e.subscribe(f),r=fQ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HC)}function v(){a||(a=!0,m())}function b(){a&&(a=!1,g())}const E={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return E}var mQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pQ=mQ(),gQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yQ=gQ(),vQ=()=>pQ||yQ?N.useLayoutEffect:N.useEffect,xQ=vQ();function FC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bQ(e,t){if(FC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!FC(e[n[i]],t[n[i]]))return!1;return!0}var lv=Symbol.for("react-redux-context"),uv=typeof globalThis<"u"?globalThis:{};function wQ(){if(!N.createContext)return{};const e=uv[lv]??(uv[lv]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var SQ=wQ();function _Q(e){const{children:t,context:n,serverState:r,store:i}=e,a=N.useMemo(()=>{const f=hQ(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=N.useMemo(()=>i.getState(),[i]);xQ(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||SQ;return N.createElement(u.Provider,{value:a},t)}var EQ=_Q,kQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function NQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Zm(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(kQ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!bQ(e[r],t[r]))return!1}else if(!NQ(e[r],t[r]))return!1;return!0}var AQ=["onMouseEnter","onMouseLeave","onClick"],TQ=["value","background","tooltipPosition"],CQ=["id"],jQ=["onMouseEnter","onClick","onMouseLeave"];function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(null,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zh(e,t){if(e==null)return{};var n,r,i=OQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Al(n,t),payload:e}]},DQ=N.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Al(a,t),hide:l,type:f,color:i,unit:u}};return N.createElement(Qw,{tooltipEntrySettings:h})});function LQ(e){var t=we(Wa),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=a,h=zh(a,AQ),m=Jw(l,r),g=Ww(u),v=Xw(f,r);if(!i||n==null)return null;var b=Fs(i);return N.createElement(er,{zIndex:lQ(i,Kt.barBackground)},n.map((E,k)=>{var{value:_,background:A,tooltipPosition:C}=E,j=zh(E,TQ);if(!A)return null;var I=m(E,k),P=g(E,k),O=v(E,k),R=Dn(Dn(Dn(Dn(Dn({option:i,isActive:String(k)===t},j),{},{fill:"#eee"},A),b),Nc(h,E,k)),{},{onMouseEnter:I,onMouseLeave:P,onClick:O,dataKey:r,index:k,className:"recharts-bar-background-rectangle"});return N.createElement(qh,Zi({key:"background-bar-".concat(k)},R))}))}function UQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Dn(Dn({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return N.createElement(GM,{value:t?i:void 0},n)}function BQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=e,u=we(Wa),f=we(Uw),h=n&&String(a)===u&&(f==null||l===f),m=h?n:t;return h?N.createElement(er,{zIndex:Kt.activeBar},N.createElement(qh,Zi({},r,{name:String(r.name)},i,{isActive:h,option:m,index:a,dataKey:l}))):N.createElement(qh,Zi({},r,{name:String(r.name)},i,{isActive:h,option:m,index:a,dataKey:l}))}function $Q(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return N.createElement(qh,Zi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function qQ(e){var t,{data:n,props:r}=e,i=(t=Qn(r))!==null&&t!==void 0?t:{},{id:a}=i,l=zh(i,CQ),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:m,onClick:g,onMouseLeave:v}=r,b=zh(r,jQ),E=Jw(m,f),k=Ww(v),_=Xw(g,f);return n?N.createElement(N.Fragment,null,n.map((A,C)=>N.createElement(Lt,Zi({key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(C),className:"recharts-bar-rectangle"},Nc(b,A,C),{onMouseEnter:E(A,C),onMouseLeave:k(A,C),onClick:_(A,C)}),h?N.createElement(BQ,{shape:u,activeBar:h,baseProps:l,entry:A,index:C,dataKey:f}):N.createElement($Q,{shape:u,baseProps:l,entry:A,index:C,dataKey:f})))):null}function zQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=t,g=n.current,v=Pc(t,"recharts-bar-"),[b,E]=N.useState(!1),k=!b,_=N.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=N.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return N.createElement(UQ,{showLabels:k,rects:r},N.createElement(Rc,{animationId:v,begin:l,duration:u,isActive:a,easing:f,onAnimationEnd:_,onAnimationStart:A,key:v},C=>{var j=C===1?r:r==null?void 0:r.map((I,P)=>{var O=g&&g[P];if(O)return Dn(Dn({},I),{},{x:bt(O.x,I.x,C),y:bt(O.y,I.y,C),width:bt(O.width,I.width,C),height:bt(O.height,I.height,C)});if(i==="horizontal"){var R=bt(0,I.height,C),U=bt(I.stackedBarStart,I.y,C);return Dn(Dn({},I),{},{y:U,height:R})}var H=bt(0,I.width,C),G=bt(I.stackedBarStart,I.x,C);return Dn(Dn({},I),{},{width:H,x:G})});return C>0&&(n.current=j??null),j==null?null:N.createElement(Lt,null,N.createElement(qQ,{props:t,data:j}))}),N.createElement(Gw,{label:t.label}),t.children)}function HQ(e){var t=N.useRef(null);return N.createElement(zQ,{previousRectanglesRef:t,props:e})}var lD=0,FQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:dt(e,t)}};class GQ extends N.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(t||n==null)return null;var m=Qe("recharts-bar",i),g=h;return N.createElement(Lt,{className:m,id:h},u&&N.createElement("defs",null,N.createElement(oD,{clipPathId:g,xAxisId:a,yAxisId:l})),N.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},N.createElement(LQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),N.createElement(HQ,this.props)))}}var VQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:lD,xAxisId:0,yAxisId:0,zIndex:Kt.bar};function KQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m}=e,{needClip:g}=t1(t,n),v=Tl(),b=In(),E=Yw(e.children,Js),k=we(C=>wZ(C,t,n,b,e.id,E));if(v!=="vertical"&&v!=="horizontal")return null;var _,A=k==null?void 0:k[0];return A==null||A.height==null||A.width==null?_=0:_=v==="vertical"?A.height/2:A.width/2,N.createElement(oQ,{xAxisId:t,yAxisId:n,data:k,dataPointFormatter:FQ,errorBarOffset:_},N.createElement(GQ,Zi({},e,{layout:v,needClip:g,data:k,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function YQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:g,offset:v,cells:b,parentViewBox:E,dataStartIndex:k}=e,_=t==="horizontal"?u:l,A=m?_.scale.domain():null,C=pz({numericAxis:_}),j=_.scale(C);return g.map((I,P)=>{var O,R,U,H,G,$;m?O=cz(m[P+k],A):(O=dt(I,n),Array.isArray(O)||(O=[C,O]));var V=ZX(r,lD)(O[1],P);if(t==="horizontal"){var D,[oe,de]=[u.scale(O[0]),u.scale(O[1])];R=oA({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:I,index:P}),U=(D=de??oe)!==null&&D!==void 0?D:void 0,H=i.size;var z=oe-de;if(G=Lr(z)?0:z,$={x:R,y:v.top,width:H,height:v.height},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var Z=hn(G||V)*(Math.abs(V)-Math.abs(G));U-=Z,G+=Z}}else{var[fe,te]=[l.scale(O[0]),l.scale(O[1])];if(R=fe,U=oA({axis:u,ticks:h,bandSize:a,offset:i.offset,entry:I,index:P}),H=te-fe,G=i.size,$={x:v.left,y:U,width:v.width,height:G},Math.abs(V)>0&&Math.abs(H)<Math.abs(V)){var pe=hn(H||V)*(Math.abs(V)-Math.abs(H));H+=pe}}if(R==null||U==null||H==null||G==null)return null;var L=Dn(Dn({},I),{},{stackedBarStart:j,x:R,y:U,width:H,height:G,value:m?O:O[1],payload:I,background:$,tooltipPosition:{x:R+H/2,y:U+G/2},parentViewBox:E},b&&b[P]&&b[P].props);return L}).filter(Boolean)}function JQ(e){var t=Wt(e,VQ),n=In();return N.createElement(Zw,{id:t.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(tD,{legendPayload:MQ(t)}),N.createElement(DQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),N.createElement(iD,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:tP(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),N.createElement(er,{zIndex:t.zIndex},N.createElement(KQ,Zi({},t,{id:r})))))}var wx=N.memo(JQ,Zm);wx.displayName="Bar";function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){WQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZQ=(e,t)=>t,eZ=(e,t,n)=>n,tZ=(e,t,n,r)=>r,nZ=(e,t,n,r,i)=>i,Yc=W([Fm,nZ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),rZ=W([Yc],e=>e==null?void 0:e.maxBarSize),iZ=(e,t,n,r,i,a)=>a,KC=(e,t,n)=>{var r=n??e;if(!Tt(r))return jn(r,t,0)},aZ=W([Ke,Fm,ZQ,eZ,tZ],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),sZ=(e,t,n,r)=>{var i=Ke(e);return i==="horizontal"?yc(e,"yAxis",n,r):yc(e,"xAxis",t,r)},oZ=(e,t,n)=>{var r=Ke(e);return r==="horizontal"?$T(e,"xAxis",t):$T(e,"yAxis",n)},lZ=(e,t,n)=>{var r={},i=e.filter(qm),a=e.filter(h=>h.stackId==null),l=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),u=Object.entries(l).map(h=>{var[m,g]=h,v=g.map(E=>E.dataKey),b=KC(t,n,g[0].barSize);return{stackId:m,dataKeys:v,barSize:b}}),f=a.map(h=>{var m=[h.dataKey].filter(v=>v!=null),g=KC(t,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...f]},uZ=W([aZ,RV,oZ],lZ),cZ=(e,t,n,r,i)=>{var a,l,u=Yc(e,t,n,r,i);if(u!=null){var f=Ke(e),h=kO(e),{maxBarSize:m}=u,g=Tt(m)?h:m,v,b;return f==="horizontal"?(v=Ja(e,"xAxis",t,r),b=Ya(e,"xAxis",t,r)):(v=Ja(e,"yAxis",n,r),b=Ya(e,"yAxis",n,r)),(a=(l=yl(v,b,!0))!==null&&l!==void 0?l:g)!==null&&a!==void 0?a:0}},uD=(e,t,n,r)=>{var i=Ke(e),a,l;return i==="horizontal"?(a=Ja(e,"xAxis",t,r),l=Ya(e,"xAxis",t,r)):(a=Ja(e,"yAxis",n,r),l=Ya(e,"yAxis",n,r)),yl(a,l)};function dZ(e,t,n,r,i){var a=r.length;if(!(a<1)){var l=jn(e,n,0,!0),u,f=[];if(wt(r[0].barSize)){var h=!1,m=n/a,g=r.reduce((A,C)=>A+(C.barSize||0),0);g+=(a-1)*l,g>=n&&(g-=(a-1)*l,l=0),g>=n&&m>0&&(h=!0,m*=.9,g=a*m);var v=(n-g)/2>>0,b={offset:v-l,size:0};u=r.reduce((A,C)=>{var j,I={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+l,size:h?m:(j=C.barSize)!==null&&j!==void 0?j:0}},P=[...A,I];return b=P[P.length-1].position,P},f)}else{var E=jn(t,n,0,!0);n-2*E-(a-1)*l<=0&&(l=0);var k=(n-2*E-(a-1)*l)/a;k>1&&(k>>=0);var _=wt(i)?Math.min(k,i):k;u=r.reduce((A,C,j)=>[...A,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:E+(k+l)*j+(k-_)/2,size:_}}],f)}return u}}var fZ=(e,t,n,r,i,a,l)=>{var u=Tt(l)?t:l,f=dZ(n,r,i!==a?i:a,e,u);return i!==a&&f!=null&&(f=f.map(h=>Af(Af({},h),{},{position:Af(Af({},h.position),{},{offset:h.position.offset-i/2})}))),f},hZ=W([uZ,kO,IV,NO,cZ,uD,rZ],fZ),mZ=(e,t,n,r)=>Ja(e,"xAxis",t,r),pZ=(e,t,n,r)=>Ja(e,"yAxis",n,r),gZ=(e,t,n,r)=>Ya(e,"xAxis",t,r),yZ=(e,t,n,r)=>Ya(e,"yAxis",n,r),vZ=W([hZ,Yc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),xZ=(e,t)=>{var n=$m(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},bZ=W([sZ,Yc],xZ),wZ=W([en,Tb,mZ,pZ,gZ,yZ,vZ,Ke,Lm,uD,bZ,Yc,iZ],(e,t,n,r,i,a,l,u,f,h,m,g,v)=>{var{chartData:b,dataStartIndex:E,dataEndIndex:k}=f;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||h==null)){var{data:_}=g,A;if(_!=null&&_.length>0?A=_:A=b==null?void 0:b.slice(E,k+1),A!=null)return YQ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:m,displayedData:A,offset:e,cells:v,dataStartIndex:E})}}),cD=e=>{var{chartData:t}=e,n=pt(),r=In();return N.useEffect(()=>r?()=>{}:(n(ZT(t)),()=>{n(ZT(void 0))}),[t,n,r]),null},YC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dD=Zn({name:"brush",initialState:YC,reducers:{setBrushSettings(e,t){return t.payload==null?YC:t.payload}}}),{setBrushSettings:Nde}=dD.actions,SZ=dD.reducer;function _Z(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n1{static create(t){return new n1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}_Z(n1,"EPS",1e-4);function NZ(e){return(e%180+180)%180}var AZ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=NZ(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},TZ={dots:[],areas:[],lines:[]},fD=Zn({name:"referenceElements",initialState:TZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Qr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Qr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Qr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Ade,removeDot:Tde,addArea:Cde,removeArea:jde,addLine:Ide,removeLine:Rde}=fD.actions,CZ=fD.reducer,jZ=N.createContext(void 0),IZ=e=>{var{children:t}=e,[n]=N.useState("".concat(ic("recharts"),"-clip")),r=e1();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return N.createElement(jZ.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function hD(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function RZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return AZ(r,n)}function PZ(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Hh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function OZ(e,t){return hD(e,t+1)}function MZ(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,f=0,h=1,m=l,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:hD(r,h)};var k=f,_,A=()=>(_===void 0&&(_=n(E,k)),_),C=E.coordinate,j=f===0||Hh(e,C,A,m,u);j||(f=0,m=l,h+=1),j&&(m=C+e*(A()/2+i),f+=h)},v;h<=a.length;)if(v=g(),v)return v.v;return[]}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){DZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DZ(e,t,n){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:f}=t,h=function(v){var b=a[v],E,k=()=>(E===void 0&&(E=n(b,v)),E);if(v===l-1){var _=e*(b.coordinate+e*k()/2-f);a[v]=b=An(An({},b),{},{tickCoord:_>0?b.coordinate-_*e:b.coordinate})}else a[v]=b=An(An({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=Hh(e,b.tickCoord,k,u,f);A&&(f=b.tickCoord-e*(k()/2+i),a[v]=An(An({},b),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return a}function $Z(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=t;if(a){var m=r[u-1],g=n(m,u-1),v=e*(m.coordinate+e*g/2-h);if(l[u-1]=m=An(An({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var b=Hh(e,m.tickCoord,()=>g,f,h);b&&(h=m.tickCoord-e*(g/2+i),l[u-1]=An(An({},m),{},{isShow:!0}))}}for(var E=a?u-1:u,k=function(C){var j=l[C],I,P=()=>(I===void 0&&(I=n(j,C)),I);if(C===0){var O=e*(j.coordinate-e*P()/2-f);l[C]=j=An(An({},j),{},{tickCoord:O<0?j.coordinate-O*e:j.coordinate})}else l[C]=j=An(An({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var R=Hh(e,j.tickCoord,P,f,h);R&&(f=j.tickCoord+e*(P()/2+i),l[C]=An(An({},j),{},{isShow:!0}))}},_=0;_<E;_++)k(_);return l}function r1(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:m,angle:g}=e;if(!i||!i.length||!r)return[];if(be(f)||Cl.isSsr){var v;return(v=OZ(i,be(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],E=u==="top"||u==="bottom"?"width":"height",k=m&&E==="width"?tc(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(j,I)=>{var P=typeof h=="function"?h(j.value,I):j.value;return E==="width"?RZ(tc(P,{fontSize:t,letterSpacing:n}),k,g):tc(P,{fontSize:t,letterSpacing:n})[E]},A=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,C=PZ(a,A,E);return f==="equidistantPreserveStart"?MZ(A,C,_,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=$Z(A,C,_,i,l,f==="preserveStartEnd"):b=BZ(A,C,_,i,l),b.filter(j=>j.isShow))}var qZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,h=l+f+u+(n?r:0);return Math.round(h)}return 0},zZ=["axisLine","width","height","className","hide","ticks","axisType"];function HZ(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(null,arguments)}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){GZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GZ(e,t,n){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Kt.axis};function YZ(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var h=Gt(Gt(Gt({},f),Qn(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!l||a==="bottom"&&l);h=Gt(Gt({},h),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var g=+(a==="left"&&!l||a==="right"&&l);h=Gt(Gt({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return N.createElement("line",Ws({},h,{className:Qe("recharts-cartesian-axis-line",Gs(u,"className"))}))}function JZ(e,t,n,r,i,a,l,u,f){var h,m,g,v,b,E,k=u?-1:1,_=e.tickSize||l,A=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":h=m=e.coordinate,v=n+ +!u*i,g=v-k*_,E=g-k*f,b=A;break;case"left":g=v=e.coordinate,m=t+ +!u*r,h=m-k*_,b=h-k*f,E=A;break;case"right":g=v=e.coordinate,m=t+ +u*r,h=m+k*_,b=h+k*f,E=A;break;default:h=m=e.coordinate,v=n+ +u*i,g=v+k*_,E=g+k*f,b=A;break}return{line:{x1:h,y1:g,x2:m,y2:v},tick:{x:b,y:E}}}function WZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function QZ(e){var{option:t,tickProps:n,value:r}=e,i,a=Qe(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,Gt(Gt({},n),{},{className:a}));else if(typeof t=="function")i=t(Gt(Gt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Qe(l,t==null?void 0:t.className)),i=N.createElement(Jm,Ws({},n,{className:l}),r)}return i}var ZZ=N.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x:v,y:b,width:E,height:k,tickSize:_,tickMargin:A,fontSize:C,letterSpacing:j,getTicksConfig:I,events:P,axisType:O}=e,R=r1(Gt(Gt({},I),{},{ticks:n}),C,j),U=WZ(m,g),H=XZ(m,g),G=Qn(I),$=Fs(r),V={};typeof i=="object"&&(V=i);var D=Gt(Gt({},G),{},{fill:"none"},V),oe=R.map(Z=>Gt({entry:Z},JZ(Z,v,b,E,k,m,_,g,A))),de=oe.map(Z=>{var{entry:fe,line:te}=Z;return N.createElement(Lt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&N.createElement("line",Ws({},D,te,{className:Qe("recharts-cartesian-axis-tick-line",Gs(i,"className"))})))}),z=oe.map((Z,fe)=>{var{entry:te,tick:pe}=Z,L=Gt(Gt(Gt(Gt({textAnchor:U,verticalAnchor:H},G),{},{stroke:"none",fill:a},$),pe),{},{index:fe,payload:te,visibleTicksCount:R.length,tickFormatter:l,padding:f},h);return N.createElement(Lt,Ws({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},Nc(P,te,fe)),r&&N.createElement(QZ,{option:r,tickProps:L,value:"".concat(typeof l=="function"?l(te.value,fe):te.value).concat(u||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},z.length>0&&N.createElement(er,{zIndex:Kt.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},z)),de.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},de))}),eee=N.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:f}=e,h=HZ(e,zZ),[m,g]=N.useState(""),[v,b]=N.useState(""),E=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return qZ({ticks:E.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=N.useCallback(_=>{if(_){var A=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=A;var C=A[0];if(C){var j=window.getComputedStyle(C),I=j.fontSize,P=j.letterSpacing;(I!==m||P!==v)&&(g(I),b(P))}}},[m,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(er,{zIndex:e.zIndex},N.createElement(Lt,{className:Qe("recharts-cartesian-axis",a)},N.createElement(YZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Qn(e)}),N.createElement(ZZ,{ref:k,axisType:f,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(NJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(DJ,{label:e.label,labelRef:e.labelRef}),e.children)))}),i1=N.forwardRef((e,t)=>{var n=Wt(e,Vi);return N.createElement(eee,Ws({},n,{ref:t}))});i1.displayName="CartesianAxis";var tee=["x1","y1","x2","y2","key"],nee=["offset"],ree=["xAxisId","yAxisId"],iee=["xAxisId","yAxisId"];function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(r){aee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aee(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function see(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}function Fh(e,t){if(e==null)return{};var n,r,i=lee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return N.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mD(e){var{option:t,lineItemProps:n}=e,r;if(N.isValidElement(t))r=N.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:f,key:h}=n,m=Fh(n,tee),g=(i=Qn(m))!==null&&i!==void 0?i:{},{offset:v}=g,b=Fh(g,nee);r=N.createElement("line",Os({},b,{x1:a,y1:l,x2:u,y2:f,fill:"none",key:h}))}return r}function cee(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Fh(e,ree),f=i.map((h,m)=>{var g=Tn(Tn({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(m),index:m});return N.createElement(mD,{key:"line-".concat(m),option:r,lineItemProps:g})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function dee(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Fh(e,iee),f=i.map((h,m)=>{var g=Tn(Tn({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(m),index:m});return N.createElement(mD,{option:r,lineItemProps:g,key:"line-".concat(m)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function fee(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var m=h.map((g,v)=>{var b=!h[v+1],E=b?i+l-g:h[v+1]-g;if(E<=0)return null;var k=v%t.length;return N.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:E,width:a,stroke:"none",fill:t[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function hee(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var m=h.map((g,v)=>{var b=!h[v+1],E=b?i+l-g:h[v+1]-g;if(E<=0)return null;var k=v%n.length;return N.createElement("rect",{key:"react-".concat(v),x:g,y:a,width:E,height:u,stroke:"none",fill:n[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var mee=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return ZR(r1(Tn(Tn(Tn({},Vi),n),{},{ticks:eP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},pee=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return ZR(r1(Tn(Tn(Tn({},Vi),n),{},{ticks:eP(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},gee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Kt.grid};function a1(e){var t=jb(),n=Ib(),r=uP(),i=Tn(Tn({},Wt(e,gee)),{},{x:be(e.x)?e.x:r.left,y:be(e.y)?e.y:r.top,width:be(e.width)?e.width:r.width,height:be(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:h,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:b}=i,E=In(),k=we(H=>qT(H,"xAxis",a,E)),_=we(H=>qT(H,"yAxis",l,E));if(!mi(h)||!mi(m)||!be(u)||!be(f))return null;var A=i.verticalCoordinatesGenerator||mee,C=i.horizontalCoordinatesGenerator||pee,{horizontalPoints:j,verticalPoints:I}=i;if((!j||!j.length)&&typeof C=="function"){var P=v&&v.length,O=C({yAxis:_?Tn(Tn({},_),{},{ticks:P?v:_.ticks}):void 0,width:t??h,height:n??m,offset:r},P?!0:g);mh(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}if((!I||!I.length)&&typeof A=="function"){var R=b&&b.length,U=A({xAxis:k?Tn(Tn({},k),{},{ticks:R?b:k.ticks}):void 0,width:t??h,height:n??m,offset:r},R?!0:g);mh(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(I=U)}return N.createElement(er,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(uee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(fee,Os({},i,{horizontalPoints:j})),N.createElement(hee,Os({},i,{verticalPoints:I})),N.createElement(cee,Os({},i,{offset:r,horizontalPoints:j,xAxis:k,yAxis:_})),N.createElement(dee,Os({},i,{offset:r,verticalPoints:I,xAxis:k,yAxis:_}))))}a1.displayName="CartesianGrid";function yee(e){var t=Fs(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var pD=(e,t,n,r)=>Ja(e,"xAxis",t,r),gD=(e,t,n,r)=>Ya(e,"xAxis",t,r),yD=(e,t,n,r)=>Ja(e,"yAxis",n,r),vD=(e,t,n,r)=>Ya(e,"yAxis",n,r),vee=W([Ke,pD,yD,gD,vD],(e,t,n,r,i)=>ta(e,"xAxis")?yl(t,r,!1):yl(n,i,!1)),xee=(e,t,n,r,i)=>i,xD=W([Fm,xee],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),bee=(e,t,n,r,i)=>{var a,l=xD(e,t,n,r,i);if(l!=null){var u=Ke(e),f=ta(u,"xAxis"),h;if(f?h=yc(e,"yAxis",n,r):h=yc(e,"xAxis",t,r),h!=null){var{stackId:m}=l,g=$m(l);if(!(m==null||g==null)){var v=(a=h[m])===null||a===void 0?void 0:a.stackedData;return v==null?void 0:v.find(b=>b.key===g)}}}},wee=W([Ke,pD,yD,gD,vD,bee,Lm,vee,xD,PV],(e,t,n,r,i,a,l,u,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=l;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=f,E;if(b&&b.length>0?E=b:E=m==null?void 0:m.slice(g,v+1),E!=null)return $ee({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:a,displayedData:E,chartBaseValue:h,bandSize:u})}}),See=["id"],_ee=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function bD(e,t){if(e==null)return{};var n,r,i=Eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){kee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gh(e,t){return e&&e!=="none"?e:t}var Tee=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:Gh(r,i),value:Al(n,t),payload:e}]},Cee=N.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f,tooltipType:h}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Al(l,t),hide:u,type:h,color:Gh(r,a),unit:f}};return N.createElement(Qw,{tooltipEntrySettings:m})});function jee(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:l}=r,u=Qn(r);return N.createElement(EX,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function Iee(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var l,u,f={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return tl(tl({},f),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return N.createElement(GM,{value:t?i:void 0},n)}function ZC(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:l,type:u,stroke:f,connectNulls:h,isRange:m}=a,{id:g}=a,v=bD(a,See),b=Qn(v),E=Un(v);return N.createElement(N.Fragment,null,(t==null?void 0:t.length)>1&&N.createElement(Lt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(il,zs({},E,{id:g,points:t,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&N.createElement(il,zs({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:t})),f!=="none"&&m&&N.createElement(il,zs({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),N.createElement(jee,{points:t,props:v,clipPathId:i}))}function Ree(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,l=r[r.length-1].y;if(!wt(a)||!wt(l))return null;var u=t*Math.abs(a-l),f=Math.max(...r.map(h=>h.x||0));return be(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),be(f)?N.createElement("rect",{x:0,y:a<l?a:a-u,width:f+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function Pee(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,l=r[r.length-1].x;if(!wt(a)||!wt(l))return null;var u=t*Math.abs(a-l),f=Math.max(...r.map(h=>h.y||0));return be(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),be(f)?N.createElement("rect",{x:a<l?a:a-u,y:0,width:u,height:Math.floor(f+(i?parseInt("".concat(i),10):1))}):null}function Oee(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?N.createElement(Ree,{alpha:t,points:r,baseLine:i,strokeWidth:a}):N.createElement(Pee,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Mee(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:l,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:b}=r,E=N.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=Pc(E,"recharts-area-"),_=Xz(),[A,C]=N.useState(!1),j=!A,I=N.useCallback(()=>{typeof b=="function"&&b(),C(!1)},[b]),P=N.useCallback(()=>{typeof v=="function"&&v(),C(!0)},[v]);if(_==null)return null;var O=i.current,R=a.current;return N.createElement(Iee,{showLabels:j,points:l},r.children,N.createElement(Rc,{animationId:k,begin:h,duration:m,isActive:f,easing:g,onAnimationEnd:I,onAnimationStart:P,key:k},U=>{if(O){var H=O.length/l.length,G=U===1?l:l.map((V,D)=>{var oe=Math.floor(D*H);if(O[oe]){var de=O[oe];return tl(tl({},V),{},{x:bt(de.x,V.x,U),y:bt(de.y,V.y,U)})}return V}),$;return be(u)?$=bt(R,u,U):Tt(u)||Lr(u)?$=bt(R,0,U):$=u.map((V,D)=>{var oe=Math.floor(D*H);if(Array.isArray(R)&&R[oe]){var de=R[oe];return tl(tl({},V),{},{x:bt(de.x,V.x,U),y:bt(de.y,V.y,U)})}return V}),U>0&&(i.current=G,a.current=$),N.createElement(ZC,{points:G,baseLine:$,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=l,a.current=u),N.createElement(Lt,null,f&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(Oee,{alpha:U,points:l,baseLine:u,layout:_,strokeWidth:r.strokeWidth}))),N.createElement(Lt,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(ZC,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),N.createElement(Gw,{label:r.label}))}function Dee(e){var{needClip:t,clipPathId:n,props:r}=e,i=N.useRef(null),a=N.useRef();return N.createElement(Mee,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Lee extends N.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:l,needClip:u,xAxisId:f,yAxisId:h,width:m,height:g,id:v,baseLine:b,zIndex:E}=this.props;if(t)return null;var k=Qe("recharts-area",i),_=v,{r:A,strokeWidth:C}=yee(n),j=ZM(n),I=A*2+C,P=u?"url(#clipPath-".concat(j?"":"dots-").concat(_,")"):void 0;return N.createElement(er,{zIndex:E},N.createElement(Lt,{className:k},u&&N.createElement("defs",null,N.createElement(oD,{clipPathId:_,xAxisId:f,yAxisId:h}),!j&&N.createElement("clipPath",{id:"clipPath-dots-".concat(_)},N.createElement("rect",{x:l-I/2,y:a-I/2,width:m+I,height:g+I}))),N.createElement(Dee,{needClip:u,clipPathId:_,props:this.props})),N.createElement(BC,{points:r,mainColor:Gh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(b)&&N.createElement(BC,{points:b,mainColor:Gh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var wD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Kt.area};function Uee(e){var t,n=Wt(e,wD),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,fill:h,fillOpacity:m,hide:g,isAnimationActive:v,legendType:b,stroke:E,xAxisId:k,yAxisId:_}=n,A=bD(n,_ee),C=Tl(),j=NM(),{needClip:I}=t1(k,_),P=In(),{points:O,isRange:R,baseLine:U}=(t=we(oe=>wee(oe,k,_,P,e.id)))!==null&&t!==void 0?t:{},H=e1();if(C!=="horizontal"&&C!=="vertical"||H==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:G,width:$,x:V,y:D}=H;return!O||!O.length?null:N.createElement(Lee,zs({},A,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:U,connectNulls:u,dot:f,fill:h,fillOpacity:m,height:G,hide:g,layout:C,isAnimationActive:v==="auto"?!Cl.isSsr:v,isRange:R,legendType:b,needClip:I,points:O,stroke:E,width:$,left:V,top:D,xAxisId:k,yAxisId:_}))}var Bee=(e,t,n,r,i)=>{var a=n??t;if(be(a))return a;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function $ee(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:b}=e,E=i&&i.length,k=Bee(a,l,n,u,f),_=a==="horizontal",A=!1,C=h.map((I,P)=>{var O;E?O=i[m+P]:(O=dt(I,r),Array.isArray(O)?A=!0:O=[k,O]);var R=O[1]==null||E&&!t&&dt(I,r)==null;return _?{x:sA({axis:u,ticks:g,bandSize:b,entry:I,index:P}),y:R?null:f.scale(O[1]),value:O,payload:I}:{x:R?null:u.scale(O[1]),y:sA({axis:f,ticks:v,bandSize:b,entry:I,index:P}),value:O,payload:I}}),j;return E||A?j=C.map(I=>{var P=Array.isArray(I.value)?I.value[0]:null;return _?{x:I.x,y:P!=null&&I.y!=null?f.scale(P):null,payload:I.payload}:{x:P!=null?u.scale(P):null,y:I.y,payload:I.payload}}):j=_?f.scale(k):u.scale(k),{points:C,baseLine:j,isRange:A}}function qee(e){var t=Wt(e,wD),n=In();return N.createElement(Zw,{id:t.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(tD,{legendPayload:Tee(t)}),N.createElement(Cee,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),N.createElement(iD,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:tP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),N.createElement(Uee,zs({},t,{id:r}))))}var SD=N.memo(qee,Zm);SD.displayName="Area";var zee=["domain","range"],Hee=["domain","range"];function e2(e,t){if(e==null)return{};var n,r,i=Fee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function _D(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=e2(e,zee),{domain:a,range:l}=t,u=e2(t,Hee);return!t2(n,a)||!t2(r,l)?!1:Zm(i,u)}var Gee=["dangerouslySetInnerHTML","ticks"],Vee=["id"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function n2(e,t){if(e==null)return{};var n,r,i=Kee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yee(e){var t=pt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?t(CX(e)):n.current!==e&&t(jX({prev:n.current,next:e})),n.current=e},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(t(IX(n.current)),n.current=null)},[t]),null}var Jee=e=>{var{xAxisId:t,className:n}=e,r=we(Tb),i=In(),a="xAxis",l=we(_=>Dl(_,a,t,i)),u=we(_=>iM(_,a,t,i)),f=we(_=>eM(_,t)),h=we(_=>j7(_,t)),m=we(_=>MO(_,t));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=n2(e,Gee),{id:E}=m,k=n2(m,Vee);return N.createElement(i1,Sx({},b,k,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:Qe("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Wee={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,angle:un.angle,axisLine:Vi.axisLine,height:un.height,hide:!1,includeHidden:un.includeHidden,interval:un.interval,minTickGap:un.minTickGap,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,tickLine:Vi.tickLine,tickSize:Vi.tickSize,type:un.type,xAxisId:0},Xee=e=>{var t=Wt(e,Wee);return N.createElement(N.Fragment,null,N.createElement(Yee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(Jee,t))},s1=N.memo(Xee,_D);s1.displayName="XAxis";var Qee=["dangerouslySetInnerHTML","ticks"],Zee=["id"];function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_x.apply(null,arguments)}function r2(e,t){if(e==null)return{};var n,r,i=ete(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ete(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tte(e){var t=pt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?t(RX(e)):n.current!==e&&t(PX({prev:n.current,next:e})),n.current=e},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(t(OX(n.current)),n.current=null)},[t]),null}var nte=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=N.useRef(null),l=N.useRef(null),u=we(Tb),f=In(),h=pt(),m="yAxis",g=we(P=>Dl(P,m,t,f)),v=we(P=>tM(P,t)),b=we(P=>R7(P,t)),E=we(P=>iM(P,m,t,f)),k=we(P=>DO(P,t));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Fw(i)||N.isValidElement(i)||k==null)){var P=a.current;if(P){var O=P.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&h(MX({id:t,width:O}))}}},[E,v,h,i,t,r,k]),v==null||b==null||k==null)return null;var{dangerouslySetInnerHTML:_,ticks:A}=e,C=r2(e,Qee),{id:j}=k,I=r2(k,Zee);return N.createElement(i1,_x({},C,I,{ref:a,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Qe("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:E,axisType:m}))},rte={allowDataOverflow:cn.allowDataOverflow,allowDecimals:cn.allowDecimals,allowDuplicatedCategory:cn.allowDuplicatedCategory,angle:cn.angle,axisLine:Vi.axisLine,hide:!1,includeHidden:cn.includeHidden,interval:cn.interval,minTickGap:cn.minTickGap,mirror:cn.mirror,orientation:cn.orientation,padding:cn.padding,reversed:cn.reversed,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,tickLine:Vi.tickLine,tickSize:Vi.tickSize,type:cn.type,width:cn.width,yAxisId:0},ite=e=>{var t=Wt(e,rte);return N.createElement(N.Fragment,null,N.createElement(tte,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(nte,t))},o1=N.memo(ite,_D);o1.displayName="YAxis";var ate=(e,t)=>t,l1=W([ate,Ke,PO,nn,bM,oa,KK,en],eY),u1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ED=Ur("mouseClick"),kD=Cc();kD.startListening({actionCreator:ED,effect:(e,t)=>{var n=e.payload,r=l1(t.getState(),u1(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(V7({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ex=Ur("mouseMove"),ND=Cc(),Tf=null;ND.startListening({actionCreator:Ex,effect:(e,t)=>{var n=e.payload;Tf!==null&&cancelAnimationFrame(Tf);var r=u1(n);Tf=requestAnimationFrame(()=>{var i=t.getState(),a=Rw(i,i.tooltip.settings.shared);if(a==="axis"){var l=l1(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(fM({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(dM())}Tf=null})}});var i2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},AD=Zn({name:"rootProps",initialState:i2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:i2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ste=AD.reducer,{updateOptions:ote}=AD.actions,TD=Zn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lte}=TD.actions,ute=TD.reducer,CD=Ur("keyDown"),jD=Ur("focus"),c1=Cc();c1.startListening({actionCreator:CD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Pw(i,Ul(n),zc(n),Vc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=oa(n);if(a==="Enter"){var h=Mh(n,"axis","hover",String(i.index));t.dispatch(mx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=D7(n),g=m==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,b=u+v*g;if(!(f==null||b>=f.length||b<0)){var E=Mh(n,"axis","hover",String(b));t.dispatch(mx({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});c1.startListening({actionCreator:jD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Mh(n,"axis","hover",String(a));t.dispatch(mx({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Rr=Ur("externalEvent"),ID=Cc(),cv=new Map;ID.startListening({actionCreator:Rr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=cv.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:RK(u),activeDataKey:Uw(u),activeIndex:Wa(u),activeLabel:_M(u),activeTooltipIndex:Wa(u),isTooltipActive:PK(u)};n(f,r)}finally{cv.delete(i)}});cv.set(i,l)}}});var cte=W([Ll],e=>e.tooltipItemPayloads),dte=W([cte,Fc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),RD=Ur("touchMove"),PD=Cc();PD.startListening({actionCreator:RD,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Rw(r,r.tooltip.settings.shared);if(i==="axis"){var a=l1(r,u1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(fM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(rP),m=(l=f.getAttribute(iP))!==null&&l!==void 0?l:void 0,g=dte(t.getState(),h,m);t.dispatch(cM({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}}});var fte=ER({brush:SZ,cartesianAxis:DX,chartData:IY,errorBars:tQ,graphicalItems:zW,layout:iz,legend:fH,options:NY,polarAxis:rW,polarOptions:ute,referenceElements:CZ,rootProps:ste,tooltip:K7,zIndex:mY}),hte=function(t){return C8({reducer:fte,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([kD.middleware,ND.middleware,c1.middleware,ID.middleware,PD.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(BR({type:"raf"}))},devTools:Cl.devToolsEnabled})};function OD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=In(),a=N.useRef(null);if(i)return n;a.current==null&&(a.current=hte(t));var l=xb;return N.createElement(EQ,{context:l,store:a.current},n)}function mte(e){var{layout:t,margin:n}=e,r=pt(),i=In();return N.useEffect(()=>{i||(r(tz(t)),r(ez(n)))},[r,i,t,n]),null}var MD=N.memo(mte,Zm);function DD(e){var t=pt();return N.useEffect(()=>{t(ote(e))},[t,e]),null}function a2(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=nD("".concat(r).concat(t)),a=pt();return N.useLayoutEffect(()=>(a(fY({zIndex:t,elementId:i,isPanorama:n})),()=>{a(hY({zIndex:t,isPanorama:n}))}),[a,t,i,n]),N.createElement("g",{tabIndex:-1,id:i})}function s2(e){var{children:t,isPanorama:n}=e,r=we(nY);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return N.createElement(N.Fragment,null,i.map(l=>N.createElement(a2,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>N.createElement(a2,{key:l,zIndex:l,isPanorama:n})))}var pte=["children"];function gte(e,t){if(e==null)return{};var n,r,i=yte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(null,arguments)}var vte={width:"100%",height:"100%",display:"block"},xte=N.forwardRef((e,t)=>{var n=jb(),r=Ib(),i=bP();if(!mi(n)||!mi(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=e,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),N.createElement(lb,Vh({},l,{title:u,desc:f,role:m,tabIndex:h,width:n,height:r,style:vte,ref:t}),a)}),bte=e=>{var{children:t}=e,n=we(km);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return N.createElement(lb,{width:r,height:i,x:l,y:a},t)},o2=N.forwardRef((e,t)=>{var{children:n}=e,r=gte(e,pte),i=In();return i?N.createElement(bte,null,N.createElement(s2,{isPanorama:!0},n)):N.createElement(xte,Vh({ref:t},r),N.createElement(s2,{isPanorama:!1},n))});function wte(){var e=pt(),[t,n]=N.useState(null),r=we(wz);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wt(a)&&a!==r&&e(rz(a))}},[t,e,r]),n}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ste(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){_te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _te(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=kte(e,"string");return typeof t=="symbol"?t:t+""}function kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(null,arguments)}var Nte=()=>($Y(),null);function Kh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ate=N.forwardRef((e,t)=>{var n,r,i=N.useRef(null),[a,l]=N.useState({containerWidth:Kh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Kh((r=e.style)===null||r===void 0?void 0:r.height)}),u=N.useCallback((h,m)=>{l(g=>{var v=Math.round(h),b=Math.round(m);return g.containerWidth===v&&g.containerHeight===b?g:{containerWidth:v,containerHeight:b}})},[]),f=N.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var v=E=>{var{width:k,height:_}=E[0].contentRect;u(k,_)},b=new ResizeObserver(v);b.observe(h),i.current=b}},[t,u]);return N.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(Am,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",Xs({ref:f},e)))}),Tte=N.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=N.useState({containerWidth:Kh(n),containerHeight:Kh(r)}),l=N.useCallback((f,h)=>{a(m=>{var g=Math.round(f),v=Math.round(h);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=N.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();l(h,m)}},[t,l]);return N.createElement(N.Fragment,null,N.createElement(Am,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Xs({ref:u},e)))}),Cte=N.forwardRef((e,t)=>{var{width:n,height:r}=e;return N.createElement(N.Fragment,null,N.createElement(Am,{width:n,height:r}),N.createElement("div",Xs({ref:t},e)))}),jte=N.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ki(n)||Ki(r)?N.createElement(Tte,Xs({},e,{ref:t})):N.createElement(Cte,Xs({},e,{ref:t}))});function Ite(e){return e===!0?Ate:jte}var Rte=N.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:b,onTouchMove:E,onTouchStart:k,style:_,width:A,responsive:C,dispatchTouchEvents:j=!0}=e,I=N.useRef(null),P=pt(),[O,R]=N.useState(null),[U,H]=N.useState(null),G=wte(),$=Cb(),V=($==null?void 0:$.width)>0?$.width:A,D=($==null?void 0:$.height)>0?$.height:i,oe=N.useCallback(re=>{G(re),typeof t=="function"&&t(re),R(re),H(re),re!=null&&(I.current=re)},[G,t,R,H]),de=N.useCallback(re=>{P(ED(re)),P(Rr({handler:a,reactEvent:re}))},[P,a]),z=N.useCallback(re=>{P(Ex(re)),P(Rr({handler:h,reactEvent:re}))},[P,h]),Z=N.useCallback(re=>{P(dM()),P(Rr({handler:m,reactEvent:re}))},[P,m]),fe=N.useCallback(re=>{P(Ex(re)),P(Rr({handler:g,reactEvent:re}))},[P,g]),te=N.useCallback(()=>{P(jD())},[P]),pe=N.useCallback(re=>{P(CD(re.key))},[P]),L=N.useCallback(re=>{P(Rr({handler:l,reactEvent:re}))},[P,l]),q=N.useCallback(re=>{P(Rr({handler:u,reactEvent:re}))},[P,u]),le=N.useCallback(re=>{P(Rr({handler:f,reactEvent:re}))},[P,f]),he=N.useCallback(re=>{P(Rr({handler:v,reactEvent:re}))},[P,v]),ie=N.useCallback(re=>{P(Rr({handler:k,reactEvent:re}))},[P,k]),ye=N.useCallback(re=>{j&&P(RD(re)),P(Rr({handler:E,reactEvent:re}))},[P,j,E]),ge=N.useCallback(re=>{P(Rr({handler:b,reactEvent:re}))},[P,b]),Ie=Ite(C);return N.createElement(IM.Provider,{value:O},N.createElement($I.Provider,{value:U},N.createElement(Ie,{width:V??(_==null?void 0:_.width),height:D??(_==null?void 0:_.height),className:Qe("recharts-wrapper",r),style:Ste({position:"relative",cursor:"default",width:V,height:D},_),onClick:de,onContextMenu:L,onDoubleClick:q,onFocus:te,onKeyDown:pe,onMouseDown:le,onMouseEnter:z,onMouseLeave:Z,onMouseMove:fe,onMouseUp:he,onTouchEnd:ge,onTouchMove:ye,onTouchStart:ie,ref:oe},N.createElement(Nte,null),n)))}),Pte=["width","height","responsive","children","className","style","compact","title","desc"];function Ote(e,t){if(e==null)return{};var n,r,i=Mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LD=N.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:f,title:h,desc:m}=e,g=Ote(e,Pte),v=Qn(g);return f?N.createElement(N.Fragment,null,N.createElement(Am,{width:n,height:r}),N.createElement(o2,{otherAttributes:v,title:h,desc:m},a)):N.createElement(Rte,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(o2,{otherAttributes:v,title:h,desc:m,ref:t},N.createElement(IZ,null,a)))});function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}var Dte={top:5,right:5,bottom:5,left:5},Lte={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},UD=N.forwardRef(function(t,n){var r,i=Wt(t.categoricalChartProps,Lte),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(OD,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},N.createElement(cD,{chartData:h.data}),N.createElement(MD,{layout:i.layout,margin:i.margin}),N.createElement(DD,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(LD,kx({},i,{ref:n})))}),Ute=["axis","item"],Bte=N.forwardRef((e,t)=>N.createElement(UD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ute,tooltipPayloadSearcher:Hw,categoricalChartProps:e,ref:t}));function $te(e){var t=pt();return N.useEffect(()=>{t(lte(e))},[t,e]),null}var qte=["layout"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function zte(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fte={top:5,right:5,bottom:5,left:5},BD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fte,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gte=N.forwardRef(function(t,n){var r,i=Wt(t.categoricalChartProps,BD),{layout:a}=i,l=zte(i,qte),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return N.createElement(OD,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},N.createElement(cD,{chartData:i.data}),N.createElement(MD,{layout:a,margin:i.margin}),N.createElement(DD,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement($te,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(LD,Nx({},l,{ref:n})))});function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){Vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vte(e,t,n){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jte=["item"],Wte=c2(c2({},BD),{},{layout:"centric",startAngle:0,endAngle:360}),Ax=N.forwardRef((e,t)=>{var n=Wt(e,Wte);return N.createElement(Gte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jte,tooltipPayloadSearcher:Hw,categoricalChartProps:n,ref:t})}),Xte=["axis"],Qte=N.forwardRef((e,t)=>N.createElement(UD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xte,tooltipPayloadSearcher:Hw,categoricalChartProps:e,ref:t}));const Cf=({icon:e,label:t,onClick:n})=>c.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center gap-2 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-4 rounded-xl hover:border-sushi-gold hover:shadow-lg hover:shadow-sushi-gold/10 transition-all group",children:[c.jsx("div",{className:"p-3 bg-gray-50 dark:bg-white/5 rounded-full text-gray-500 dark:text-sushi-muted group-hover:bg-sushi-gold group-hover:text-sushi-black transition-colors",children:c.jsx(e,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-white uppercase tracking-wide group-hover:text-sushi-gold",children:t})]}),d2=({title:e,value:t,sub:n,icon:r,colorClass:i})=>c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 hover:border-sushi-gold/30 transition-all shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-xs font-bold uppercase tracking-wider",children:e}),c.jsx("h3",{className:"text-3xl font-serif text-gray-900 dark:text-white mt-1",children:t})]}),c.jsx("div",{className:`p-3 rounded-lg bg-gray-50 dark:bg-white/5 ${i}`,children:c.jsx(r,{className:"w-6 h-6"})})]}),c.jsx("p",{className:"text-xs text-gray-400 dark:text-sushi-muted",children:n})]}),Zte=({employees:e,records:t,tasks:n,inventory:r,sanctions:i,cashShifts:a=[],currentUser:l,setView:u})=>{const f=N.useMemo(()=>e.filter(_=>_.active).length,[e]),h=N.useMemo(()=>t.reduce((_,A)=>_+A.overtimeAmount,0),[t]),m=N.useMemo(()=>r.find(_=>_.status==="OPEN"),[r]),g=N.useMemo(()=>a.find(_=>_.status==="OPEN"),[a]),v=N.useMemo(()=>{if(!g)return 0;const _=g.transactions.filter(C=>C.type==="INCOME"&&C.method==="CASH").reduce((C,j)=>C+j.amount,0),A=g.transactions.filter(C=>C.type==="EXPENSE"&&C.method==="CASH").reduce((C,j)=>C+j.amount,0);return g.initialAmount+_-A},[g]),b=_=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(_),E=N.useMemo(()=>[...i].filter(_=>!_.deletedAt).sort((_,A)=>new Date(A.date).getTime()-new Date(_.date).getTime()).slice(0,3),[i]),k=N.useMemo(()=>t.reduce((_,A)=>{const C=new Date(A.date).toLocaleDateString("es-AR",{month:"short"}),j=_.find(I=>I.name===C);return j?j.amount+=A.overtimeAmount:_.push({name:C,amount:A.overtimeAmount}),_},[]).slice(-6),[t]);return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Panel General"}),c.jsxs("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:["Bienvenido, ",c.jsx("span",{className:"text-sushi-gold font-bold",children:l==null?void 0:l.name}),". Resumen operativo de Sushiblack."]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"flex h-3 w-3 relative",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),c.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-sushi-muted uppercase tracking-wider",children:"Sistema Operativo"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(d2,{title:"Staff Activo",value:f,sub:"Empleados en nmina",icon:um,colorClass:"text-blue-500"}),c.jsx(d2,{title:"Costo Extras (Total)",value:b(h),sub:"Acumulado histrico",icon:Zs,colorClass:"text-green-500"}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 hover:border-sushi-gold/30 transition-all shadow-sm relative overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-xs font-bold uppercase tracking-wider",children:"Caja Activa (Efectivo)"}),g&&c.jsxs("span",{className:"flex h-2 w-2 relative",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]})]}),c.jsx("h3",{className:"text-3xl font-serif text-gray-900 dark:text-white mt-1",children:g?b(v):"CERRADA"})]}),c.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-white/5 text-yellow-500",children:c.jsx(Dr,{className:"w-6 h-6"})})]}),c.jsx("p",{className:"text-xs text-gray-400 dark:text-sushi-muted relative z-10",children:g?"Turno en curso":"Requiere Apertura"}),g&&c.jsx("div",{className:"absolute inset-0 bg-green-500/5 z-0 pointer-events-none"})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm relative overflow-hidden group",children:[c.jsx("div",{className:`absolute top-0 right-0 p-20 rounded-full blur-3xl -mr-10 -mt-10 transition-colors ${m?"bg-green-500/10":"bg-red-500/10"}`}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-xs font-bold uppercase tracking-wider",children:"Estado Cocina"}),c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mt-2 flex items-center gap-2",children:m?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Inventario Abierto"]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),"Turno Cerrado"]})}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:m?`Apertura: ${m.startTime} (${m.openedBy})`:"No hay servicio activo registrado."})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Accesos Rpidos"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Cf,{icon:pr,label:"Nuevo Empleado",onClick:()=>u(ve.EMPLOYEES)}),c.jsx(Cf,{icon:Yt,label:"Registrar Turno",onClick:()=>u(ve.OVERTIME)}),c.jsx(Cf,{icon:Wr,label:"Inventario",onClick:()=>u(ve.INVENTORY)}),c.jsx(Cf,{icon:Ha,label:"Nueva Sancin",onClick:()=>u(ve.SANCTIONS)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(Nl,{className:"text-sushi-gold w-5 h-5"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Evolucin de Costos (Extras)"})]}),c.jsx("div",{className:"h-[250px] w-full",children:k.length>0?c.jsx(Zu,{width:"100%",height:"100%",children:c.jsxs(Qte,{data:k,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#d4af37",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#d4af37",stopOpacity:0})]})}),c.jsx(a1,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),c.jsx(s1,{dataKey:"name",stroke:"#888",fontSize:12,tickLine:!1,axisLine:!1}),c.jsx(o1,{stroke:"#888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:_=>`$${_/1e3}k`}),c.jsx(ec,{contentStyle:{backgroundColor:"#18181b",borderColor:"#333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#d4af37"},formatter:_=>b(_)}),c.jsx(SD,{type:"monotone",dataKey:"amount",stroke:"#d4af37",fillOpacity:1,fill:"url(#colorCost)"})]})}):c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 dark:text-sushi-muted",children:c.jsx("p",{children:"Sin datos suficientes para graficar."})})})]})]}),c.jsx("div",{className:"lg:col-span-1 space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm h-full",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center justify-between",children:[c.jsx("span",{children:"ltimas Novedades"}),c.jsx("button",{onClick:()=>u(ve.SANCTIONS),className:"text-xs text-sushi-gold hover:underline",children:"Ver todo"})]}),c.jsxs("div",{className:"space-y-4",children:[E.length===0&&c.jsx("p",{className:"text-sm text-gray-500 dark:text-sushi-muted italic",children:"No hay actividad reciente."}),E.map(_=>{const A=e.find(C=>C.id===_.employeeId);return c.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-gray-100 dark:border-white/5 last:border-0 last:pb-0",children:[c.jsx("div",{className:`mt-1 w-2 h-2 rounded-full ${_.type==="STRIKE"?"bg-red-500":"bg-blue-500"}`}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(A==null?void 0:A.name)||"Unknown"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted line-clamp-1",children:_.description}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-white/10 px-1.5 rounded text-gray-600 dark:text-gray-400",children:_.type}),c.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(_.date).toLocaleDateString()})]})]})]},_.id)})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-white/10",children:[c.jsx("h4",{className:"text-xs font-bold uppercase text-gray-500 dark:text-sushi-muted mb-4",children:"Administradores Activos"}),c.jsxs("div",{className:"flex -space-x-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-sushi-gold flex items-center justify-center text-sushi-black font-bold border-2 border-white dark:border-sushi-dark z-10",title:l==null?void 0:l.name,children:l==null?void 0:l.name.charAt(0)}),c.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center text-xs border-2 border-white dark:border-sushi-dark",children:"+2"})]})]})]})})]})]})},$D=({role:e})=>{switch(e){case"EMPRESA":return c.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-2 py-0.5 rounded border border-purple-400 shadow-sm",title:"Dueo / Empresa",children:[c.jsx(Sc,{className:"w-3 h-3 fill-white"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Empresa"})]});case"GERENTE":return c.jsxs("div",{className:"flex items-center gap-1 bg-sushi-gold text-sushi-black px-2 py-0.5 rounded border border-yellow-500 shadow-sm",title:"Gerente",children:[c.jsx(hl,{className:"w-3 h-3 fill-sushi-black"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Gerencia"})]});case"COORDINADOR":return c.jsxs("div",{className:"flex items-center gap-1 bg-indigo-100 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 px-2 py-0.5 rounded border border-indigo-200 dark:border-indigo-500/30",title:"Coordinador",children:[c.jsx(K6,{className:"w-3 h-3"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Coord."})]});case"JEFE_COCINA":return c.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 dark:bg-orange-500/20 text-orange-600 dark:text-orange-400 px-2 py-0.5 rounded border border-orange-200 dark:border-orange-500/30",title:"Jefe de Cocina",children:[c.jsx(_I,{className:"w-3 h-3"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:"Jefe Cocina"})]});case"ADMINISTRATIVO":case"MOSTRADOR":return c.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded border border-blue-200 dark:border-blue-500/30",title:"Staff Operativo",children:[c.jsx(Ga,{className:"w-3 h-3"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:e==="ADMINISTRATIVO"?"Admin":"Mostrador"})]});default:const t=e==="REPARTIDOR";return c.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-sushi-muted px-2 py-0.5 rounded border border-gray-200 dark:border-white/10",title:"Staff",children:[t?c.jsx(bU,{className:"w-3 h-3"}):c.jsx(rb,{className:"w-3 h-3"}),c.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:t?"Delivery":"Cocina"})]})}},nc=$D,On=({label:e,icon:t,type:n="text",value:r,onChange:i,placeholder:a,required:l=!1})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:e}),c.jsxs("div",{className:"relative",children:[t&&c.jsx(t,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:n,required:l,value:r||"",onChange:i,className:`w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 ${t?"pl-10":"pl-4"} pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors`,placeholder:a})]})]}),ene=({value:e,onChange:t})=>{const n=[{id:"EMPRESA",label:"Dueo / Empresa"},{id:"GERENTE",label:"Gerente"},{id:"COORDINADOR",label:"Coordinador"},{id:"JEFE_COCINA",label:"Jefe de Cocina"},{id:"ADMINISTRATIVO",label:"Administrativo"},{id:"MOSTRADOR",label:"Mostrador"},{id:"COCINA",label:"Cocina"},{id:"REPARTIDOR",label:"Delivery / Repartidor"}];return c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Rol / Jerarqua"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ga,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("select",{value:e||"COCINA",onChange:r=>{var l;const i=r.target.value,a=((l=n.find(u=>u.id===i))==null?void 0:l.label)||"";t(i,a)},className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",children:n.map(r=>c.jsx("option",{value:r.id,className:"dark:bg-sushi-dark",children:r.label},r.id))})]})]})},tne=({employees:e,setEmployees:t,sanctions:n})=>{const[r,i]=N.useState(!1),[a,l]=N.useState("GENERAL"),[u,f]=N.useState(null),[h,m]=N.useState(null),[g,v]=N.useState(!1),[b,E]=N.useState(null),k={name:"",position:"Personal",role:"COCINA",monthlySalary:0,scheduleStart:"17:00",scheduleEnd:"01:00",active:!0,photoUrl:"",password:"",dni:"",cuil:"",address:"",phone:"",startDate:"",interviewer:"",paymentModality:"MENSUAL",nextPaymentDate:"",nextPaymentMethod:"TRANSFERENCIA",cbu:"",alias:"",bankName:"",bankAccountHolder:"",bankAccountNumber:"",bankAccountType:"CAJA_AHORRO",assignedDays:["Lun","Mar","Mi","Jue","Vie","Sb"]},[_,A]=N.useState(k),C=D=>{var de;const oe=(de=D.target.files)==null?void 0:de[0];if(oe){const z=new FileReader;z.onloadend=()=>{const Z=z.result;f(Z),A({..._,photoUrl:Z})},z.readAsDataURL(oe)}},j=()=>{m(null),A(k),f(null),l("GENERAL"),i(!0)},I=()=>{const D={id:crypto.randomUUID(),name:"Hiroshi Tanaka",position:"Jefe de Cocina",role:"JEFE_COCINA",monthlySalary:85e4,scheduleStart:"16:00",scheduleEnd:"23:00",active:!0,photoUrl:"",password:"1234",dni:"94.123.456",cuil:"20-94123456-9",address:"Av. Libertador 1234, CABA",phone:"+54 9 11 5555-1234",startDate:new Date().toISOString().split("T")[0],interviewer:"Gerente General",paymentModality:"MENSUAL",cbu:"0170123456789012345678",alias:"HIROSHI.SUSHI.BBVA",bankName:"BBVA Francs",bankAccountHolder:"Hiroshi Tanaka",bankAccountNumber:"123-456789/0",bankAccountType:"CAJA_AHORRO",assignedDays:["Mar","Mi","Jue","Vie","Sb","Dom"],nextPaymentDate:"",nextPaymentMethod:"TRANSFERENCIA"};t([...e,D])},P=D=>{m(D.id),A({...D}),f(D.photoUrl||null),l("GENERAL"),i(!0)},O=D=>{if(D.preventDefault(),!_.name||!_.role){alert("El nombre y el rol son obligatorios");return}if(h)t(e.map(oe=>oe.id===h?{...oe,..._}:oe));else{const oe={id:crypto.randomUUID(),name:_.name,position:_.position||"Empleado",role:_.role,monthlySalary:Number(_.monthlySalary)||0,scheduleStart:_.scheduleStart||"17:00",scheduleEnd:_.scheduleEnd||"01:00",active:!0,photoUrl:_.photoUrl,password:_.password||"1234",dni:_.dni,cuil:_.cuil,address:_.address,phone:_.phone,startDate:_.startDate,interviewer:_.interviewer,paymentModality:_.paymentModality,nextPaymentDate:_.nextPaymentDate,nextPaymentMethod:_.nextPaymentMethod,cbu:_.cbu,alias:_.alias,bankName:_.bankName,bankAccountHolder:_.bankAccountHolder,bankAccountNumber:_.bankAccountNumber,bankAccountType:_.bankAccountType,assignedDays:_.assignedDays||["Lun","Mar","Mi","Jue","Vie","Sb"]};t([...e,oe])}i(!1)},R=()=>{b&&(t(e.map(D=>D.id===b.id?{...D,active:!1}:D)),E(null))},U=D=>{t(e.map(oe=>oe.id===D?{...oe,active:!0}:oe))},H=D=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(D),G=D=>D/200,$=D=>n.filter(oe=>oe.employeeId===D&&oe.type==="STRIKE").length,V=e.filter(D=>g?!D.active:D.active);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Equipo Sushiblack"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Gestiona contratos, horarios y remuneraciones."})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("button",{onClick:I,className:"px-3 py-2 rounded-lg font-medium text-xs bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-sushi-muted hover:bg-gray-200 dark:hover:bg-white/10 transition-colors flex items-center gap-1",title:"Crear empleado de prueba",children:[c.jsx(kv,{className:"w-3 h-3"}),"Demo"]}),c.jsxs("button",{onClick:()=>v(!g),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm border ${g?"bg-sushi-gold text-sushi-black border-sushi-gold":"bg-transparent text-gray-500 dark:text-sushi-muted border-gray-300 dark:border-white/10 hover:border-gray-400 dark:hover:border-white/30 hover:text-gray-900 dark:hover:text-white"}`,children:[g?c.jsx(bv,{className:"w-4 h-4"}):c.jsx(wv,{className:"w-4 h-4"}),g?"Ocultar Archivo":"Ver Histrico"]}),c.jsxs("button",{id:"btn-add-employee",onClick:j,className:"bg-sushi-gold text-sushi-black px-4 py-2 rounded-lg font-medium hover:bg-sushi-goldhover transition-colors flex items-center gap-2 shadow-lg shadow-sushi-gold/20",children:[c.jsx(pr,{className:"w-5 h-5"}),"Registrar Empleado"]})]})]}),g&&c.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 p-3 rounded-lg flex items-center gap-3 text-orange-600 dark:text-orange-400 text-sm",children:[c.jsx($f,{className:"w-5 h-5"}),c.jsx("span",{children:"Ests visualizando el personal archivado. Estos empleados no aparecen en las listas de seleccin diarias."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[V.map(D=>{const oe=$(D.id);return c.jsxs("div",{className:`bg-white dark:bg-sushi-dark border p-5 rounded-xl flex flex-col justify-between group transition-all relative overflow-hidden shadow-sm hover:shadow-lg dark:shadow-none ${D.active?"border-gray-200 dark:border-white/5 hover:border-sushi-gold/30":"border-gray-200 dark:border-white/5 opacity-70 grayscale hover:grayscale-0"}`,children:[D.active&&c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-100 dark:bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl group-hover:bg-sushi-gold/10 transition-colors pointer-events-none"}),c.jsxs("div",{className:"flex justify-between items-start z-10",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-sushi-gold/20 overflow-hidden bg-gray-100 dark:bg-black/50 relative",children:D.photoUrl?c.jsx("img",{src:D.photoUrl,alt:D.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-sushi-muted",children:c.jsx(fn,{className:"w-8 h-8"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white leading-tight flex items-center gap-2",children:D.name}),c.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:c.jsx($D,{role:D.role})}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-xs uppercase tracking-wide mt-1",children:D.position}),D.active?oe>0&&c.jsxs("div",{className:"flex items-center gap-1 mt-1 text-red-600 dark:text-red-500 bg-red-500/10 px-1.5 py-0.5 rounded text-[10px] w-fit font-bold border border-red-500/20",children:[c.jsx(Ha,{className:"w-3 h-3"}),c.jsxs("span",{children:[oe," ",oe===1?"Strike":"Strikes"]})]}):c.jsxs("div",{className:"flex items-center gap-1 mt-1 text-gray-500 dark:text-sushi-muted bg-gray-100 dark:bg-white/5 px-1.5 py-0.5 rounded text-[10px] w-fit font-bold border border-gray-200 dark:border-white/10",children:[c.jsx($f,{className:"w-3 h-3"}),c.jsx("span",{children:"ARCHIVADO"})]})]})]}),c.jsx("div",{className:"flex flex-col gap-1",children:D.active?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:de=>{de.stopPropagation(),P(D)},className:"text-gray-400 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white transition-colors p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg",title:"Editar",children:c.jsx(RI,{className:"w-4 h-4"})}),c.jsx("button",{onClick:de=>{de.stopPropagation(),E(D)},className:"text-gray-400 dark:text-sushi-muted hover:text-red-500 transition-colors p-1.5 hover:bg-red-500/10 rounded-lg",title:"Dar de Baja",children:c.jsx(En,{className:"w-4 h-4"})})]}):c.jsx("button",{onClick:de=>{de.stopPropagation(),U(D.id)},className:"text-gray-400 dark:text-sushi-muted hover:text-sushi-gold transition-colors p-1.5 hover:bg-sushi-gold/10 rounded-lg",title:"Restaurar Empleado",children:c.jsx(lm,{className:"w-4 h-4"})})})]}),c.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-white/5 pt-4 mt-4 z-10",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Sueldo Mensual:"}),c.jsx("span",{className:"text-gray-900 dark:text-white font-mono",children:H(D.monthlySalary)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Horario:"}),c.jsxs("span",{className:"text-sushi-gold font-bold bg-sushi-gold/10 px-2 py-0.5 rounded text-xs border border-sushi-gold/20",children:[D.scheduleStart," - ",D.scheduleEnd]})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 dark:text-sushi-muted mt-2",children:[c.jsx("span",{children:"Valor Hora (Est.):"}),c.jsx("span",{children:H(G(D.monthlySalary))})]})]})]},D.id)}),V.length===0&&c.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 dark:text-sushi-muted bg-gray-50 dark:bg-sushi-dark/50 rounded-xl border border-dashed border-gray-300 dark:border-white/10",children:g?"No hay empleados archivados en el historial.":"No hay empleados activos. Aade uno nuevo para comenzar."})]}),b&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fade-in",children:c.jsx("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 p-6 rounded-xl w-full max-w-sm shadow-2xl relative",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-600 dark:text-red-500 mb-4",children:c.jsx($f,{className:"w-6 h-6"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Archivar Empleado?"}),c.jsxs("p",{className:"text-gray-600 dark:text-sushi-muted text-sm mb-6",children:["Ests a punto de dar de baja a ",c.jsx("strong",{className:"text-gray-900 dark:text-white",children:b.name}),".",c.jsx("br",{}),c.jsx("br",{}),"Sus datos histricos (horas y sanciones) se conservarn, pero ya no aparecer en las listas de personal activo."]}),c.jsxs("div",{className:"flex gap-3 w-full",children:[c.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 rounded-lg bg-gray-100 dark:bg-white/5 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-white/10 transition-colors font-medium",children:"Cancelar"}),c.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-medium shadow-lg shadow-red-600/20",children:"Archivar"})]})]})})}),r&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 rounded-2xl w-full max-w-2xl shadow-2xl relative animate-fade-in max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10 flex justify-between items-center bg-gray-50 dark:bg-black/20",children:[c.jsx("h3",{className:"text-2xl font-serif text-gray-900 dark:text-white",children:h?"Editar Expediente":"Nuevo Contrato"}),c.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white transition-colors",children:c.jsx(eo,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:O,className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"flex border-b border-gray-200 dark:border-white/10 px-6 pt-2",children:[{id:"GENERAL",label:"General",icon:fn},{id:"CONTRACT",label:"Contrato",icon:Ga},{id:"PERSONAL",label:"Personal",icon:ib},{id:"BANK",label:"Bancario",icon:hr}].map(D=>c.jsxs("button",{type:"button",onClick:()=>l(D.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"&&D.id==="GENERAL"||a===D.id?"border-sushi-gold text-sushi-gold":"border-transparent text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(D.icon,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:D.label})]},D.id))}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[a==="GENERAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative group cursor-pointer",children:[c.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-dashed border-gray-300 dark:border-sushi-muted group-hover:border-sushi-gold transition-colors bg-gray-100 dark:bg-black/30 flex items-center justify-center",children:u?c.jsx("img",{src:u,alt:"Preview",className:"w-full h-full object-cover"}):c.jsx(SI,{className:"w-8 h-8 text-gray-400 dark:text-sushi-muted group-hover:text-sushi-gold"})}),c.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"absolute inset-0 opacity-0 cursor-pointer"}),c.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 px-2 py-0.5 rounded text-[10px] text-gray-500 dark:text-sushi-muted whitespace-nowrap shadow-sm",children:u?"Cambiar Foto":"Subir Foto"})]})}),c.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[c.jsx(On,{label:"Nombre Completo",icon:fn,value:_.name,onChange:D=>A({..._,name:D.target.value}),placeholder:"Ej. Juan Prez",required:!0}),c.jsx(ene,{value:_.role,onChange:(D,oe)=>A({..._,role:D,position:oe})}),c.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sushi-gold",children:[c.jsx(om,{className:"w-4 h-4"}),c.jsx("h4",{className:"font-bold uppercase text-xs tracking-wider",children:"Seguridad de Acceso"})]}),c.jsx(On,{label:"Contrasea Portal Miembro",icon:CI,type:"text",value:_.password,onChange:D=>A({..._,password:D.target.value}),placeholder:"Ej. 1234",required:!0}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted mt-2",children:"Esta contrasea ser utilizada por el empleado para ingresar a su portal personal junto con su DNI."})]})]})]}),a==="CONTRACT"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(On,{label:"Sueldo Mensual (ARS)",icon:Zs,type:"number",value:_.monthlySalary,onChange:D=>A({..._,monthlySalary:parseFloat(D.target.value)}),required:!0}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Hora Ingreso"}),c.jsxs("div",{className:"relative",children:[c.jsx(Yt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"time",value:_.scheduleStart,onChange:D=>A({..._,scheduleStart:D.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-9 pr-2 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Hora Salida"}),c.jsxs("div",{className:"relative",children:[c.jsx(Yt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"time",value:_.scheduleEnd,onChange:D=>A({..._,scheduleEnd:D.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-9 pr-2 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(On,{label:"Fecha de Ingreso",icon:Fi,type:"date",value:_.startDate,onChange:D=>A({..._,startDate:D.target.value})}),c.jsx(On,{label:"Entrevistado Por",icon:_c,value:_.interviewer,onChange:D=>A({..._,interviewer:D.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Modalidad de Pago"}),c.jsxs("select",{value:_.paymentModality,onChange:D=>A({..._,paymentModality:D.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",children:[c.jsx("option",{value:"MENSUAL",children:"Mensual"}),c.jsx("option",{value:"QUINCENAL",children:"Quincenal"}),c.jsx("option",{value:"SEMANAL",children:"Semanal"}),c.jsx("option",{value:"DIARIO",children:"Diario"})]})]})]}),a==="PERSONAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(On,{label:"DNI",value:_.dni,onChange:D=>A({..._,dni:D.target.value}),placeholder:"XX.XXX.XXX"}),c.jsx(On,{label:"CUIL",value:_.cuil,onChange:D=>A({..._,cuil:D.target.value}),placeholder:"XX-XXXXXXXX-X"})]}),c.jsx(On,{label:"Direccin",value:_.address,onChange:D=>A({..._,address:D.target.value}),placeholder:"Calle 123, Ciudad"}),c.jsx(On,{label:"Telfono",value:_.phone,onChange:D=>A({..._,phone:D.target.value}),placeholder:"+54 9 11 ..."}),c.jsx(On,{label:"Fecha Nacimiento",type:"date",value:_.birthDate,onChange:D=>A({..._,birthDate:D.target.value})})]}),a==="BANK"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(On,{label:"Titular de la cuenta",icon:fn,value:_.bankAccountHolder,onChange:D=>A({..._,bankAccountHolder:D.target.value}),placeholder:"Nombre completo del titular"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(On,{label:"Nombre del Banco",icon:Zf,value:_.bankName,onChange:D=>A({..._,bankName:D.target.value}),placeholder:"Ej. Galicia"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Tipo de Cuenta"}),c.jsxs("select",{value:_.bankAccountType,onChange:D=>A({..._,bankAccountType:D.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",children:[c.jsx("option",{value:"CAJA_AHORRO",children:"Caja de Ahorro"}),c.jsx("option",{value:"CUENTA_CORRIENTE",children:"Cuenta Corriente"})]})]})]}),c.jsx(On,{label:"Nmero de Cuenta",icon:Ls,value:_.bankAccountNumber,onChange:D=>A({..._,bankAccountNumber:D.target.value}),placeholder:"000-000000/0"}),c.jsx(On,{label:"CBU / CVU",icon:hr,value:_.cbu,onChange:D=>A({..._,cbu:D.target.value}),placeholder:"22 dgitos"}),c.jsx(On,{label:"Alias",icon:Ls,value:_.alias,onChange:D=>A({..._,alias:D.target.value}),placeholder:"alias.banco"})]})]}),c.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-black/20",children:c.jsx("button",{type:"submit",className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover transition-colors shadow-lg shadow-sushi-gold/20",children:h?"Actualizar Expediente":"Guardar Contrato"})})]})]})})]})},nne=({employees:e,records:t,setRecords:n,absences:r,setAbsences:i,holidays:a=[],setHolidays:l})=>{var re,Te;const[u,f]=N.useState(""),[h,m]=N.useState(""),[g,v]=N.useState(new Date().toISOString().split("T")[0]),[b,E]=N.useState(new Date),[k,_]=N.useState(!1),[A,C]=N.useState(""),[j,I]=N.useState(""),[P,O]=N.useState(""),[R,U]=N.useState(""),[H,G]=N.useState("ATTENDANCE");N.useEffect(()=>{h&&f(h)},[h]);const $=Q=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(Q),V=Q=>{if(!Q)return 0;const[ee,Ce]=Q.split(":").map(Number);return ee*60+Ce},D=(Q,ee)=>{let Ce=V(Q),ke=V(ee);return ke<Ce&&(ke+=1440),ke-Ce},oe=Q=>a.includes(Q),de=N.useMemo(()=>{if(!u||!A||!j)return null;const Q=e.find(yr=>yr.id===u);if(!Q)return null;const ee=D(Q.scheduleStart,Q.scheduleEnd),Ce=D(A,j),ke=Ce-ee,Oe=ke>0?ke/60:0,Le=Q.monthlySalary/200,Ut=oe(g),jt=Le*(Ut?2:1.5),$n=Oe*jt;return{workedHours:(Ce/60).toFixed(2),standardHours:(ee/60).toFixed(2),overtimeHours:Oe.toFixed(2),rate:jt,amount:$n,isOvertime:Oe>0,isUndertime:ke<0,isHoliday:Ut}},[u,A,j,e,g,a]),z=N.useMemo(()=>{if(!h)return null;const Q=new Date(b.getFullYear(),b.getMonth(),1),ee=new Date(b.getFullYear(),b.getMonth()+1,0),Ce=t.filter(Oe=>{const Le=new Date(Oe.date);return Oe.employeeId===h&&Le>=Q&&Le<=ee}),ke=r.filter(Oe=>{const Le=new Date(Oe.date);return Oe.employeeId===h&&Le>=Q&&Le<=ee});return{totalDebt:Ce.filter(Oe=>!Oe.paid).reduce((Oe,Le)=>Oe+Le.overtimeAmount,0),totalPaid:Ce.filter(Oe=>Oe.paid).reduce((Oe,Le)=>Oe+Le.overtimeAmount,0),totalHours:Ce.reduce((Oe,Le)=>Oe+Le.overtimeHours,0),absences:ke.length}},[h,b,t,r]),Z=Q=>{if(Q.preventDefault(),!(!u||!g)){if(H==="ATTENDANCE"){if(!A||!j)return;const ee=de;if(!ee)return;const Ce={id:crypto.randomUUID(),employeeId:u,date:g,checkIn:A,checkOut:j,overtimeHours:parseFloat(ee.overtimeHours),overtimeAmount:ee.amount,reason:P||(ee.isOvertime?"Horas Extras":"Turno Regular"),paid:!1,isHoliday:ee.isHoliday};n([Ce,...t]),O(""),C(""),I("")}else{if(!R)return;const ee={id:crypto.randomUUID(),employeeId:u,date:g,reason:R};i([ee,...r]),U("")}h||f("")}},fe=Q=>{window.confirm("Eliminar registro?")&&n(t.filter(ee=>ee.id!==Q))},te=Q=>{window.confirm("Eliminar falta?")&&i(r.filter(ee=>ee.id!==Q))},pe=Q=>{n(t.map(ee=>ee.id===Q?{...ee,paid:!ee.paid}:ee))},L=new Date(b.getFullYear(),b.getMonth()+1,0).getDate(),q=new Date(b.getFullYear(),b.getMonth(),1).getDay(),le=q===0?6:q-1,he=Q=>{const Ce=new Date(b.getFullYear(),b.getMonth(),Q).toISOString().split("T")[0];k&&l?a.includes(Ce)?l(a.filter(ke=>ke!==Ce)):l([...a,Ce]):v(Ce)},ie=Q=>{E(new Date(b.getFullYear(),b.getMonth()+Q,1))},ye=Q=>t.filter(ee=>ee.date===Q&&(!h||ee.employeeId===h)),ge=Q=>r.filter(ee=>ee.date===Q&&(!h||ee.employeeId===h)),Ie=Q=>{const ee=e.find(Ce=>Ce.id===Q);return ee?ee.name.split(" ")[0]:"Ex-Staff"};return c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 h-full",children:[c.jsxs("div",{className:"xl:col-span-2 flex flex-col gap-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-sushi-dark p-4 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>ie(-1),className:"p-2 bg-gray-100 dark:bg-white/5 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 text-gray-700 dark:text-white",children:c.jsx(tb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>ie(1),className:"p-2 bg-gray-100 dark:bg-white/5 rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 text-gray-700 dark:text-white",children:c.jsx(nb,{className:"w-5 h-5"})})]}),c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white capitalize min-w-[150px]",children:b.toLocaleDateString("es-AR",{month:"long",year:"numeric"})})]}),c.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[l&&c.jsxs("button",{onClick:()=>_(!k),className:`px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors ${k?"bg-purple-600 text-white shadow-lg shadow-purple-600/20":"bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-sushi-muted hover:text-purple-500"}`,children:[c.jsx(jU,{className:"w-4 h-4"}),k?"Terminar Edicin":"Gestionar Feriados"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(w6,{className:"w-4 h-4 text-gray-400 dark:text-sushi-muted"}),c.jsxs("select",{value:h,onChange:Q=>m(Q.target.value),className:"bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-2 px-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold",children:[c.jsx("option",{value:"",children:"Ver Todos"}),e.filter(Q=>Q.active).map(Q=>c.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]})]})]}),h&&z&&c.jsxs("div",{className:"grid grid-cols-3 gap-4 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-4 rounded-xl flex items-center gap-4 shadow-sm",children:[c.jsx("div",{className:"p-3 rounded-full bg-sushi-gold/10 text-yellow-700 dark:text-sushi-gold",children:c.jsx(Yt,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted font-bold",children:"Deuda Pendiente"}),c.jsx("p",{className:"text-xl font-mono font-bold text-yellow-700 dark:text-sushi-gold",children:$(z.totalDebt)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-4 rounded-xl flex items-center gap-4 shadow-sm",children:[c.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-500",children:c.jsx(Dr,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted font-bold",children:"Total Abonado"}),c.jsx("p",{className:"text-xl font-mono font-bold text-green-600 dark:text-green-500",children:$(z.totalPaid)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-4 rounded-xl flex items-center gap-4 shadow-sm",children:[c.jsx("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-500/10 text-red-600 dark:text-red-500",children:c.jsx(eB,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted font-bold",children:"Faltas Mes"}),c.jsx("p",{className:"text-xl font-mono font-bold text-red-600 dark:text-red-500",children:z.absences})]})]})]}),c.jsxs("div",{className:`bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm transition-all duration-300 ${k?"ring-2 ring-purple-500":""}`,children:[k&&c.jsxs("div",{className:"mb-4 text-center",children:[c.jsx("span",{className:"text-xs font-bold text-purple-600 bg-purple-100 dark:bg-purple-900/30 px-3 py-1 rounded-full uppercase tracking-wider animate-pulse",children:"Modo Edicin de Feriados Activado"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Haz clic en los das para marcarlos/desmarcarlos como feriados oficiales (Pago Doble)."})]}),c.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4 text-center",children:["Lu","Ma","Mi","Ju","Vi","S","Do"].map(Q=>c.jsx("div",{className:"text-gray-400 dark:text-sushi-muted text-xs font-bold uppercase",children:Q},Q))}),c.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:le}).map((Q,ee)=>c.jsx("div",{className:"h-24"},`empty-${ee}`)),Array.from({length:L}).map((Q,ee)=>{const Ce=ee+1,ke=new Date(b.getFullYear(),b.getMonth(),Ce).toISOString().split("T")[0],Oe=ye(ke),Le=ge(ke),Ut=Oe.length>0,jt=Le.length>0,$n=g===ke,yr=ke===new Date().toISOString().split("T")[0],vr=a.includes(ke),gi=Oe.some(Ye=>!Ye.paid);let ri="bg-gray-50 dark:bg-white/[0.02]";return vr&&(ri="bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-500/30"),$n&&!k&&(ri="bg-sushi-gold/5 dark:bg-sushi-gold/10"),jt&&(ri="bg-red-50 dark:bg-red-900/10"),c.jsxs("div",{onClick:()=>he(Ce),className:`h-24 border rounded-lg p-2 cursor-pointer transition-all relative flex flex-col justify-between ${ri} ${$n&&!k?"border-sushi-gold":"border-gray-100 dark:border-white/5 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-sm font-medium ${yr?"text-sushi-gold":vr?"text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-sushi-text"}`,children:Ce}),c.jsxs("div",{className:"flex gap-1",children:[vr&&c.jsx(Va,{className:"w-3 h-3 text-purple-500 fill-purple-500"}),Ut&&!k&&c.jsx("div",{className:`w-2 h-2 rounded-full ${gi?"bg-sushi-gold":"bg-green-500"}`}),jt&&!k&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]}),!k&&c.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[Le.map(Ye=>c.jsxs("div",{className:"text-[10px] px-1.5 py-0.5 rounded truncate font-medium flex items-center gap-1 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-500 border border-red-200 dark:border-red-500/20",children:[c.jsx(e6,{className:"w-2 h-2"}),h?"AUSENTE":Ie(Ye.employeeId)]},Ye.id)),Oe.slice(0,2-Math.min(2,Le.length)).map(Ye=>c.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded truncate font-medium flex items-center gap-1 ${Ye.paid?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-sushi-gold/20 text-sushi-gold-dark dark:text-sushi-gold"}`,children:h?c.jsxs("div",{className:"flex justify-between w-full",children:[c.jsx("span",{children:Ye.overtimeAmount>0?$(Ye.overtimeAmount):"Regular"}),Ye.paid?c.jsx(Xr,{className:"w-3 h-3"}):c.jsx(Yt,{className:"w-3 h-3"})]}):Ie(Ye.employeeId)},Ye.id))]})]},Ce)})]})]}),!k&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-200 dark:border-white/10 pb-2",children:[c.jsxs("h4",{className:"text-gray-900 dark:text-white font-serif text-lg",children:["Registros del ",new Date(g).toLocaleDateString("es-AR",{dateStyle:"full"})]}),oe(g)&&c.jsxs("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[c.jsx(Va,{className:"w-3 h-3"}),"FERIADO OFICIAL"]})]}),ye(g).length===0&&ge(g).length===0?c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted italic text-sm",children:"No hay actividad registrada para este da."}):c.jsxs("div",{className:"grid gap-3",children:[ge(g).map(Q=>{var Ce;const ee=((Ce=e.find(ke=>ke.id===Q.employeeId))==null?void 0:Ce.name)||"Desconocido (Ex-Staff)";return c.jsxs("div",{className:"bg-red-50 dark:bg-red-500/5 border border-red-200 dark:border-red-500/20 p-4 rounded-lg flex items-center justify-between group",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-500",children:c.jsx(Dk,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:ee}),c.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"FALTA REGISTRADA"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-sm text-gray-600 dark:text-sushi-muted italic",children:['"',Q.reason,'"']}),c.jsx("button",{onClick:()=>te(Q.id),className:"text-gray-400 dark:text-sushi-muted hover:text-red-500 p-2 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg",children:c.jsx(En,{className:"w-5 h-5"})})]})]},Q.id)}),ye(g).map(Q=>{var ke;const ee=Q.overtimeAmount>0,Ce=((ke=e.find(Oe=>Oe.id===Q.employeeId))==null?void 0:ke.name)||"Desconocido (Ex-Staff)";return c.jsxs("div",{className:`bg-white dark:bg-sushi-dark border p-4 rounded-lg flex items-center justify-between group transition-all ${Q.paid?"border-green-500/20 bg-green-50 dark:bg-green-500/5":"border-gray-200 dark:border-white/5 hover:border-sushi-gold/30"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-full ${Q.paid?"bg-green-100 dark:bg-green-500/20 text-green-600 dark:text-green-500":"bg-sushi-gold/10 text-sushi-gold"}`,children:Q.paid?c.jsx(Xr,{className:"w-5 h-5"}):c.jsx(Yt,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-gray-900 dark:text-white font-bold",children:Ce}),Q.paid&&c.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 border border-green-200 dark:border-green-500/30 px-1 rounded uppercase tracking-wider",children:"Pagado"}),Q.isHoliday&&c.jsx("span",{className:"text-[10px] text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/20 px-1 rounded uppercase tracking-wider font-bold",children:"2x Feriado"})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:["Entrada: ",Q.checkIn," | Salida: ",Q.checkOut]})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"text-right",children:ee?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`${Q.paid?"text-green-600 dark:text-green-500":"text-sushi-gold"} font-bold text-lg`,children:$(Q.overtimeAmount)}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:["+",Q.overtimeHours.toFixed(2)," hrs extras"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-400 dark:text-sushi-muted font-bold text-lg",children:"$0,00"}),c.jsx("p",{className:"text-xs text-gray-400 dark:text-sushi-muted",children:"Turno Regular"})]})}),c.jsxs("div",{className:"flex gap-2",children:[ee&&c.jsx("button",{onClick:()=>pe(Q.id),className:`p-2 rounded-lg transition-colors ${Q.paid?"text-green-600 dark:text-green-500 hover:bg-green-100 dark:hover:bg-green-500/10":"text-gray-400 dark:text-sushi-muted hover:text-green-600 hover:bg-green-100 dark:hover:bg-green-500/10"}`,title:Q.paid?"Marcar como pendiente":"Marcar como pagado",children:Q.paid?c.jsx(Xr,{className:"w-5 h-5"}):c.jsx(rb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>fe(Q.id),className:"text-gray-400 dark:text-sushi-muted hover:text-red-500 p-2 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg",children:c.jsx(En,{className:"w-5 h-5"})})]})]})]},Q.id)})]})]})]}),!k&&c.jsx("div",{className:"xl:col-span-1",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-6 rounded-xl sticky top-8 shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white",children:"Libro de Actas"}),c.jsx("span",{className:"text-xs bg-sushi-gold text-sushi-black px-2 py-0.5 rounded font-bold",children:"DIARIO"})]}),c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10 mb-6",children:[c.jsx("button",{onClick:()=>G("ATTENDANCE"),className:`flex-1 pb-2 text-sm font-bold uppercase tracking-wide transition-colors ${H==="ATTENDANCE"?"text-sushi-gold border-b-2 border-sushi-gold":"text-gray-400 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:"Registrar Turno"}),c.jsx("button",{onClick:()=>G("ABSENCE"),className:`flex-1 pb-2 text-sm font-bold uppercase tracking-wide transition-colors ${H==="ABSENCE"?"text-red-500 border-b-2 border-red-500":"text-gray-400 dark:text-sushi-muted hover:text-red-400"}`,children:"Registrar Falta"})]}),c.jsxs("form",{onSubmit:Z,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Empleado"}),c.jsxs("select",{value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",required:!0,children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccionar Personal..."}),e.filter(Q=>Q.active).map(Q=>c.jsx("option",{value:Q.id,className:"dark:bg-sushi-dark",children:Q.name},Q.id))]})]}),u&&H==="ATTENDANCE"&&c.jsxs("div",{className:"bg-blue-50 dark:bg-white/5 p-3 rounded-lg border border-blue-100 dark:border-white/10 flex gap-2 text-xs text-gray-600 dark:text-sushi-muted mb-2",children:[c.jsx(O6,{className:"w-4 h-4 text-blue-500 dark:text-sushi-gold"}),c.jsxs("span",{children:["Horario Oficial: ",c.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[(re=e.find(Q=>Q.id===u))==null?void 0:re.scheduleStart," - ",(Te=e.find(Q=>Q.id===u))==null?void 0:Te.scheduleEnd]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Fecha Registro"}),c.jsx("input",{type:"date",value:g,onChange:Q=>v(Q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors [color-scheme:light] dark:[color-scheme:dark]",required:!0})]}),H==="ATTENDANCE"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Hora Real Ingreso"}),c.jsx("input",{type:"time",value:A,onChange:Q=>C(Q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-2 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Hora Real Salida"}),c.jsx("input",{type:"time",value:j,onChange:Q=>I(Q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-2 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Motivo / Notas"}),c.jsxs("div",{className:"relative",children:[c.jsx(CB,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"text",value:P,onChange:Q=>O(Q.target.value),placeholder:"Ej. Turno regular",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors"})]})]}),de&&c.jsx("div",{className:`p-4 rounded-lg border transition-colors ${de.isOvertime?"bg-sushi-gold/10 border-sushi-gold/30":"bg-green-50 dark:bg-green-500/10 border-green-200 dark:border-green-500/20"}`,children:de.isOvertime?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-end mb-1",children:[c.jsxs("span",{className:"text-gray-500 dark:text-sushi-muted text-xs uppercase",children:["Valor Hora ",de.isHoliday?"(2x Feriado)":"(1.5x)"]}),c.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:$(de.rate)})]}),c.jsxs("div",{className:"flex justify-between items-end border-t border-gray-300 dark:border-white/10 pt-2 mt-1",children:[c.jsxs("span",{className:"text-yellow-700 dark:text-sushi-gold font-bold",children:["A PAGAR (",de.overtimeHours,"h)"]}),c.jsx("span",{className:"text-yellow-700 dark:text-sushi-gold font-bold text-xl",children:$(de.amount)})]})]}):c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-green-100 dark:bg-green-500/20 text-green-600 dark:text-green-500 p-2 rounded-full",children:c.jsx(fi,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-green-700 dark:text-green-500 text-sm",children:"Turno Regular"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:[de.workedHours,"h trabajadas (Contrato: ",de.standardHours,"h).",c.jsx("br",{}),c.jsx("span",{className:"font-bold",children:"No corresponde pago extra."})]})]})]})}),c.jsxs("button",{type:"submit",className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover transition-colors flex justify-center items-center gap-2 mt-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-sushi-gold/20",children:[c.jsx(ab,{className:"w-5 h-5"}),"Registrar en Actas"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Motivo de la Falta"}),c.jsx("textarea",{value:R,onChange:Q=>U(Q.target.value),placeholder:"Ej. Enfermedad sin aviso...",rows:3,className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-red-500 transition-colors",required:!0})]}),c.jsxs("button",{type:"submit",className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors flex justify-center items-center gap-2 mt-2 shadow-lg shadow-red-600/20",children:[c.jsx(Dk,{className:"w-5 h-5"}),"Registrar Ausencia"]})]})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rne,ine;function ane(){return{geminiUrl:rne,vertexUrl:ine}}function sne(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=ane();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class la{}function xe(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let h=0;h<f.length;h++){const m=f[h];x(m,t.slice(a+1),n[h])}else for(const h of f)x(h,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];x(f[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>y(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function one(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&a.length>u)for(let f=u;f<a.length;f++){const h=a[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}Tx(e,i,a,0,l)}}function Tx(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const f of u[l])Tx(f,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(h=>!h.startsWith("_")&&!i.has(h)),f={};for(const h of u)f[h]=l[h];for(const[h,m]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(h):g.push(v);x(l,g,m)}for(const h of u)delete l[h]}}else{const l=e;a in l&&Tx(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d1(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lne(e){const t={},n=y(e,["operationName"]);n!=null&&x(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&x(t,["_url","resourceName"],r),t}function une(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],dne(l)),t}function cne(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response"]);return l!=null&&x(t,["response"],fne(l)),t}function dne(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>hne(l))),x(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function fne(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>mne(l))),x(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function hne(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],bne(n)),t}function mne(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],wne(n)),t}function pne(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function gne(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function yne(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response"]);return l!=null&&x(t,["response"],vne(l)),t}function vne(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function qD(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response"]);return l!=null&&x(t,["response"],xne(l)),t}function xne(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function bne(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],d1(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function wne(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],d1(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var f2;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(f2||(f2={}));var h2;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(h2||(h2={}));var m2;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(m2||(m2={}));var za;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(za||(za={}));var p2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(p2||(p2={}));var g2;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(g2||(g2={}));var y2;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(y2||(y2={}));var v2;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(v2||(v2={}));var x2;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(x2||(x2={}));var b2;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(b2||(b2={}));var w2;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(w2||(w2={}));var S2;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(S2||(S2={}));var _2;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(_2||(_2={}));var E2;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(E2||(E2={}));var k2;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(k2||(k2={}));var N2;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(N2||(N2={}));var A2;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(A2||(A2={}));var T2;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(T2||(T2={}));var C2;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(C2||(C2={}));var Yh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Yh||(Yh={}));var j2;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(j2||(j2={}));var I2;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(I2||(I2={}));var R2;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R2||(R2={}));var Cx;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cx||(Cx={}));var P2;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(P2||(P2={}));var O2;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(O2||(O2={}));var M2;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(M2||(M2={}));var D2;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(D2||(D2={}));var L2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(L2||(L2={}));var U2;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(U2||(U2={}));var B2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(B2||(B2={}));var $2;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})($2||($2={}));var q2;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(q2||(q2={}));var z2;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(z2||(z2={}));var H2;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(H2||(H2={}));var F2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(F2||(F2={}));var G2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(G2||(G2={}));var V2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(V2||(V2={}));var K2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(K2||(K2={}));var Y2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Y2||(Y2={}));var J2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(J2||(J2={}));var W2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(W2||(W2={}));var X2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(X2||(X2={}));var Q2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Q2||(Q2={}));var Z2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Z2||(Z2={}));var ej;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ej||(ej={}));var tj;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tj||(tj={}));var nj;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(nj||(nj={}));var rj;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rj||(rj={}));var ij;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ij||(ij={}));var aj;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(aj||(aj={}));var sj;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sj||(sj={}));var oj;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(oj||(oj={}));var lj;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(lj||(lj={}));var nl;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(nl||(nl={}));class jx{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Gu{get text(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const g=[];for(const v of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[b,E]of Object.entries(v))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;m=!0,h+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const g of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,b]of Object.entries(g))v!=="inlineData"&&(b!==null||b!==void 0)&&m.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(h+=atob(g.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,n,r,i,a,l,u,f,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,n,r,i,a,l,u,f,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class uj{}class cj{}class Sne{}class _ne{}class Ene{}class kne{}class dj{}class fj{}class hj{}class Nne{}class Jh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Jh;let i;const a=t;return n?i=cne(a):i=une(a),Object.assign(r,i),r}}class mj{}class pj{}class gj{}class yj{}class Ane{}class Tne{}class Cne{}class f1{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new f1,a=yne(t);return Object.assign(r,a),r}}class jne{}class Ine{}class Rne{}class vj{}class Pne{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(u))f!=="text"&&f!=="thought"&&h!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class One{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class h1{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new h1,a=qD(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function et(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zD(e,t){const n=et(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function HD(e){return Array.isArray(e)?e.map(t=>Wh(t)):[Wh(e)]}function Wh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function FD(e){const t=Wh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function GD(e){const t=Wh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xj(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function VD(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>xj(t)):[xj(e)]}function Ix(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function bj(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function wj(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Cn(e){if(e==null)throw new Error("ContentUnion is required");return Ix(e)?e:{role:"user",parts:VD(e)}}function m1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Cn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Cn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Cn(n)):[Cn(t)]}function Mr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(bj(e)||wj(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cn(e)]}const t=[],n=[],r=Ix(e[0]);for(const i of e){const a=Ix(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(bj(i)||wj(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:VD(n)}),t}function Mne(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(za).includes(n[0].toUpperCase())?n[0].toUpperCase():za.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(za).includes(r.toUpperCase())?r.toUpperCase():za.TYPE_UNSPECIFIED})}}function sl(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Mne(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(za).includes(u.toUpperCase())?u.toUpperCase():za.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=sl(u);else if(r.includes(l)){const f=[];for(const h of u){if(h.type=="null"){t.nullable=!0;continue}f.push(sl(h))}t[l]=f}else if(i.includes(l)){const f={};for(const[h,m]of Object.entries(u))f[h]=sl(m);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=u}return t}function p1(e){return sl(e)}function g1(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function y1(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Bl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=sl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=sl(t.response));return e}function $l(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Dne(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ua(e,t){if(typeof t!="string")throw new Error("name must be a string");return Dne(e,t,"cachedContents")}function KD(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ts(e){return d1(e)}function Lne(e){return e!=null&&typeof e=="object"&&"name"in e}function Une(e){return e!=null&&typeof e=="object"&&"video"in e}function Bne(e){return e!=null&&typeof e=="object"&&"uri"in e}function YD(e){var t;let n;if(Lne(e)&&(n=e.name),!(Bne(e)&&(n=e.uri,n===void 0))&&!(Une(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function JD(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function WD(e){for(const t of["models","tunedModels","publisherModels"])if($ne(e,t))return e[t];return[]}function $ne(e,t){return e!==null&&typeof e=="object"&&t in e}function qne(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function zne(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=qne(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function XD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Hne(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function QD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ql(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ZD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fne(e){const t={},n=y(e,["responsesFile"]);n!=null&&x(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Ere(l))),x(t,["inlinedResponses"],a)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["inlinedEmbedContentResponses"],a)}return t}function Gne(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function Vne(e){const t={},n=y(e,["format"]);n!=null&&x(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Kf(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&x(t,["state"],ZD(i));const a=y(e,["metadata","createTime"]);a!=null&&x(t,["createTime"],a);const l=y(e,["metadata","endTime"]);l!=null&&x(t,["endTime"],l);const u=y(e,["metadata","updateTime"]);u!=null&&x(t,["updateTime"],u);const f=y(e,["metadata","model"]);f!=null&&x(t,["model"],f);const h=y(e,["metadata","output"]);return h!=null&&x(t,["dest"],Fne(QD(h))),t}function Rx(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["state"]);i!=null&&x(t,["state"],ZD(i));const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["createTime"]);l!=null&&x(t,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(t,["startTime"],u);const f=y(e,["endTime"]);f!=null&&x(t,["endTime"],f);const h=y(e,["updateTime"]);h!=null&&x(t,["updateTime"],h);const m=y(e,["model"]);m!=null&&x(t,["model"],m);const g=y(e,["inputConfig"]);g!=null&&x(t,["src"],Kne(g));const v=y(e,["outputConfig"]);v!=null&&x(t,["dest"],Gne(QD(v)));const b=y(e,["completionStats"]);return b!=null&&x(t,["completionStats"],b),t}function Kne(e){const t={},n=y(e,["instancesFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function Yne(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&x(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>_re(e,l))),x(n,["requests","requests"],a)}return n}function Jne(e){const t={},n=y(e,["format"]);n!=null&&x(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Wne(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Xne(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function Qne(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function Zne(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],ere(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&x(t,["finishReason"],a);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const f=y(e,["index"]);f!=null&&x(t,["index"],f);const h=y(e,["logprobsResult"]);h!=null&&x(t,["logprobsResult"],h);const m=y(e,["safetyRatings"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const g=y(e,["urlContextMetadata"]);return g!=null&&x(t,["urlContextMetadata"],g),t}function ere(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function e5(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ire(a))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function tre(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&x(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function nre(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&x(t,["outputConfig"],Vne(Hne(i))),n}function Sj(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],Yne(e,XD(e,i)));const a=y(t,["config"]);return a!=null&&tre(a,n),n}function rre(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],et(e,r));const i=y(t,["src"]);i!=null&&x(n,["inputConfig"],Jne(XD(e,i)));const a=y(t,["config"]);return a!=null&&nre(a,n),n}function ire(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["batch","displayName"],r),n}function are(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],fre(e,i));const a=y(t,["config"]);return a!=null&&ire(a,n),n}function sre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function ore(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function lre(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);return a!=null&&x(t,["error"],a),t}function ure(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);return a!=null&&x(t,["error"],a),t}function cre(e,t){const n={},r=y(t,["contents"]);if(r!=null){let a=m1(e,r);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["requests[]","request","content"],a)}const i=y(t,["config"]);return i!=null&&(x(n,["_self"],dre(i,n)),one(n,{"requests[].*":"requests[].request.*"})),n}function dre(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&x(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fre(e,t){const n={},r=y(t,["fileName"]);r!=null&&x(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&x(n,["requests"],cre(e,i)),n}function hre(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function mre(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pre(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gre(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],e5(Cn(i)));const a=y(t,["temperature"]);a!=null&&x(r,["temperature"],a);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const h=y(t,["maxOutputTokens"]);h!=null&&x(r,["maxOutputTokens"],h);const m=y(t,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const g=y(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=y(t,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const k=y(t,["seed"]);k!=null&&x(r,["seed"],k);const _=y(t,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const A=y(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],p1(A));const C=y(t,["responseJsonSchema"]);if(C!=null&&x(r,["responseJsonSchema"],C),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=y(t,["safetySettings"]);if(n!==void 0&&j!=null){let V=j;Array.isArray(V)&&(V=V.map(D=>Rre(D))),x(n,["safetySettings"],V)}const I=y(t,["tools"]);if(n!==void 0&&I!=null){let V=$l(I);Array.isArray(V)&&(V=V.map(D=>Ore(Bl(D)))),x(n,["tools"],V)}const P=y(t,["toolConfig"]);if(n!==void 0&&P!=null&&x(n,["toolConfig"],Pre(P)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(t,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],ua(e,O));const R=y(t,["responseModalities"]);R!=null&&x(r,["responseModalities"],R);const U=y(t,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const H=y(t,["speechConfig"]);if(H!=null&&x(r,["speechConfig"],g1(H)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(t,["thinkingConfig"]);G!=null&&x(r,["thinkingConfig"],G);const $=y(t,["imageConfig"]);return $!=null&&x(r,["imageConfig"],Sre($)),r}function yre(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Zne(h))),x(t,["candidates"],f)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&x(t,["promptFeedback"],a);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function vre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function xre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ql(e,r)),n}function bre(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function wre(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Sre(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _re(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["request","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let u=Mr(i);Array.isArray(u)&&(u=u.map(f=>e5(f))),x(n,["request","contents"],u)}const a=y(t,["metadata"]);a!=null&&x(n,["metadata"],a);const l=y(t,["config"]);return l!=null&&x(n,["request","generationConfig"],gre(e,l,y(n,["request"],{}))),n}function Ere(e){const t={},n=y(e,["response"]);n!=null&&x(t,["response"],yre(n));const r=y(e,["error"]);return r!=null&&x(t,["error"],r),t}function kre(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Nre(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&x(t,["_query","pageToken"],i);const a=y(e,["filter"]);return t!==void 0&&a!=null&&x(t,["_query","filter"],a),n}function Are(e){const t={},n=y(e,["config"]);return n!=null&&kre(n,t),t}function Tre(e){const t={},n=y(e,["config"]);return n!=null&&Nre(n,t),t}function Cre(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Kf(l))),x(t,["batchJobs"],a)}return t}function jre(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Rx(l))),x(t,["batchJobs"],a)}return t}function Ire(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&x(t,["fileData"],hre(a));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],mre(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const f=y(e,["inlineData"]);f!=null&&x(t,["inlineData"],Wne(f));const h=y(e,["text"]);h!=null&&x(t,["text"],h);const m=y(e,["thought"]);m!=null&&x(t,["thought"],m);const g=y(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function Rre(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function Pre(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],pre(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function Ore(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>g)),x(t,["functionDeclarations"],m)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&x(t,["fileSearch"],a);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],bre(u));const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],wre(f));const h=y(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ea;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ea||(ea={}));class ro{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mre extends la{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ro(ea.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Sj(this.apiClient,t),r=n._url,i=xe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,h=[];for(const m of f){const g=Object.assign({},m);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const b=g.request;b.systemInstruction=v,g.request=b}h.push(g)}return u.requests=h,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=rre(this.apiClient,t);return u=xe("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Rx(m))}else{const h=Sj(this.apiClient,t);return u=xe("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Kf(m))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=are(this.apiClient,t);return a=xe("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Kf(f))}}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=xre(this.apiClient,t);return u=xe("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Rx(m))}else{const h=vre(this.apiClient,t);return u=xe("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Kf(m))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=Qne(this.apiClient,t);l=xe("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=Xne(this.apiClient,t);l=xe("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Tre(t);return u=xe("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=jre(m),v=new vj;return Object.assign(v,g),v})}else{const h=Are(t);return u=xe("batches",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Cre(m),v=new vj;return Object.assign(v,g),v})}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=ore(this.apiClient,t);return u=xe("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>ure(m))}else{const h=sre(this.apiClient,t);return u=xe("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>lre(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dre(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function _j(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aie(a))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function Lre(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&x(t,["displayName"],a);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let m=Mr(l);Array.isArray(m)&&(m=m.map(g=>_j(g))),x(t,["contents"],m)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],_j(Cn(u)));const f=y(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>oie(g))),x(t,["tools"],m)}const h=y(e,["toolConfig"]);if(t!==void 0&&h!=null&&x(t,["toolConfig"],sie(h)),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ure(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&x(t,["displayName"],a);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let g=Mr(l);Array.isArray(g)&&(g=g.map(v=>v)),x(t,["contents"],g)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],Cn(u));const f=y(e,["tools"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>lie(v))),x(t,["tools"],g)}const h=y(e,["toolConfig"]);t!==void 0&&h!=null&&x(t,["toolConfig"],h);const m=y(e,["kmsKeyName"]);return t!==void 0&&m!=null&&x(t,["encryption_spec","kmsKeyName"],m),n}function Bre(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],zD(e,r));const i=y(t,["config"]);return i!=null&&Lre(i,n),n}function $re(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],zD(e,r));const i=y(t,["config"]);return i!=null&&Ure(i,n),n}function qre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ua(e,r)),n}function zre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ua(e,r)),n}function Hre(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function Fre(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function Gre(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Vre(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Kre(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Yre(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&x(t,["parametersJsonSchema"],a);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function Jre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ua(e,r)),n}function Wre(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ua(e,r)),n}function Xre(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Qre(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Zre(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function eie(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function tie(e){const t={},n=y(e,["config"]);return n!=null&&Zre(n,t),t}function nie(e){const t={},n=y(e,["config"]);return n!=null&&eie(n,t),t}function rie(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["cachedContents"],a)}return t}function iie(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["cachedContents"],a)}return t}function aie(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&x(t,["fileData"],Gre(a));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],Vre(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const f=y(e,["inlineData"]);f!=null&&x(t,["inlineData"],Dre(f));const h=y(e,["text"]);h!=null&&x(t,["text"],h);const m=y(e,["thought"]);m!=null&&x(t,["thought"],m);const g=y(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function sie(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],Kre(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function oie(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>g)),x(t,["functionDeclarations"],m)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&x(t,["fileSearch"],a);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],Xre(u));const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],Qre(f));const h=y(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function lie(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>Yre(v))),x(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&x(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const f=y(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],h);const m=y(e,["urlContext"]);return m!=null&&x(t,["urlContext"],m),t}function uie(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function cie(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function die(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ua(e,r));const i=y(t,["config"]);return i!=null&&uie(i,n),n}function fie(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ua(e,r));const i=y(t,["config"]);return i!=null&&cie(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hie extends la{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ro(ea.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=$re(this.apiClient,t);return u=xe("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=Bre(this.apiClient,t);return u=xe("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Wre(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=Jre(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=zre(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Fre(m),v=new gj;return Object.assign(v,g),v})}else{const h=qre(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Hre(m),v=new gj;return Object.assign(v,g),v})}}async update(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=fie(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=die(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=nie(t);return u=xe("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=iie(m),v=new yj;return Object.assign(v,g),v})}else{const h=tie(t);return u=xe("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=rie(m),v=new yj;return Object.assign(v,g),v})}}}function Ej(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(e){return this instanceof vt?(this.v=e,this):new vt(e)}function ol(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(E){return Promise.resolve(E).then(b,g)}}function u(b,E){r[b]&&(i[b]=function(k){return new Promise(function(_,A){a.push([b,k,_,A])>1||f(b,k)})},E&&(i[b]=E(i[b])))}function f(b,E){try{h(r[b](E))}catch(k){v(a[0][3],k)}}function h(b){b.value instanceof vt?Promise.resolve(b.value.v).then(m,g):v(a[0][2],b)}function m(b){f("next",b)}function g(b){f("throw",b)}function v(b,E){b(E),a.shift(),a.length&&f(a[0][0],a[0][1])}}function rc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ej=="function"?Ej(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,f){l=e[a](l),i(u,f,l.done,l.value)})}}function i(a,l,u,f){Promise.resolve(f).then(function(h){a({value:h,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mie(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:t5(n)}function t5(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function pie(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function kj(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!t5(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class gie{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new yie(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class yie{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),pie(a)}async sendMessage(t){var n;await this.sendPromise;const r=Cn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await i,h=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,m=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];m!=null&&(v=(u=m.slice(g))!==null&&u!==void 0?u:[]);const b=h?[h]:[];this.recordHistory(r,b,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Cn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?kj(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return ol(this,arguments,function*(){var l,u,f,h;const m=[];try{for(var g=!0,v=rc(t),b;b=yield vt(v.next()),l=b.done,!l;g=!0){h=b.value,g=!1;const E=h;if(mie(E)){const k=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;k!==void 0&&m.push(k)}yield yield vt(E)}}catch(E){u={error:E}}finally{try{!g&&!l&&(f=v.return)&&(yield vt(f.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,m)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...kj(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ep extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ep.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vie(e){const t={},n=y(e,["file"]);return n!=null&&x(t,["file"],n),t}function xie(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function bie(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],YD(n)),t}function wie(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function Sie(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],YD(n)),t}function _ie(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Eie(e){const t={},n=y(e,["config"]);return n!=null&&_ie(n,t),t}function kie(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nie extends la{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ro(ea.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Eie(t);return a=xe("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const h=kie(f),m=new jne;return Object.assign(m,h),m})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vie(t);return a=xe("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=xie(f),m=new Ine;return Object.assign(m,h),m})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sie(t);return a=xe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bie(t);return a=xe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const h=wie(f),m=new Rne;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yf(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Aie(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Hie(a))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function Tie(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Cie(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jie(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&x(t,["parametersJsonSchema"],a);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function Iie(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&x(t,["candidateCount"],a);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const f=y(e,["logprobs"]);f!=null&&x(t,["logprobs"],f);const h=y(e,["maxOutputTokens"]);h!=null&&x(t,["maxOutputTokens"],h);const m=y(e,["mediaResolution"]);m!=null&&x(t,["mediaResolution"],m);const g=y(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const E=y(e,["responseModalities"]);E!=null&&x(t,["responseModalities"],E);const k=y(e,["responseSchema"]);k!=null&&x(t,["responseSchema"],k);const _=y(e,["routingConfig"]);_!=null&&x(t,["routingConfig"],_);const A=y(e,["seed"]);A!=null&&x(t,["seed"],A);const C=y(e,["speechConfig"]);C!=null&&x(t,["speechConfig"],n5(C));const j=y(e,["stopSequences"]);j!=null&&x(t,["stopSequences"],j);const I=y(e,["temperature"]);I!=null&&x(t,["temperature"],I);const P=y(e,["thinkingConfig"]);P!=null&&x(t,["thinkingConfig"],P);const O=y(e,["topK"]);O!=null&&x(t,["topK"],O);const R=y(e,["topP"]);if(R!=null&&x(t,["topP"],R),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Rie(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Pie(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Oie(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig","temperature"],a);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","maxOutputTokens"],f);const h=y(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const m=y(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],y1(g));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=y(e,["systemInstruction"]);t!==void 0&&E!=null&&x(t,["setup","systemInstruction"],Aie(Cn(E)));const k=y(e,["tools"]);if(t!==void 0&&k!=null){let O=$l(k);Array.isArray(O)&&(O=O.map(R=>Gie(Bl(R)))),x(t,["setup","tools"],O)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&x(t,["setup","sessionResumption"],Fie(_));const A=y(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const C=y(e,["outputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","outputAudioTranscription"],C);const j=y(e,["realtimeInputConfig"]);t!==void 0&&j!=null&&x(t,["setup","realtimeInputConfig"],j);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&x(t,["setup","proactivity"],P),n}function Mie(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],Iie(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig","temperature"],a);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","maxOutputTokens"],f);const h=y(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const m=y(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],n5(y1(g)));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=y(e,["systemInstruction"]);t!==void 0&&E!=null&&x(t,["setup","systemInstruction"],Cn(E));const k=y(e,["tools"]);if(t!==void 0&&k!=null){let O=$l(k);Array.isArray(O)&&(O=O.map(R=>Vie(Bl(R)))),x(t,["setup","tools"],O)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&x(t,["setup","sessionResumption"],_);const A=y(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const C=y(e,["outputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","outputAudioTranscription"],C);const j=y(e,["realtimeInputConfig"]);t!==void 0&&j!=null&&x(t,["setup","realtimeInputConfig"],j);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&x(t,["setup","proactivity"],P),n}function Die(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],et(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],Oie(i,n)),n}function Lie(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],et(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],Mie(i,n)),n}function Uie(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&x(t,["musicGenerationConfig"],n),t}function Bie(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["weightedPrompts"],r)}return t}function $ie(e){const t={},n=y(e,["media"]);if(n!=null){let h=HD(n);Array.isArray(h)&&(h=h.map(m=>Yf(m))),x(t,["mediaChunks"],h)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],Yf(GD(r)));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&x(t,["video"],Yf(FD(a)));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const f=y(e,["activityEnd"]);return f!=null&&x(t,["activityEnd"],f),t}function qie(e){const t={},n=y(e,["media"]);if(n!=null){let h=HD(n);Array.isArray(h)&&(h=h.map(m=>m)),x(t,["mediaChunks"],h)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],GD(r));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&x(t,["video"],FD(a));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const f=y(e,["activityEnd"]);return f!=null&&x(t,["activityEnd"],f),t}function zie(e){const t={},n=y(e,["setupComplete"]);n!=null&&x(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&x(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&x(t,["toolCall"],i);const a=y(e,["toolCallCancellation"]);a!=null&&x(t,["toolCallCancellation"],a);const l=y(e,["usageMetadata"]);l!=null&&x(t,["usageMetadata"],Kie(l));const u=y(e,["goAway"]);u!=null&&x(t,["goAway"],u);const f=y(e,["sessionResumptionUpdate"]);return f!=null&&x(t,["sessionResumptionUpdate"],f),t}function Hie(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&x(t,["fileData"],Tie(a));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],Cie(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const f=y(e,["inlineData"]);f!=null&&x(t,["inlineData"],Yf(f));const h=y(e,["text"]);h!=null&&x(t,["text"],h);const m=y(e,["thought"]);m!=null&&x(t,["thought"],m);const g=y(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function Fie(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function n5(e){const t={},n=y(e,["languageCode"]);n!=null&&x(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&x(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Gie(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>g)),x(t,["functionDeclarations"],m)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&x(t,["fileSearch"],a);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],Rie(u));const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],Pie(f));const h=y(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function Vie(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>jie(v))),x(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&x(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const f=y(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],h);const m=y(e,["urlContext"]);return m!=null&&x(t,["urlContext"],m),t}function Kie(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&x(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&x(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&x(t,["responseTokenCount"],i);const a=y(e,["toolUsePromptTokenCount"]);a!=null&&x(t,["toolUsePromptTokenCount"],a);const l=y(e,["thoughtsTokenCount"]);l!=null&&x(t,["thoughtsTokenCount"],l);const u=y(e,["totalTokenCount"]);u!=null&&x(t,["totalTokenCount"],u);const f=y(e,["promptTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(E=>E)),x(t,["promptTokensDetails"],b)}const h=y(e,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(E=>E)),x(t,["cacheTokensDetails"],b)}const m=y(e,["candidatesTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(E=>E)),x(t,["responseTokensDetails"],b)}const g=y(e,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(E=>E)),x(t,["toolUsePromptTokensDetails"],b)}const v=y(e,["trafficType"]);return v!=null&&x(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yie(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Jie(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],Wie(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&x(t,["finishReason"],a);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const f=y(e,["index"]);f!=null&&x(t,["index"],f);const h=y(e,["logprobsResult"]);h!=null&&x(t,["logprobsResult"],h);const m=y(e,["safetyRatings"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const g=y(e,["urlContextMetadata"]);return g!=null&&x(t,["urlContextMetadata"],g),t}function Wie(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function Xie(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let a=Mr(i);Array.isArray(a)&&(a=a.map(l=>l)),x(n,["contents"],a)}return n}function Qie(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(t,["tokensInfo"],i)}return t}function Zie(e){const t={},n=y(e,["values"]);n!=null&&x(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&x(t,["statistics"],eae(r)),t}function eae(e){const t={},n=y(e,["truncated"]);n!=null&&x(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&x(t,["tokenCount"],r),t}function tp(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>use(a))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function tae(e){const t={},n=y(e,["controlType"]);n!=null&&x(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&x(t,["computeControl"],r),t}function nae(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function rae(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&x(t,["systemInstruction"],Cn(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>o5(u))),x(t,["tools"],l)}const a=y(e,["generationConfig"]);return t!==void 0&&a!=null&&x(t,["generationConfig"],Yae(a)),n}function iae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let l=Mr(i);Array.isArray(l)&&(l=l.map(u=>tp(u))),x(n,["contents"],l)}const a=y(t,["config"]);return a!=null&&nae(a),n}function aae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let l=Mr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const a=y(t,["config"]);return a!=null&&rae(a,n),n}function sae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&x(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&x(t,["cachedContentTokenCount"],i),t}function oae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&x(t,["totalTokens"],r),t}function lae(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],et(e,r)),n}function uae(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],et(e,r)),n}function cae(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function dae(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function fae(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const f=y(e,["seed"]);t!==void 0&&f!=null&&x(t,["parameters","seed"],f);const h=y(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&x(t,["parameters","safetySetting"],h);const m=y(e,["personGeneration"]);t!==void 0&&m!=null&&x(t,["parameters","personGeneration"],m);const g=y(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&x(t,["parameters","includeSafetyAttributes"],g);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const E=y(e,["outputMimeType"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","mimeType"],E);const k=y(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&x(t,["parameters","outputOptions","compressionQuality"],k);const _=y(e,["addWatermark"]);t!==void 0&&_!=null&&x(t,["parameters","addWatermark"],_);const A=y(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const C=y(e,["editMode"]);t!==void 0&&C!=null&&x(t,["parameters","editMode"],C);const j=y(e,["baseSteps"]);return t!==void 0&&j!=null&&x(t,["parameters","editConfig","baseSteps"],j),n}function hae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=y(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>pse(f))),x(n,["instances[0]","referenceImages"],u)}const l=y(t,["config"]);return l!=null&&fae(l,n),n}function mae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>np(a))),x(t,["generatedImages"],i)}return t}function pae(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&x(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gae(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["instances[]","title"],i);const a=y(e,["outputDimensionality"]);t!==void 0&&a!=null&&x(t,["parameters","outputDimensionality"],a);const l=y(e,["mimeType"]);t!==void 0&&l!=null&&x(t,["instances[]","mimeType"],l);const u=y(e,["autoTruncate"]);return t!==void 0&&u!=null&&x(t,["parameters","autoTruncate"],u),n}function yae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let u=m1(e,i);Array.isArray(u)&&(u=u.map(f=>f)),x(n,["requests[]","content"],u)}const a=y(t,["config"]);a!=null&&pae(a,n);const l=y(t,["model"]);return l!==void 0&&x(n,["requests[]","model"],et(e,l)),n}function vae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let l=m1(e,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["instances[]","content"],l)}const a=y(t,["config"]);return a!=null&&gae(a,n),n}function xae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function bae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Zie(l))),x(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function wae(e){const t={},n=y(e,["endpoint"]);n!=null&&x(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&x(t,["deployedModelId"],r),t}function Sae(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function _ae(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Eae(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kae(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&x(t,["parametersJsonSchema"],a);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function Nae(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],tp(Cn(i)));const a=y(t,["temperature"]);a!=null&&x(r,["temperature"],a);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const h=y(t,["maxOutputTokens"]);h!=null&&x(r,["maxOutputTokens"],h);const m=y(t,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const g=y(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=y(t,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const k=y(t,["seed"]);k!=null&&x(r,["seed"],k);const _=y(t,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const A=y(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],p1(A));const C=y(t,["responseJsonSchema"]);if(C!=null&&x(r,["responseJsonSchema"],C),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=y(t,["safetySettings"]);if(n!==void 0&&j!=null){let V=j;Array.isArray(V)&&(V=V.map(D=>gse(D))),x(n,["safetySettings"],V)}const I=y(t,["tools"]);if(n!==void 0&&I!=null){let V=$l(I);Array.isArray(V)&&(V=V.map(D=>_se(Bl(D)))),x(n,["tools"],V)}const P=y(t,["toolConfig"]);if(n!==void 0&&P!=null&&x(n,["toolConfig"],Sse(P)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(t,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],ua(e,O));const R=y(t,["responseModalities"]);R!=null&&x(r,["responseModalities"],R);const U=y(t,["mediaResolution"]);U!=null&&x(r,["mediaResolution"],U);const H=y(t,["speechConfig"]);if(H!=null&&x(r,["speechConfig"],g1(H)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(t,["thinkingConfig"]);G!=null&&x(r,["thinkingConfig"],G);const $=y(t,["imageConfig"]);return $!=null&&x(r,["imageConfig"],Zae($)),r}function Aae(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Cn(i));const a=y(t,["temperature"]);a!=null&&x(r,["temperature"],a);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const h=y(t,["maxOutputTokens"]);h!=null&&x(r,["maxOutputTokens"],h);const m=y(t,["stopSequences"]);m!=null&&x(r,["stopSequences"],m);const g=y(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const E=y(t,["frequencyPenalty"]);E!=null&&x(r,["frequencyPenalty"],E);const k=y(t,["seed"]);k!=null&&x(r,["seed"],k);const _=y(t,["responseMimeType"]);_!=null&&x(r,["responseMimeType"],_);const A=y(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],p1(A));const C=y(t,["responseJsonSchema"]);C!=null&&x(r,["responseJsonSchema"],C);const j=y(t,["routingConfig"]);j!=null&&x(r,["routingConfig"],j);const I=y(t,["modelSelectionConfig"]);I!=null&&x(r,["modelConfig"],I);const P=y(t,["safetySettings"]);if(n!==void 0&&P!=null){let z=P;Array.isArray(z)&&(z=z.map(Z=>Z)),x(n,["safetySettings"],z)}const O=y(t,["tools"]);if(n!==void 0&&O!=null){let z=$l(O);Array.isArray(z)&&(z=z.map(Z=>o5(Bl(Z)))),x(n,["tools"],z)}const R=y(t,["toolConfig"]);n!==void 0&&R!=null&&x(n,["toolConfig"],R);const U=y(t,["labels"]);n!==void 0&&U!=null&&x(n,["labels"],U);const H=y(t,["cachedContent"]);n!==void 0&&H!=null&&x(n,["cachedContent"],ua(e,H));const G=y(t,["responseModalities"]);G!=null&&x(r,["responseModalities"],G);const $=y(t,["mediaResolution"]);$!=null&&x(r,["mediaResolution"],$);const V=y(t,["speechConfig"]);V!=null&&x(r,["speechConfig"],s5(g1(V)));const D=y(t,["audioTimestamp"]);D!=null&&x(r,["audioTimestamp"],D);const oe=y(t,["thinkingConfig"]);oe!=null&&x(r,["thinkingConfig"],oe);const de=y(t,["imageConfig"]);return de!=null&&x(r,["imageConfig"],ese(de)),r}function Nj(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let l=Mr(i);Array.isArray(l)&&(l=l.map(u=>tp(u))),x(n,["contents"],l)}const a=y(t,["config"]);return a!=null&&x(n,["generationConfig"],Nae(e,a,n)),n}function Aj(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["contents"]);if(i!=null){let l=Mr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const a=y(t,["config"]);return a!=null&&x(n,["generationConfig"],Aae(e,a,n)),n}function Tj(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Jie(h))),x(t,["candidates"],f)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&x(t,["promptFeedback"],a);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function Cj(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>m)),x(t,["candidates"],h)}const i=y(e,["createTime"]);i!=null&&x(t,["createTime"],i);const a=y(e,["modelVersion"]);a!=null&&x(t,["modelVersion"],a);const l=y(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const u=y(e,["responseId"]);u!=null&&x(t,["responseId"],u);const f=y(e,["usageMetadata"]);return f!=null&&x(t,["usageMetadata"],f),t}function Tae(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&x(t,["parameters","aspectRatio"],i);const a=y(e,["guidanceScale"]);if(t!==void 0&&a!=null&&x(t,["parameters","guidanceScale"],a),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&x(t,["parameters","safetySetting"],l);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u);const f=y(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&x(t,["parameters","includeSafetyAttributes"],f);const h=y(e,["includeRaiReason"]);t!==void 0&&h!=null&&x(t,["parameters","includeRaiReason"],h);const m=y(e,["language"]);t!==void 0&&m!=null&&x(t,["parameters","language"],m);const g=y(e,["outputMimeType"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","mimeType"],g);const v=y(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&x(t,["parameters","outputOptions","compressionQuality"],v),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=y(e,["imageSize"]);if(t!==void 0&&b!=null&&x(t,["parameters","sampleImageSize"],b),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Cae(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&x(t,["parameters","sampleCount"],a);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const f=y(e,["seed"]);t!==void 0&&f!=null&&x(t,["parameters","seed"],f);const h=y(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&x(t,["parameters","safetySetting"],h);const m=y(e,["personGeneration"]);t!==void 0&&m!=null&&x(t,["parameters","personGeneration"],m);const g=y(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&x(t,["parameters","includeSafetyAttributes"],g);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const E=y(e,["outputMimeType"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","mimeType"],E);const k=y(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&x(t,["parameters","outputOptions","compressionQuality"],k);const _=y(e,["addWatermark"]);t!==void 0&&_!=null&&x(t,["parameters","addWatermark"],_);const A=y(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const C=y(e,["imageSize"]);t!==void 0&&C!=null&&x(t,["parameters","sampleImageSize"],C);const j=y(e,["enhancePrompt"]);return t!==void 0&&j!=null&&x(t,["parameters","enhancePrompt"],j),n}function jae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&Tae(a,n),n}function Iae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&Cae(a,n),n}function Rae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Fae(l))),x(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],i5(i)),t}function Pae(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>np(l))),x(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],a5(i)),t}function Oae(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&x(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(e,["aspectRatio"]);t!==void 0&&a!=null&&x(t,["parameters","aspectRatio"],a);const l=y(e,["resolution"]);t!==void 0&&l!=null&&x(t,["parameters","resolution"],l);const u=y(e,["personGeneration"]);if(t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(e,["negativePrompt"]);t!==void 0&&f!=null&&x(t,["parameters","negativePrompt"],f);const h=y(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&x(t,["parameters","enhancePrompt"],h),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=y(e,["lastFrame"]);t!==void 0&&m!=null&&x(t,["instances[0]","lastFrame"],rp(m));const g=y(e,["referenceImages"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(b=>Dse(b))),x(t,["instances[0]","referenceImages"],v)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Mae(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const a=y(e,["fps"]);t!==void 0&&a!=null&&x(t,["parameters","fps"],a);const l=y(e,["durationSeconds"]);t!==void 0&&l!=null&&x(t,["parameters","durationSeconds"],l);const u=y(e,["seed"]);t!==void 0&&u!=null&&x(t,["parameters","seed"],u);const f=y(e,["aspectRatio"]);t!==void 0&&f!=null&&x(t,["parameters","aspectRatio"],f);const h=y(e,["resolution"]);t!==void 0&&h!=null&&x(t,["parameters","resolution"],h);const m=y(e,["personGeneration"]);t!==void 0&&m!=null&&x(t,["parameters","personGeneration"],m);const g=y(e,["pubsubTopic"]);t!==void 0&&g!=null&&x(t,["parameters","pubsubTopic"],g);const v=y(e,["negativePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","negativePrompt"],v);const b=y(e,["enhancePrompt"]);t!==void 0&&b!=null&&x(t,["parameters","enhancePrompt"],b);const E=y(e,["generateAudio"]);t!==void 0&&E!=null&&x(t,["parameters","generateAudio"],E);const k=y(e,["lastFrame"]);t!==void 0&&k!=null&&x(t,["instances[0]","lastFrame"],ni(k));const _=y(e,["referenceImages"]);if(t!==void 0&&_!=null){let j=_;Array.isArray(j)&&(j=j.map(I=>Lse(I))),x(t,["instances[0]","referenceImages"],j)}const A=y(e,["mask"]);t!==void 0&&A!=null&&x(t,["instances[0]","mask"],Mse(A));const C=y(e,["compressionQuality"]);return t!==void 0&&C!=null&&x(t,["parameters","compressionQuality"],C),n}function Dae(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],$ae(l)),t}function Lae(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response"]);return l!=null&&x(t,["response"],qae(l)),t}function Uae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&x(n,["instances[0]","image"],rp(a));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],l5(l));const u=y(t,["source"]);u!=null&&zae(u,n);const f=y(t,["config"]);return f!=null&&Oae(f,n),n}function Bae(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&x(n,["instances[0]","image"],ni(a));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],u5(l));const u=y(t,["source"]);u!=null&&Hae(u,n);const f=y(t,["config"]);return f!=null&&Mae(f,n),n}function $ae(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Vae(l))),x(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function qae(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Kae(l))),x(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function zae(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],rp(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&x(t,["instances[0]","video"],l5(a)),n}function Hae(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],ni(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&x(t,["instances[0]","video"],u5(a)),n}function Fae(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],tse(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&x(t,["safetyAttributes"],i5(i)),t}function np(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],r5(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&x(t,["safetyAttributes"],a5(i));const a=y(e,["prompt"]);return a!=null&&x(t,["enhancedPrompt"],a),t}function Gae(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["mask"],r5(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(t,["labels"],i)}return t}function Vae(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],Pse(n)),t}function Kae(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],Ose(n)),t}function Yae(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&x(t,["candidateCount"],a);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const f=y(e,["logprobs"]);f!=null&&x(t,["logprobs"],f);const h=y(e,["maxOutputTokens"]);h!=null&&x(t,["maxOutputTokens"],h);const m=y(e,["mediaResolution"]);m!=null&&x(t,["mediaResolution"],m);const g=y(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const E=y(e,["responseModalities"]);E!=null&&x(t,["responseModalities"],E);const k=y(e,["responseSchema"]);k!=null&&x(t,["responseSchema"],k);const _=y(e,["routingConfig"]);_!=null&&x(t,["routingConfig"],_);const A=y(e,["seed"]);A!=null&&x(t,["seed"],A);const C=y(e,["speechConfig"]);C!=null&&x(t,["speechConfig"],s5(C));const j=y(e,["stopSequences"]);j!=null&&x(t,["stopSequences"],j);const I=y(e,["temperature"]);I!=null&&x(t,["temperature"],I);const P=y(e,["thinkingConfig"]);P!=null&&x(t,["thinkingConfig"],P);const O=y(e,["topK"]);O!=null&&x(t,["topK"],O);const R=y(e,["topP"]);if(R!=null&&x(t,["topP"],R),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Jae(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],et(e,r)),n}function Wae(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],et(e,r)),n}function Xae(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Qae(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Zae(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ese(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);r!=null&&x(t,["imageSize"],r);const i=y(e,["outputMimeType"]);i!=null&&x(t,["imageOutputOptions","mimeType"],i);const a=y(e,["outputCompressionQuality"]);return a!=null&&x(t,["imageOutputOptions","compressionQuality"],a),t}function tse(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&x(t,["imageBytes"],ts(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function r5(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["imageBytes"],ts(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function rp(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&x(t,["bytesBase64Encoded"],ts(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function ni(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&x(t,["bytesBase64Encoded"],ts(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function nse(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],JD(e,u)),r}function rse(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&x(n,["_query","pageToken"],a);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],JD(e,u)),r}function ise(e,t){const n={},r=y(t,["config"]);return r!=null&&nse(e,r,n),n}function ase(e,t){const n={},r=y(t,["config"]);return r!=null&&rse(e,r,n),n}function sse(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=WD(i);Array.isArray(a)&&(a=a.map(l=>Px(l))),x(t,["models"],a)}return t}function ose(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=WD(i);Array.isArray(a)&&(a=a.map(l=>Ox(l))),x(t,["models"],a)}return t}function lse(e){const t={},n=y(e,["maskMode"]);n!=null&&x(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&x(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&x(t,["dilation"],i),t}function Px(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const a=y(e,["version"]);a!=null&&x(t,["version"],a);const l=y(e,["_self"]);l!=null&&x(t,["tunedModelInfo"],Ese(l));const u=y(e,["inputTokenLimit"]);u!=null&&x(t,["inputTokenLimit"],u);const f=y(e,["outputTokenLimit"]);f!=null&&x(t,["outputTokenLimit"],f);const h=y(e,["supportedGenerationMethods"]);h!=null&&x(t,["supportedActions"],h);const m=y(e,["temperature"]);m!=null&&x(t,["temperature"],m);const g=y(e,["maxTemperature"]);g!=null&&x(t,["maxTemperature"],g);const v=y(e,["topP"]);v!=null&&x(t,["topP"],v);const b=y(e,["topK"]);b!=null&&x(t,["topK"],b);const E=y(e,["thinking"]);return E!=null&&x(t,["thinking"],E),t}function Ox(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const a=y(e,["versionId"]);a!=null&&x(t,["version"],a);const l=y(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>wae(v))),x(t,["endpoints"],g)}const u=y(e,["labels"]);u!=null&&x(t,["labels"],u);const f=y(e,["_self"]);f!=null&&x(t,["tunedModelInfo"],kse(f));const h=y(e,["defaultCheckpointId"]);h!=null&&x(t,["defaultCheckpointId"],h);const m=y(e,["checkpoints"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>v)),x(t,["checkpoints"],g)}return t}function use(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&x(t,["fileData"],Sae(a));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],_ae(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const f=y(e,["inlineData"]);f!=null&&x(t,["inlineData"],Yie(f));const h=y(e,["text"]);h!=null&&x(t,["text"],h);const m=y(e,["thought"]);m!=null&&x(t,["thought"],m);const g=y(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function cse(e){const t={},n=y(e,["productImage"]);return n!=null&&x(t,["image"],ni(n)),t}function dse(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&x(t,["parameters","baseSteps"],i);const a=y(e,["outputGcsUri"]);t!==void 0&&a!=null&&x(t,["parameters","storageUri"],a);const l=y(e,["seed"]);t!==void 0&&l!=null&&x(t,["parameters","seed"],l);const u=y(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&x(t,["parameters","safetySetting"],u);const f=y(e,["personGeneration"]);t!==void 0&&f!=null&&x(t,["parameters","personGeneration"],f);const h=y(e,["addWatermark"]);t!==void 0&&h!=null&&x(t,["parameters","addWatermark"],h);const m=y(e,["outputMimeType"]);t!==void 0&&m!=null&&x(t,["parameters","outputOptions","mimeType"],m);const g=y(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","compressionQuality"],g);const v=y(e,["enhancePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","enhancePrompt"],v);const b=y(e,["labels"]);return t!==void 0&&b!=null&&x(t,["labels"],b),n}function fse(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["source"]);i!=null&&mse(i,n);const a=y(t,["config"]);return a!=null&&dse(a,n),n}function hse(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>np(i))),x(t,["generatedImages"],r)}return t}function mse(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&x(t,["instances[0]","personImage","image"],ni(i));const a=y(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>cse(u))),x(t,["instances[0]","productImages"],l)}return n}function pse(e){const t={},n=y(e,["referenceImage"]);n!=null&&x(t,["referenceImage"],ni(n));const r=y(e,["referenceId"]);r!=null&&x(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&x(t,["referenceType"],i);const a=y(e,["maskImageConfig"]);a!=null&&x(t,["maskImageConfig"],lse(a));const l=y(e,["controlImageConfig"]);l!=null&&x(t,["controlImageConfig"],tae(l));const u=y(e,["styleImageConfig"]);u!=null&&x(t,["styleImageConfig"],u);const f=y(e,["subjectImageConfig"]);return f!=null&&x(t,["subjectImageConfig"],f),t}function i5(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function a5(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function gse(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function yse(e){const t={},n=y(e,["image"]);return n!=null&&x(t,["image"],ni(n)),t}function vse(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&x(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&x(t,["parameters","maxPredictions"],i);const a=y(e,["confidenceThreshold"]);t!==void 0&&a!=null&&x(t,["parameters","confidenceThreshold"],a);const l=y(e,["maskDilation"]);t!==void 0&&l!=null&&x(t,["parameters","maskDilation"],l);const u=y(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&x(t,["parameters","binaryColorThreshold"],u);const f=y(e,["labels"]);return t!==void 0&&f!=null&&x(t,["labels"],f),n}function xse(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["source"]);i!=null&&wse(i,n);const a=y(t,["config"]);return a!=null&&vse(a,n),n}function bse(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gae(i))),x(t,["generatedMasks"],r)}return t}function wse(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],ni(i));const a=y(e,["scribbleImage"]);return t!==void 0&&a!=null&&x(t,["instances[0]","scribble"],yse(a)),n}function s5(e){const t={},n=y(e,["languageCode"]);n!=null&&x(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&x(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Sse(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],Eae(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function _se(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>g)),x(t,["functionDeclarations"],m)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&x(t,["fileSearch"],a);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],Xae(u));const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],Qae(f));const h=y(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function o5(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>kae(v))),x(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&x(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const f=y(e,["googleMaps"]);f!=null&&x(t,["googleMaps"],f);const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],h);const m=y(e,["urlContext"]);return m!=null&&x(t,["urlContext"],m),t}function Ese(e){const t={},n=y(e,["baseModel"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function kse(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function Nse(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&x(t,["defaultCheckpointId"],a),n}function Ase(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&x(t,["defaultCheckpointId"],a),n}function Tse(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","name"],et(e,r));const i=y(t,["config"]);return i!=null&&Nse(i,n),n}function Cse(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["config"]);return i!=null&&Ase(i,n),n}function jse(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&x(t,["parameters","safetySetting"],i);const a=y(e,["personGeneration"]);t!==void 0&&a!=null&&x(t,["parameters","personGeneration"],a);const l=y(e,["includeRaiReason"]);t!==void 0&&l!=null&&x(t,["parameters","includeRaiReason"],l);const u=y(e,["outputMimeType"]);t!==void 0&&u!=null&&x(t,["parameters","outputOptions","mimeType"],u);const f=y(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&x(t,["parameters","outputOptions","compressionQuality"],f);const h=y(e,["enhanceInputImage"]);t!==void 0&&h!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],h);const m=y(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const g=y(e,["labels"]);t!==void 0&&g!=null&&x(t,["labels"],g);const v=y(e,["numberOfImages"]);t!==void 0&&v!=null&&x(t,["parameters","sampleCount"],v);const b=y(e,["mode"]);return t!==void 0&&b!=null&&x(t,["parameters","mode"],b),n}function Ise(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],et(e,r));const i=y(t,["image"]);i!=null&&x(n,["instances[0]","image"],ni(i));const a=y(t,["upscaleFactor"]);a!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=y(t,["config"]);return l!=null&&jse(l,n),n}function Rse(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>np(a))),x(t,["generatedImages"],i)}return t}function Pse(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],ts(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function Ose(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],ts(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function Mse(e){const t={},n=y(e,["image"]);n!=null&&x(t,["_self"],ni(n));const r=y(e,["maskMode"]);return r!=null&&x(t,["maskMode"],r),t}function Dse(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],rp(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function Lse(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],ni(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function l5(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["encodedVideo"],ts(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["encoding"],i),t}function u5(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["bytesBase64Encoded"],ts(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Use(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["displayName"],r),n}function Bse(e){const t={},n=y(e,["config"]);return n!=null&&Use(n,t),t}function $se(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function qse(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&$se(r,t),t}function zse(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Hse(e,t){const n={},r=y(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["customMetadata"],a)}const i=y(e,["chunkingConfig"]);return t!==void 0&&i!=null&&x(t,["chunkingConfig"],i),n}function Fse(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const a=y(e,["error"]);a!=null&&x(t,["error"],a);const l=y(e,["response"]);return l!=null&&x(t,["response"],Vse(l)),t}function Gse(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["fileName"]);r!=null&&x(t,["fileName"],r);const i=y(e,["config"]);return i!=null&&Hse(i,t),t}function Vse(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function Kse(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Yse(e){const t={},n=y(e,["config"]);return n!=null&&Kse(n,t),t}function Jse(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["fileSearchStores"],a)}return t}function c5(e,t){const n={},r=y(e,["mimeType"]);t!==void 0&&r!=null&&x(t,["mimeType"],r);const i=y(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const a=y(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),x(t,["customMetadata"],u)}const l=y(e,["chunkingConfig"]);return t!==void 0&&l!=null&&x(t,["chunkingConfig"],l),n}function Wse(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["config"]);return r!=null&&c5(r,t),t}function Xse(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qse="Content-Type",Zse="X-Server-Timeout",eoe="User-Agent",Mx="x-goog-api-client",toe="1.31.0",noe=`google-genai-sdk/${toe}`,roe="v1beta1",ioe="v1beta",jj=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class aoe{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:roe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ioe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&soe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ij(i),new jx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ij(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return ol(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield vt(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(f,{stream:!0});try{const g=JSON.parse(h);if("error"in g){const v=JSON.parse(JSON.stringify(g.error)),b=v.status,E=v.code,k=`got status: ${b}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new ep({message:k,status:E})}}catch(g){if(g.name==="ApiError")throw g}l+=h;let m=l.match(jj);for(;m;){const g=m[1];try{const v=new Response(g,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield vt(new jx(v)),l=l.slice(m[0].length),m=l.match(jj)}catch(v){throw new Error(`exception parsing stream chunk ${g}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=noe+" "+this.clientOptions.userAgentExtra;return t[eoe]=n,t[Mx]=n,t[Qse]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(Zse,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},h=this.getFileName(t),m=xe("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,h,f,n==null?void 0:n.httpOptions);return a.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,m=this.getFileName(n),g={};r!=null&&c5(r,g);const v=await this.fetchUploadUrl(h,u,f,m,g,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const h=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(u=h==null?void 0:h.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function Ij(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ep({message:i,status:n}):new Error(i)}}function soe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const h=l[f],m=u[f];h&&typeof h=="object"&&!Array.isArray(h)&&m&&typeof m=="object"&&!Array.isArray(m)?u[f]=r(m,h):(m&&h&&typeof m!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof h}. Overwriting.`),u[f]=h)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ooe="mcp_used/unknown";let loe=!1;function d5(e){for(const t of e)if(uoe(t)||typeof t=="object"&&"inputSchema"in t)return!0;return loe}function f5(e){var t;const n=(t=e[Mx])!==null&&t!==void 0?t:"";e[Mx]=(n+` ${ooe}`).trimStart()}function uoe(e){return e!==null&&typeof e=="object"&&e instanceof v1}function coe(e,t=100){return ol(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield vt(e.listTools({cursor:r}));for(const l of a.tools)yield yield vt(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class v1{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new v1(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const m of this.mcpClients)try{for(var u=!0,f=(n=void 0,rc(coe(m))),h;h=await f.next(),t=h.done,!t;u=!0){i=h.value,u=!1;const g=i;l.push(g);const v=g.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=m}}catch(g){n={error:g}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),zne(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function doe(e,t,n){const r=new One;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class foe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=poe(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let h=()=>{};const m=new Promise(j=>{h=j}),g=t.callbacks,v=function(){h({})},b=this.apiClient,E={onopen:v,onmessage:j=>{doe(b,g.onmessage,j)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(j){}},k=this.webSocketFactory.create(f,moe(l),E);k.connect(),await m;const C={setup:{model:et(this.apiClient,t.model)}};return k.send(JSON.stringify(C)),new hoe(k,this.apiClient)}}class hoe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Bie(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Uie(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(nl.PLAY)}pause(){this.sendPlaybackControl(nl.PAUSE)}stop(){this.sendPlaybackControl(nl.STOP)}resetContext(){this.sendPlaybackControl(nl.RESET_CONTEXT)}close(){this.conn.close()}}function moe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function poe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const goe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yoe(e,t,n){const r=new Pne;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=zie(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class voe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new foe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&d5(t.config.tools)&&f5(g);const v=Soe(g);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,m);else{const H=this.apiClient.getApiKey();let G="BidiGenerateContent",$="key";H!=null&&H.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",$="access_token"),m=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${G}?${$}=${H}`}let b=()=>{};const E=new Promise(H=>{b=H}),k=t.callbacks,_=function(){var H;(H=k==null?void 0:k.onopen)===null||H===void 0||H.call(k),b({})},A=this.apiClient,C={onopen:_,onmessage:H=>{yoe(A,k.onmessage,H)},onerror:(n=k==null?void 0:k.onerror)!==null&&n!==void 0?n:function(H){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(H){}},j=this.webSocketFactory.create(m,woe(v),C);j.connect(),await E;let I=et(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const H=this.apiClient.getProject(),G=this.apiClient.getLocation();I=`projects/${H}/locations/${G}/`+I}let P={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Yh.AUDIO]}:t.config.responseModalities=[Yh.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],R=[];for(const H of O)if(this.isCallableTool(H)){const G=H;R.push(await G.tool())}else R.push(H);R.length>0&&(t.config.tools=R);const U={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=Lie(this.apiClient,U):P=Die(this.apiClient,U),delete P.config,j.send(JSON.stringify(P)),new boe(j,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const xoe={turnComplete:!0};class boe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Mr(n.turns),t.isVertexAI()||(r=r.map(i=>tp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(goe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},xoe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:qie(t)}:n={realtimeInput:$ie(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function woe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Soe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rj=10;function Pj(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ll(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ll(e){return"callTool"in e&&typeof e.callTool=="function"}function _oe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>ll(i)))!==null&&r!==void 0?r:!1}function Oj(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(ll(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Mj(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eoe extends la{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_oe(n)||Pj(n.config))return await this.generateContentInternal(f);const h=Oj(n);if(h.length>0){const k=h.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let m,g;const v=Mr(f.contents),b=(a=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Rj;let E=0;for(;E<b&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const k=m.candidates[0].content,_=[];for(const A of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(ll(A)){const j=await A.callTool(m.functionCalls);_.push(...j)}E++,g={role:"user",parts:_},f.contents=Mr(f.contents),f.contents.push(k),f.contents.push(g),Mj(f.config)&&(v.push(k),v.push(g))}return Mj(f.config)&&(m.automaticFunctionCallingHistory=v),m},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),Pj(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=Oj(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(h&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ro(ea.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async f=>ll(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&d5(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),f5(h),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ll(l)){const u=l,f=await u.tool();for(const h of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Rj;let l=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(h,m,g){var v,b;return ol(this,arguments,function*(){for(var E,k,_,A;u<a;){l&&(u++,l=!1);const P=yield vt(h.processParamsMaybeAddMcpUsage(g)),O=yield vt(h.generateContentStreamInternal(P)),R=[],U=[];try{for(var C=!0,j=(k=void 0,rc(O)),I;I=yield vt(j.next()),E=I.done,!E;C=!0){A=I.value,C=!1;const H=A;if(yield yield vt(H),H.candidates&&(!((v=H.candidates[0])===null||v===void 0)&&v.content)){U.push(H.candidates[0].content);for(const G of(b=H.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(u<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(G.functionCall.name)){const $=yield vt(m.get(G.functionCall.name).callTool([G.functionCall]));R.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(H){k={error:H}}finally{try{!C&&!E&&(_=j.return)&&(yield vt(_.call(j)))}finally{if(k)throw k.error}}if(R.length>0){l=!0;const H=new Gu;H.candidates=[{content:{role:"user",parts:R}}],yield yield vt(H);const G=[];G.push(...U),G.push({role:"user",parts:R});const $=Mr(g.contents).concat(G);g.contents=$}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Aj(this.apiClient,t);return u=xe("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Cj(m),v=new Gu;return Object.assign(v,g),v})}else{const h=Nj(this.apiClient,t);return u=xe("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Tj(m),v=new Gu;return Object.assign(v,g),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Aj(this.apiClient,t);return u=xe("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return ol(this,arguments,function*(){var v,b,E,k;try{for(var _=!0,A=rc(g),C;C=yield vt(A.next()),v=C.done,!v;_=!0){k=C.value,_=!1;const j=k,I=Cj(yield vt(j.json()));I.sdkHttpResponse={headers:j.headers};const P=new Gu;Object.assign(P,I),yield yield vt(P)}}catch(j){b={error:j}}finally{try{!_&&!v&&(E=A.return)&&(yield vt(E.call(A)))}finally{if(b)throw b.error}}})})}else{const h=Nj(this.apiClient,t);return u=xe("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(g){return ol(this,arguments,function*(){var v,b,E,k;try{for(var _=!0,A=rc(g),C;C=yield vt(A.next()),v=C.done,!v;_=!0){k=C.value,_=!1;const j=k,I=Tj(yield vt(j.json()));I.sdkHttpResponse={headers:j.headers};const P=new Gu;Object.assign(P,I),yield yield vt(P)}}catch(j){b={error:j}}finally{try{!_&&!v&&(E=A.return)&&(yield vt(E.call(A)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=vae(this.apiClient,t);return u=xe("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=bae(m),v=new uj;return Object.assign(v,g),v})}else{const h=yae(this.apiClient,t);return u=xe("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=xae(m),v=new uj;return Object.assign(v,g),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Iae(this.apiClient,t);return u=xe("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Pae(m),v=new cj;return Object.assign(v,g),v})}else{const h=jae(this.apiClient,t);return u=xe("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Rae(m),v=new cj;return Object.assign(v,g),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=hae(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const h=mae(f),m=new Sne;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Ise(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const h=Rse(f),m=new _ne;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=fse(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=hse(f),m=new Ene;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=xse(this.apiClient,t);return a=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=bse(f),m=new kne;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Wae(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Ox(m))}else{const h=Jae(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Px(m))}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=ase(this.apiClient,t);return u=xe("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=ose(m),v=new dj;return Object.assign(v,g),v})}else{const h=ise(this.apiClient,t);return u=xe("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=sse(m),v=new dj;return Object.assign(v,g),v})}}async update(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Cse(this.apiClient,t);return u=xe("{model}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>Ox(m))}else{const h=Tse(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Px(m))}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=uae(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=dae(m),v=new fj;return Object.assign(v,g),v})}else{const h=lae(this.apiClient,t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=cae(m),v=new fj;return Object.assign(v,g),v})}}async countTokens(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=aae(this.apiClient,t);return u=xe("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=oae(m),v=new hj;return Object.assign(v,g),v})}else{const h=iae(this.apiClient,t);return u=xe("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=sae(m),v=new hj;return Object.assign(v,g),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Xie(this.apiClient,t);return a=xe("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>{const h=Qie(f),m=new Nne;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Bae(this.apiClient,t);return u=xe("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>{const g=Lae(m),v=new Jh;return Object.assign(v,g),v})}else{const h=Uae(this.apiClient,t);return u=xe("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>{const g=Dae(m),v=new Jh;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class koe extends la{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=gne(t);return u=xe("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l}else{const h=pne(t);return u=xe("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=lne(t);return a=xe("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Noe(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Aoe(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Doe(a))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function Toe(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const a=y(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&x(n,["newSessionExpireTime"],a);const l=y(t,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const u=y(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],Moe(e,u));const f=y(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&x(n,["fieldMask"],f),r}function Coe(e,t){const n={},r=y(t,["config"]);return r!=null&&x(n,["config"],Toe(e,r,n)),n}function joe(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Ioe(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Roe(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Poe(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Ooe(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&x(t,["setup","generationConfig","temperature"],a);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","maxOutputTokens"],f);const h=y(e,["mediaResolution"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","mediaResolution"],h);const m=y(e,["seed"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","seed"],m);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],y1(g));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=y(e,["systemInstruction"]);t!==void 0&&E!=null&&x(t,["setup","systemInstruction"],Aoe(Cn(E)));const k=y(e,["tools"]);if(t!==void 0&&k!=null){let O=$l(k);Array.isArray(O)&&(O=O.map(R=>Uoe(Bl(R)))),x(t,["setup","tools"],O)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&x(t,["setup","sessionResumption"],Loe(_));const A=y(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const C=y(e,["outputAudioTranscription"]);t!==void 0&&C!=null&&x(t,["setup","outputAudioTranscription"],C);const j=y(e,["realtimeInputConfig"]);t!==void 0&&j!=null&&x(t,["setup","realtimeInputConfig"],j);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&x(t,["setup","proactivity"],P),n}function Moe(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],et(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],Ooe(i,n)),n}function Doe(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&x(t,["fileData"],joe(a));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],Ioe(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const f=y(e,["inlineData"]);f!=null&&x(t,["inlineData"],Noe(f));const h=y(e,["text"]);h!=null&&x(t,["text"],h);const m=y(e,["thought"]);m!=null&&x(t,["thought"],m);const g=y(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function Loe(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Uoe(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>g)),x(t,["functionDeclarations"],m)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&x(t,["fileSearch"],a);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],Roe(u));const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],Poe(f));const h=y(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Boe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function $oe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=Boe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(h=>l.includes(h)?`generationConfig.${h}`:h));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class qoe extends la{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Coe(this.apiClient,t);a=xe("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=$oe(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zoe(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Hoe(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&zoe(r,t),t}function Foe(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Goe(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Voe(e){const t={},n=y(e,["parent"]);n!=null&&x(t,["_url","parent"],n);const r=y(e,["config"]);return r!=null&&Goe(r,t),t}function Koe(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),x(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yoe extends la{constructor(t){super(),this.apiClient=t,this.list=async n=>new ro(ea.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Foe(t);return a=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Hoe(t);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Voe(t);return a=xe("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=Koe(f),m=new Ane;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Joe extends la{constructor(t,n=new Yoe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new ro(ea.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Bse(t);return a=xe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zse(t);return a=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qse(t);i=xe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yse(t);return a=xe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=Jse(f),m=new Tne;return Object.assign(m,h),m})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wse(t);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=Xse(f),m=new Cne;return Object.assign(m,h),m})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gse(t);return a=xe("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const h=Fse(f),m=new f1;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Woe(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Xoe(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Qoe(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Zoe(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function ele(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&x(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=y(e,["epochCount"]);t!==void 0&&a!=null&&x(t,["tuningTask","hyperparameters","epochCount"],a);const l=y(e,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(e,["batchSize"]);t!==void 0&&u!=null&&x(t,["tuningTask","hyperparameters","batchSize"],u);const f=y(e,["learningRate"]);if(t!==void 0&&f!=null&&x(t,["tuningTask","hyperparameters","learningRate"],f),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function tle(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec"],Dj(b))}else if(i==="PREFERENCE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec"],Dj(b))}const a=y(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&x(t,["tunedModelDisplayName"],a);const l=y(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(f==="PREFERENCE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let m=y(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(m==="PREFERENCE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(e,["labels"]);t!==void 0&&g!=null&&x(t,["labels"],g);const v=y(e,["beta"]);return t!==void 0&&v!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function nle(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&hle(a);const l=y(e,["config"]);return l!=null&&ele(l,n),n}function rle(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&mle(a,n,t);const l=y(e,["config"]);return l!=null&&tle(l,n,t),n}function ile(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function ale(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function sle(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&x(t,["_query","pageToken"],a);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function ole(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&x(t,["_query","pageToken"],a);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function lle(e,t){const n={},r=y(e,["config"]);return r!=null&&sle(r,n),n}function ule(e,t){const n={},r=y(e,["config"]);return r!=null&&ole(r,n),n}function cle(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=y(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>h5(u))),x(n,["tuningJobs"],l)}return n}function dle(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const a=y(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Dx(u))),x(n,["tuningJobs"],l)}return n}function fle(e,t){const n={},r=y(e,["name"]);r!=null&&x(n,["model"],r);const i=y(e,["name"]);return i!=null&&x(n,["endpoint"],i),n}function hle(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),x(n,["examples","examples"],i)}return n}function mle(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=y(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function h5(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const a=y(e,["state"]);a!=null&&x(n,["state"],KD(a));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const f=y(e,["tuningTask","completeTime"]);f!=null&&x(n,["endTime"],f);const h=y(e,["updateTime"]);h!=null&&x(n,["updateTime"],h);const m=y(e,["description"]);m!=null&&x(n,["description"],m);const g=y(e,["baseModel"]);g!=null&&x(n,["baseModel"],g);const v=y(e,["_self"]);return v!=null&&x(n,["tunedModel"],fle(v)),n}function Dx(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const a=y(e,["state"]);a!=null&&x(n,["state"],KD(a));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(n,["startTime"],u);const f=y(e,["endTime"]);f!=null&&x(n,["endTime"],f);const h=y(e,["updateTime"]);h!=null&&x(n,["updateTime"],h);const m=y(e,["error"]);m!=null&&x(n,["error"],m);const g=y(e,["description"]);g!=null&&x(n,["description"],g);const v=y(e,["baseModel"]);v!=null&&x(n,["baseModel"],v);const b=y(e,["tunedModel"]);b!=null&&x(n,["tunedModel"],b);const E=y(e,["preTunedModel"]);E!=null&&x(n,["preTunedModel"],E);const k=y(e,["supervisedTuningSpec"]);k!=null&&x(n,["supervisedTuningSpec"],k);const _=y(e,["preferenceOptimizationSpec"]);_!=null&&x(n,["preferenceOptimizationSpec"],_);const A=y(e,["tuningDataStats"]);A!=null&&x(n,["tuningDataStats"],A);const C=y(e,["encryptionSpec"]);C!=null&&x(n,["encryptionSpec"],C);const j=y(e,["partnerModelTuningSpec"]);j!=null&&x(n,["partnerModelTuningSpec"],j);const I=y(e,["customBaseModel"]);I!=null&&x(n,["customBaseModel"],I);const P=y(e,["experiment"]);P!=null&&x(n,["experiment"],P);const O=y(e,["labels"]);O!=null&&x(n,["labels"],O);const R=y(e,["outputUri"]);R!=null&&x(n,["outputUri"],R);const U=y(e,["pipelineJob"]);U!=null&&x(n,["pipelineJob"],U);const H=y(e,["serviceAccount"]);H!=null&&x(n,["serviceAccount"],H);const G=y(e,["tunedModelDisplayName"]);G!=null&&x(n,["tunedModelDisplayName"],G);const $=y(e,["veoTuningSpec"]);return $!=null&&x(n,["veoTuningSpec"],$),n}function ple(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const a=y(e,["metadata"]);a!=null&&x(n,["metadata"],a);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);return u!=null&&x(n,["error"],u),n}function Dj(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gle extends la{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ro(ea.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Cx.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=ale(t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>Dx(m))}else{const h=ile(t);return u=xe("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>h5(m))}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=ule(t);return u=xe("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=dle(m),v=new mj;return Object.assign(v,g),v})}else{const h=lle(t);return u=xe("tunedModels",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=cle(m),v=new mj;return Object.assign(v,g),v})}}async cancel(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const h=Xoe(t);return u=xe("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Zoe(m),v=new pj;return Object.assign(v,g),v})}else{const h=Woe(t);return u=xe("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),l.then(m=>{const g=Qoe(m),v=new pj;return Object.assign(v,g),v})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=rle(t,t);return a=xe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>Dx(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nle(t);return a=xe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),i.then(f=>ple(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yle{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vle=1024*1024*8,xle=3,ble=1e3,wle=2,Xh="x-goog-upload-status";async function Sle(e,t,n){var r;const i=await m5(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function _le(e,t,n){var r;const i=await m5(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=qD(a),u=new h1;return Object.assign(u,l),u}async function m5(e,t,n){var r,i;let a=0,l=0,u=new jx(new Response),f="upload";for(a=e.size;l<a;){const h=Math.min(vle,a-l),m=e.slice(l,l+h);l+h>=a&&(f+=", finalize");let g=0,v=ble;for(;g<xle&&(u=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Xh]));)g++,await kle(v),v=v*wle;if(l+=h,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Xh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Ele(e){return{size:e.size,type:e.type}}function kle(e){return new Promise(t=>setTimeout(t,e))}class Nle{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Sle(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await _le(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ele(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ale{create(t,n,r){return new Tle(t,n,r)}}class Tle{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lj="x-goog-api-key";class Cle{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Lj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Lj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jle="gl-node/";class Ile{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=sne(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Cle(this.apiKey);this.apiClient=new aoe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jle+"web",uploader:new Nle,downloader:new yle}),this.models=new Eoe(this.apiClient),this.live=new voe(this.apiClient,i,new Ale),this.batches=new Mre(this.apiClient),this.chats=new gie(this.models,this.apiClient),this.caches=new hie(this.apiClient),this.files=new Nie(this.apiClient),this.operations=new koe(this.apiClient),this.authTokens=new qoe(this.apiClient),this.tunings=new gle(this.apiClient),this.fileSearchStores=new Joe(this.apiClient)}}const Rle="AIzaSyDs8wYnCtg8-SXDWM-W6EvtDQvSzwV9M68";let Qs=null;Qs=new Ile({apiKey:Rle});const Ple=async(e,t,n)=>{if(t.length===0&&(!n||n.length===0))return"No hay suficientes datos (horas extras o sanciones) para generar un anlisis. Por favor registre actividad primero.";const r=e.map(u=>({name:u.name,position:u.position,schedule:`${u.scheduleStart}-${u.scheduleEnd}`,monthlySalaryARS:u.monthlySalary})),i=t.map(u=>{var f;return{employeeName:((f=e.find(h=>h.id===u.employeeId))==null?void 0:f.name)||"Unknown",date:u.date,overtimeHours:u.overtimeHours,costARS:u.overtimeAmount,paid:u.paid,reason:u.reason}}),a=(n==null?void 0:n.map(u=>{var f;return{employeeName:((f=e.find(h=>h.id===u.employeeId))==null?void 0:f.name)||"Unknown",date:u.date,type:u.type,description:u.description,amount:u.amount}}))||[],l=`
    Acta como un Gerente de Operaciones Senior y CFO para "Sushiblack", un restaurante exclusivo.
    
    Analiza los siguientes datos operativos:
    
    PERFIL DE EMPLEADOS: ${JSON.stringify(r)}
    REGISTRO DE HORAS EXTRAS: ${JSON.stringify(i)}
    LIBRO DE NOVEDADES (SANCIONES/STRIKES): ${JSON.stringify(a)}
    
    Proporciona un informe estratgico en espaol (formato Markdown) que incluya:
    
    1. **Anlisis Financiero de Horas Extras**: Impacto en el presupuesto (ARS). Menciona cunto se ha pagado ya y cunto falta pagar (deuda pendiente).
    2. **Desempeo y Disciplina**: Cruza los datos de horas extras con las sanciones. Hay empleados problemticos? (Ej. muchas horas extras pero tambin llegadas tarde o strikes).
    3. **Cumplimiento de Horarios**: Identifica patrones de entrada/salida irregular.
    4. **Recomendaciones**: Sugiere acciones concretas (despidos, bonos, cambios de turno).
    
    Mantn un tono profesional, directo y elegante.
  `;if(!Qs)return"Servicio de IA no disponible. Configure la VITE_API_KEY en su archivo .env.";try{return(await Qs.models.generateContent({model:"gemini-2.5-flash",contents:l})).text||"No se pudo generar el anlisis."}catch(u){return console.error("Error generating analysis:",u),"Hubo un error al conectar con el asistente de IA. Por favor verifique su conexin o intente ms tarde."}},Ole=async(e,t)=>{const n=e.data.map(i=>{const a=t.find(l=>l.id===i.itemId);return{item:(a==null?void 0:a.name)||"Unknown",unit:(a==null?void 0:a.unit)||"",initial:i.initial,final:i.final,consumption:i.consumption}}),r=`
        Acta como el Jefe de Cocina de "Sushiblack". Escribe un informe de inventario por correo electrnico para los dueos.
        
        DATOS DEL TURNO:
        Fecha: ${e.date}
        Apertura: ${e.openedBy} (${e.startTime})
        Cierre: ${e.closedBy} (${e.endTime})
        
        CONSUMOS:
        ${JSON.stringify(n)}
        
        Estructura del Email:
        1. Asunto formal.
        2. Resumen ejecutivo del turno.
        3. Lista detallada de consumos (Items clave como Salmn, Arroz, Langostinos).
        4. Alerta si algn consumo parece excesivo o si hay stock crtico (cercano a 0 en final).
        5. Cierre formal.
        
        Solo devuelve el cuerpo del texto y el asunto. No uses markdown complejo, solo texto plano o formato simple.
    `;if(!Qs)return"Servicio IA no configurado.";try{return(await Qs.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"No se pudo generar el email."}catch{return"Error al generar informe."}},Mle=async(e,t,n,r=[])=>{const i=n.filter(f=>f.active).reduce((f,h)=>f+h.monthlySalary,0),a=t.filter(f=>!f.isPaid).reduce((f,h)=>f+(h.amount-(h.paidAmount||0)),0),l=r.slice(0,20).map(f=>({date:f.date,type:f.type,amount:f.amount,category:f.category})),u=`
        Acta como el CFO de "Sushiblack". Analiza la situacin financiera y responde NICAMENTE en formato JSON.
        
        DATOS DE ESTADO:
        - Saldo Actual (Caja): $${e}
        - Nmina Mensual (Empleados): $${i}
        - Gastos Fijos Pendientes Reales: $${a}
        - Total Obligaciones Inmediatas: $${i+a}

        HISTORIAL RECIENTE (Para detectar tendencias de gasto):
        ${JSON.stringify(l)}

        INSTRUCCIONES JSON:
        1. Calcula "healthScore" (0-100).
        2. "healthStatus": "CRITICAL" (si score < 40), "WARNING" (40-70), "HEALTHY" (>70).
        3. "realAvailableMoney": Saldo - Obligaciones. (Puede ser negativo).
        4. "allocations": Array de objetos sugiriendo distribucin del excedente. Si hay dficit, priorizar pagos crticos. Categories: "Materia Prima", "Infraestructura", "Reserva", "Ganancia".
           Cada objeto: { name: string, percentage: number, amount: number, color: string (hex), description: string }.
        5. "actionableTips": Array de strings con 3 consejos estratgicos basados en el HISTORIAL (ej. "Gastos en proveedores subieron un 20%, revisar precios" o "Buen flujo de caja, ideal para stock").

        Output must be valid JSON without Markdown blocks.
    `;if(!Qs)return null;try{const h=(await Qs.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{responseMimeType:"application/json"}})).text;return h?JSON.parse(h):null}catch(f){return console.error(f),null}},p5=({employees:e,records:t,sanctions:n})=>{const[r,i]=N.useState({loading:!1,result:null,error:null}),a=async()=>{i({loading:!0,result:null,error:null});try{const l=await Ple(e,t,n);i({loading:!1,result:l,error:null})}catch{i({loading:!1,result:null,error:"Error al generar el reporte."})}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-sushi-gold/10 rounded-full mb-2",children:c.jsx(Va,{className:"w-8 h-8 text-yellow-600 dark:text-sushi-gold"})}),c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Consultor IA Sushiblack"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted max-w-2xl mx-auto",children:"Utiliza inteligencia artificial avanzada para analizar los patrones de horas extras, detectar ineficiencias, revisar sanciones y optimizar los costos operativos."})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-8 rounded-2xl relative overflow-hidden min-h-[300px] flex flex-col items-center justify-center shadow-xl",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-sushi-gold/5 rounded-full blur-3xl pointer-events-none"}),!r.loading&&!r.result&&c.jsxs("div",{className:"z-10 text-center",children:[c.jsxs("button",{onClick:a,className:"bg-sushi-gold text-sushi-black font-bold text-lg px-8 py-4 rounded-full hover:bg-sushi-goldhover hover:shadow-lg hover:shadow-sushi-gold/20 transition-all flex items-center gap-3",children:[c.jsx(Va,{className:"w-5 h-5"}),"Generar Anlisis Estratgico"]}),c.jsxs("p",{className:"mt-4 text-sm text-gray-400 dark:text-sushi-muted",children:["Analizando ",t.length," registros, ",n.length," sanciones y ",e.length," empleados."]})]}),r.loading&&c.jsxs("div",{className:"z-10 flex flex-col items-center",children:[c.jsx(jI,{className:"w-10 h-10 text-sushi-gold animate-spin mb-4"}),c.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Procesando datos del restaurante..."}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-sm mt-2",children:"Nuestros algoritmos estn revisando la eficiencia operativa."})]}),r.result&&c.jsxs("div",{className:"w-full z-10 text-left animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-200 dark:border-white/10 pb-4",children:[c.jsx("h3",{className:"text-xl font-serif text-yellow-700 dark:text-sushi-gold",children:"Reporte de Eficiencia"}),c.jsx("button",{onClick:a,className:"text-gray-400 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white transition-colors p-2",title:"Regenerar",children:c.jsx(fB,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"prose prose-invert prose-p:text-gray-700 dark:prose-p:text-sushi-text prose-headings:text-gray-900 dark:prose-headings:text-white prose-strong:text-yellow-700 dark:prose-strong:text-sushi-gold max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:r.result.split(`
`).map((l,u)=>l.startsWith("**")||l.startsWith("##")||l.startsWith("#")?c.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mt-4 mb-2",children:l.replace(/[#*]/g,"")},u):l.startsWith("- ")?c.jsx("li",{className:"ml-4 list-disc text-gray-700 dark:text-sushi-text",children:l.replace("- ","")},u):c.jsx("p",{className:"mb-2 text-gray-700 dark:text-sushi-text",children:l},u))})})]})]})]})},Dle=({employees:e,sanctions:t,setSanctions:n,currentUser:r})=>{const[i,a]=N.useState("LIST"),[l,u]=N.useState(""),[f,h]=N.useState(new Date().toISOString().split("T")[0]),[m,g]=N.useState("APERCIBIMIENTO"),[v,b]=N.useState(""),[E,k]=N.useState(0),[_,A]=N.useState(null),C=t.filter(R=>!R.deletedAt),j=R=>{if(R.preventDefault(),!l||!v)return;const U={id:crypto.randomUUID(),employeeId:l,date:f,type:m,description:v,amount:m==="DESCUENTO"||m==="SUSPENSION"?E:void 0,createdBy:(r==null?void 0:r.name)||"Administracin"};n([U,...t]),b(""),k(0)},I=R=>{window.confirm("Borrar esta sancin? Se mantendr un registro visual pero no contar para estadsticas.")&&n(t.map(U=>U.id===R?{...U,deletedAt:new Date().toISOString(),deletedBy:(r==null?void 0:r.name)||"Admin"}:U))},P=(R,U=!1)=>{if(U)return"text-gray-400 bg-gray-100 dark:bg-white/5 border-gray-200 dark:border-white/10 opacity-60";switch(R){case"STRIKE":return"text-red-600 dark:text-red-500 bg-red-100 dark:bg-red-500/10 border-red-200 dark:border-red-500/20";case"SUSPENSION":return"text-orange-600 dark:text-orange-500 bg-orange-100 dark:bg-orange-500/10 border-orange-200 dark:border-orange-500/20";case"DESCUENTO":return"text-yellow-600 dark:text-yellow-500 bg-yellow-100 dark:bg-yellow-500/10 border-yellow-200 dark:border-yellow-500/20";default:return"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-400/10 border-blue-200 dark:border-blue-400/20"}},O=R=>{const U=C.filter(H=>H.employeeId===R);return{total:U.length,strikes:U.filter(H=>H.type==="STRIKE").length,discounts:U.reduce((H,G)=>H+(G.amount||0),0)}};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-white/10 pb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Gestin Disciplinaria"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-1",children:"Control de comportamiento y expedientes del personal."})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>a("LIST"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${i==="LIST"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(pB,{className:"w-4 h-4"}),"Novedades Diarias"]}),c.jsxs("button",{onClick:()=>a("FILES"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${i==="FILES"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(TI,{className:"w-4 h-4"}),"Expedientes"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[i==="LIST"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"ltimos Registros"}),t.length===0?c.jsx("div",{className:"p-8 text-center border border-dashed border-gray-300 dark:border-white/10 rounded-xl bg-gray-50 dark:bg-transparent",children:c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted",children:"No hay novedades registradas."})}):t.map(R=>{const U=e.find($=>$.id===R.employeeId),H=!!R.deletedAt,G=P(R.type,H);return c.jsxs("div",{className:`p-4 rounded-xl border flex gap-4 ${G.split(" ")[2]} bg-white dark:bg-sushi-dark border-gray-200 dark:border-white/5 shadow-sm relative group transition-all`,children:[H&&c.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-black/50 z-10 flex items-center justify-center pointer-events-none",children:c.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-2 py-1 rounded -rotate-12 border-2 border-white dark:border-sushi-dark shadow-lg",children:"ANULADO"})}),c.jsx("div",{className:`p-3 rounded-full h-fit ${G.split(" ")[1]}`,children:H?c.jsx(wI,{className:"w-6 h-6"}):c.jsx(Ha,{className:`w-6 h-6 ${G.split(" ")[0]}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:`font-bold text-lg ${H?"text-gray-400 line-through decoration-red-500":"text-gray-900 dark:text-white"}`,children:(U==null?void 0:U.name)||"Desconocido"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded border ${G} inline-block`,children:R.type}),R.createdBy&&c.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-sushi-muted flex items-center gap-1",children:[c.jsx(_c,{className:"w-3 h-3"})," Por: ",R.createdBy]}),H&&c.jsxs("span",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[c.jsx(En,{className:"w-3 h-3"})," Borrado por: ",R.deletedBy]})]})]}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-sushi-muted",children:R.date})]}),c.jsxs("p",{className:`mt-2 text-sm bg-gray-50 dark:bg-black/20 p-2 rounded border border-gray-200 dark:border-white/5 italic ${H?"text-gray-400 line-through":"text-gray-700 dark:text-sushi-text"}`,children:['"',R.description,'"']}),R.amount&&R.amount>0&&c.jsxs("div",{className:`mt-2 font-mono text-sm flex items-center gap-1 ${H?"text-gray-400":"text-sushi-red"}`,children:[c.jsx(Zs,{className:"w-4 h-4"}),c.jsxs("span",{children:["Descuento aplicado: $",R.amount]})]})]}),!H&&c.jsx("button",{onClick:()=>I(R.id),className:"text-gray-400 dark:text-sushi-muted hover:text-red-500 h-fit z-20 relative",children:c.jsx(En,{className:"w-5 h-5"})})]},R.id)})]}),i==="FILES"&&c.jsx("div",{className:"space-y-6",children:_?c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("button",{onClick:()=>A(null),className:"mb-4 text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white text-sm flex items-center gap-1",children:" Volver a la lista"}),(()=>{const R=e.find(G=>G.id===_),U=t.filter(G=>G.employeeId===_).sort((G,$)=>new Date($.date).getTime()-new Date(G.date).getTime()),H=R?O(R.id):{strikes:0};return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-2xl overflow-hidden shadow-lg",children:[c.jsxs("div",{className:"p-8 border-b border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-black/20 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-white dark:bg-white/10 overflow-hidden border-2 border-sushi-gold/20",children:(R==null?void 0:R.photoUrl)&&c.jsx("img",{src:R.photoUrl,className:"w-full h-full object-cover"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-serif text-gray-900 dark:text-white",children:R==null?void 0:R.name}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted",children:R==null?void 0:R.position})]})]}),c.jsxs("div",{className:"text-right space-y-1",children:[c.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-500",children:H.strikes}),c.jsx("div",{className:"text-xs uppercase tracking-wider text-red-500 dark:text-red-400",children:"Strikes Activos"})]})]}),c.jsxs("div",{className:"p-8",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[c.jsx(Fi,{className:"w-5 h-5 text-sushi-gold"}),"Historial de Sucesos"]}),c.jsxs("div",{className:"relative border-l-2 border-gray-200 dark:border-white/10 ml-3 space-y-8",children:[U.length===0&&c.jsx("p",{className:"ml-6 text-gray-400 dark:text-sushi-muted italic",children:"Este empleado tiene un expediente limpio."}),U.map(G=>{const $=!!G.deletedAt,V=P(G.type,$);return c.jsxs("div",{className:"relative ml-6",children:[c.jsx("div",{className:`absolute -left-[31px] w-4 h-4 rounded-full border-2 border-white dark:border-sushi-black ${$?"bg-gray-400":G.type==="STRIKE"?"bg-red-500":"bg-blue-500"}`}),c.jsxs("div",{className:`bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/5 p-4 rounded-lg hover:border-sushi-gold/20 transition-colors ${$?"opacity-60 grayscale":""}`,children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded border ${V}`,children:G.type}),G.createdBy&&c.jsxs("span",{className:"text-[10px] text-gray-500 dark:text-sushi-muted",children:["(",G.createdBy,")"]}),$&&c.jsx("span",{className:"text-[10px] text-red-500 font-bold ml-2",children:"ANULADO"})]}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:G.date})]}),c.jsx("p",{className:`text-sm ${$?"text-gray-400 line-through":"text-gray-700 dark:text-white"}`,children:G.description}),G.amount&&c.jsxs("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1 font-mono",children:["-$",G.amount," ARS"]})]})]},G.id)})]})]})]})})()]}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map(R=>{const U=O(R.id);return c.jsxs("button",{onClick:()=>A(R.id),className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-6 rounded-xl text-left hover:border-sushi-gold/30 transition-all group relative overflow-hidden shadow-sm hover:shadow-lg dark:shadow-none",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 overflow-hidden",children:R.photoUrl?c.jsx("img",{src:R.photoUrl,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-sushi-gold/20"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white group-hover:text-sushi-gold transition-colors",children:R.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:R.position})]})]}),c.jsxs("div",{className:"flex gap-2",children:[U.strikes>0&&c.jsxs("span",{className:"text-[10px] bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-500 px-2 py-0.5 rounded border border-red-200 dark:border-red-500/20 font-bold",children:[U.strikes," STRIKES"]}),U.discounts>0&&c.jsxs("span",{className:"text-[10px] bg-yellow-100 dark:bg-yellow-500/20 text-yellow-600 dark:text-yellow-500 px-2 py-0.5 rounded border border-yellow-200 dark:border-yellow-500/20 font-bold",children:["-$",U.discounts]}),U.total===0&&c.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 bg-green-100 dark:bg-green-500/10 px-2 py-0.5 rounded",children:"Sin Novedades"})]})]},R.id)})})})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-6 rounded-xl sticky top-8 shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(_6,{className:"w-6 h-6 text-sushi-red"}),c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white",children:"Aplicar Sancin"})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Empleado"}),c.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",required:!0,children:[c.jsx("option",{value:"",disabled:!0,children:"Seleccionar Personal..."}),e.map(R=>c.jsx("option",{value:R.id,className:"dark:bg-sushi-dark text-gray-900 dark:text-white",children:R.name},R.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Tipo de Novedad"}),c.jsxs("select",{value:m,onChange:R=>g(R.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors appearance-none",children:[c.jsx("option",{value:"APERCIBIMIENTO",children:"Apercibimiento (Leve)"}),c.jsx("option",{value:"SUSPENSION",children:"Suspensin"}),c.jsx("option",{value:"DESCUENTO",children:"Descuento Monetario"}),c.jsx("option",{value:"STRIKE",children:"Strike (Grave)"}),c.jsx("option",{value:"OTRO",children:"Otro"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Fecha"}),c.jsx("input",{type:"date",value:f,onChange:R=>h(R.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors [color-scheme:light] dark:[color-scheme:dark]",required:!0})]}),(m==="DESCUENTO"||m==="SUSPENSION")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Monto a Descontar (ARS)"}),c.jsx("input",{type:"number",value:E,onChange:R=>k(Number(R.target.value)),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Detalle de lo ocurrido"}),c.jsx("textarea",{value:v,onChange:R=>b(R.target.value),rows:4,className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:"Describa el incidente con detalle...",required:!0})]}),c.jsxs("button",{type:"submit",className:"w-full bg-sushi-red/80 hover:bg-sushi-red text-white font-bold py-3 rounded-lg transition-colors flex justify-center items-center gap-2 mt-4",children:[c.jsx(p6,{className:"w-5 h-5"}),"Registrar Sancin"]})]})]})})]})]})},Lx=({tasks:e,setTasks:t,employeeId:n,readOnly:r=!1,onFinalize:i,userName:a})=>{const[l,u]=N.useState(""),[f,h]=N.useState(null),[m,g]=N.useState(""),[v,b]=N.useState(null),[E,k]=N.useState(null),_=e.filter(G=>G.employeeId===n),A=_.filter(G=>G.status==="COMPLETED").length,C=_.length>0?A/_.length*100:0,j=G=>{if(G.preventDefault(),!l.trim())return;const $={id:crypto.randomUUID(),employeeId:n,description:l,status:"PENDING",assignedBy:"Admin",date:new Date().toISOString()};t([...e,$]),u(""),Ve("SUCCESS")},I=(G,$)=>{r||($!=="PENDING"?O(G,"PENDING"):(g(new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})),h(G)))},P=G=>{if(f){const $=G?new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):m;O(f,"COMPLETED",$),h(null),Ve("SUCCESS")}},O=(G,$,V)=>{t(e.map(D=>D.id===G?{...D,status:$,completedAt:$==="PENDING"?void 0:V,completedBy:$==="PENDING"?void 0:a}:D))},R=G=>{window.confirm("Borrar tarea?")&&(t(e.filter($=>$.id!==G)),Ve("CLICK"))},U=G=>{E&&(t(e.map($=>$.id===G?{...$,details:E.text}:$)),k(null))},H=G=>{if(G.preventDefault(),G.stopPropagation(),!i){console.error("onFinalize callback missing");return}if(window.confirm("Finalizar y Archivar Check-list de hoy? Se guardar en el expediente y se limpiar el tablero.")){const $={id:crypto.randomUUID(),date:new Date().toISOString(),finalizedAt:new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),finalizedBy:a||"Sistema",employeeId:n,tasks:_};i($),t(V=>V.filter(D=>D.employeeId!==n)),Ve("SUCCESS")}};return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm relative",children:[c.jsxs("div",{className:"flex justify-between items-end mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(NI,{className:"w-5 h-5 text-sushi-gold"}),"Check-List Diario"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mt-1",children:"Tareas asignadas para la jornada."})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-2xl font-bold text-sushi-gold",children:[Math.round(C),"%"]}),c.jsx("span",{className:"text-xs uppercase block text-gray-400",children:"Completado"})]})]}),c.jsx("div",{className:"w-full h-2 bg-gray-100 dark:bg-white/5 rounded-full mb-6 overflow-hidden",children:c.jsx("div",{className:"h-full bg-sushi-gold transition-all duration-500 ease-out",style:{width:`${C}%`}})}),c.jsxs("div",{className:"space-y-3 mb-6",children:[_.length===0&&c.jsx("p",{className:"text-center text-gray-400 dark:text-sushi-muted italic py-4",children:"No hay tareas asignadas para hoy."}),_.map(G=>{const $=G.status==="COMPLETED",V=G.status==="SKIPPED",D=v===G.id;return c.jsxs("div",{className:`rounded-lg border transition-all overflow-hidden ${$?"bg-green-50 dark:bg-green-500/10 border-green-200 dark:border-green-500/20":V?"bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20":"bg-gray-50 dark:bg-black/20 border-gray-200 dark:border-white/5"}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-3",children:[c.jsxs("div",{onClick:()=>I(G.id,G.status),className:`flex items-center gap-3 cursor-pointer flex-1 ${r?"pointer-events-none":""}`,children:[c.jsx("div",{className:`transition-colors ${$?"text-green-500":V?"text-red-500":"text-gray-400 dark:text-sushi-muted"}`,children:$?c.jsx(Xr,{className:"w-6 h-6"}):V?c.jsx(eo,{className:"w-6 h-6"}):c.jsx(rb,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("span",{className:`text-sm block ${$||V?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white font-medium"}`,children:G.description}),G.completedAt&&c.jsxs("div",{className:"flex gap-2 mt-0.5",children:[c.jsxs("span",{className:"text-[10px] text-green-600 dark:text-green-500 flex items-center gap-1 font-medium",children:[c.jsx(Yt,{className:"w-3 h-3"})," ",G.completedAt]}),G.completedBy&&c.jsxs("span",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[c.jsx(_c,{className:"w-3 h-3"})," ",G.completedBy]})]}),V&&c.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"NO REALIZADO"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>b(D?null:G.id),className:"text-gray-400 hover:text-sushi-gold p-2",children:D?c.jsx(kI,{className:"w-4 h-4"}):c.jsx(EI,{className:"w-4 h-4"})}),!r&&c.jsx("button",{onClick:()=>R(G.id),className:"text-gray-400 hover:text-red-500 p-2",children:c.jsx(En,{className:"w-4 h-4"})})]})]}),D&&c.jsx("div",{className:"p-3 pt-0 border-t border-gray-100 dark:border-white/5 mt-1 bg-white/50 dark:bg-black/10",children:(E==null?void 0:E.id)===G.id?c.jsxs("div",{className:"mt-2",children:[c.jsx("textarea",{value:E.text,onChange:oe=>k({...E,text:oe.target.value}),className:"w-full text-xs p-2 rounded border border-gray-300 dark:border-white/10 bg-white dark:bg-black/30 text-gray-900 dark:text-white mb-2",placeholder:"Aadir descripcin detallada...",autoFocus:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>U(G.id),className:"text-xs bg-sushi-gold text-sushi-black px-2 py-1 rounded",children:"Guardar"}),c.jsx("button",{onClick:()=>k(null),className:"text-xs text-gray-500 px-2 py-1",children:"Cancelar"})]})]}):c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"text-xs text-gray-600 dark:text-sushi-muted italic",children:G.details||"Sin descripcin detallada."}),!r&&c.jsxs("div",{className:"flex justify-between items-center mt-3",children:[c.jsx("button",{onClick:()=>k({id:G.id,text:G.details||""}),className:"text-[10px] text-sushi-gold hover:underline",children:G.details?"Editar detalle":"Aadir detalle"}),G.status==="PENDING"&&c.jsxs("button",{onClick:()=>O(G.id,"SKIPPED"),className:"text-[10px] text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 px-2 py-1 rounded border border-red-200 dark:border-red-500/20 flex items-center gap-1",children:[c.jsx(JU,{className:"w-3 h-3"})," Marcar No Realizado"]})]})]})})]},G.id)})]}),!r&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:G=>u(G.target.value),placeholder:"Agregar nueva tarea...",className:"flex-1 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2 text-sm text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold"}),c.jsx("button",{type:"submit",className:"bg-gray-900 dark:bg-white/10 hover:bg-sushi-gold hover:text-sushi-black text-white p-2 rounded-lg transition-colors",children:c.jsx(pr,{className:"w-5 h-5"})})]}),i&&_.length>0&&c.jsxs("button",{type:"button",onClick:H,className:"w-full border border-dashed border-gray-300 dark:border-white/20 text-gray-500 dark:text-sushi-muted hover:border-sushi-gold hover:text-sushi-gold py-3 rounded-xl transition-all flex items-center justify-center gap-2 text-sm font-bold uppercase tracking-wider group bg-transparent",children:[c.jsx($f,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Finalizar y Archivar Check-list"]})]}),f&&c.jsx("div",{className:"absolute inset-0 bg-white/95 dark:bg-sushi-dark/95 backdrop-blur-sm z-10 flex items-center justify-center rounded-xl p-4 animate-fade-in",children:c.jsxs("div",{className:"w-full max-w-xs text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(Yt,{className:"w-6 h-6"})}),c.jsx("h4",{className:"text-gray-900 dark:text-white font-bold text-lg mb-1",children:"Registro de Horario"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted mb-4",children:"A qu hora completaste esta tarea?"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>P(!0),className:"w-full py-3 px-4 bg-sushi-gold text-sushi-black font-bold rounded-lg hover:bg-sushi-goldhover transition-colors flex items-center justify-center gap-2",children:[c.jsx(fi,{className:"w-4 h-4"}),"Ahora Mismo"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300 dark:border-white/10"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-white dark:bg-sushi-dark px-2 text-gray-500",children:"O indicar hora"})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"time",value:m,onChange:G=>g(G.target.value),className:"flex-1 bg-gray-100 dark:bg-black/30 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-2 text-center text-gray-900 dark:text-white focus:border-sushi-gold outline-none [color-scheme:light] dark:[color-scheme:dark]"}),c.jsx("button",{onClick:()=>P(!1),className:"bg-gray-200 dark:bg-white/10 hover:bg-gray-300 dark:hover:bg-white/20 text-gray-900 dark:text-white px-4 rounded-lg font-medium",children:"OK"})]})]}),c.jsx("button",{onClick:()=>h(null),className:"mt-4 text-xs text-gray-400 hover:text-gray-900 dark:hover:text-white underline",children:"Cancelar"})]})})]})},Mn=({icon:e,label:t,value:n})=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/5",children:[c.jsx("div",{className:"p-2 bg-white dark:bg-white/5 rounded-full text-gray-400 dark:text-sushi-muted",children:c.jsx(e,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 dark:text-sushi-muted font-bold",children:t}),c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white break-all",children:n||"-"})]})]}),Lle=({employees:e,setEmployees:t,sanctions:n,absences:r,tasks:i,setTasks:a,checklistSnapshots:l=[]})=>{const[u,f]=N.useState(null),[h,m]=N.useState(!1),[g,v]=N.useState("PROFILE"),b=A=>{const C=n.filter(j=>j.employeeId===A);return{strikes:C.filter(j=>j.type==="STRIKE").length,discounts:C.reduce((j,I)=>j+(I.amount||0),0)}},E=A=>r.filter(C=>C.employeeId===A).length,k=(A,C)=>{const j=A.assignedDays||[];let I;j.includes(C)?I=j.filter(P=>P!==C):I=[...j,C],t(e.map(P=>P.id===A.id?{...P,assignedDays:I}:P))},_=A=>{var I;const C=((I=A.assignedDays)==null?void 0:I.join(", "))||"Ninguno",j=`*CRONOGRAMA SUSHIBLACK*

Hola ${A.name},
Se han actualizado tus das asignados para esta semana.

 *Das:* ${C}
 *Horario:* ${A.scheduleStart} - ${A.scheduleEnd}

Ingresa aqu para confirmar: https://sushiblack.app/schedule/${A.id}`;navigator.clipboard.writeText(j),m(!0),setTimeout(()=>m(!1),2e3)};return c.jsx("div",{className:"h-full",children:u?c.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in",children:[c.jsx("button",{onClick:()=>f(null),className:"mb-6 flex items-center gap-2 text-gray-500 dark:text-sushi-muted hover:text-sushi-gold transition-colors",children:" Volver al listado"}),(()=>{const A=e.find(R=>R.id===u);if(!A)return null;const C=b(A.id),j=E(A.id),I=n.filter(R=>R.employeeId===A.id).sort((R,U)=>new Date(U.date).getTime()-new Date(R.date).getTime()),P=["Lun","Mar","Mi","Jue","Vie","Sb","Dom"],O=l.filter(R=>R.employeeId===A.id).sort((R,U)=>new Date(U.date).getTime()-new Date(R.date).getTime());return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark rounded-2xl border border-gray-200 dark:border-white/5 overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"h-32 bg-gradient-to-r from-gray-900 to-black relative",children:c.jsx("div",{className:"absolute inset-0 bg-sushi-gold/10 pattern-dots"})}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start -mt-12 mb-8",children:[c.jsxs("div",{className:"flex items-end gap-6",children:[c.jsx("div",{className:"w-32 h-32 rounded-2xl bg-white dark:bg-sushi-dark p-1 shadow-xl",children:c.jsx("div",{className:"w-full h-full rounded-xl bg-gray-100 dark:bg-black/50 overflow-hidden relative",children:A.photoUrl?c.jsx("img",{src:A.photoUrl,className:"w-full h-full object-cover"}):c.jsx(fn,{className:"w-full h-full p-8 text-gray-300"})})}),c.jsxs("div",{className:"pb-2",children:[c.jsxs("h1",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-2",children:[A.name,c.jsx(nc,{role:A.role})]}),c.jsx("p",{className:"text-sushi-gold font-bold uppercase tracking-wide text-sm",children:A.position})]})]}),c.jsx("div",{className:"mt-4 md:mt-0 pt-14 flex gap-4",children:c.jsxs("div",{className:"text-center px-4 py-2 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/5",children:[c.jsx("span",{className:"block text-2xl font-bold text-gray-900 dark:text-white",children:new Date().getFullYear()-new Date(A.startDate||new Date).getFullYear()}),c.jsx("span",{className:"text-[10px] text-gray-500 dark:text-sushi-muted uppercase",children:"Aos Antig."})]})})]}),c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10 mb-8",children:[c.jsxs("button",{onClick:()=>v("PROFILE"),className:`px-6 py-3 font-bold text-sm flex items-center gap-2 transition-colors ${g==="PROFILE"?"border-b-2 border-sushi-gold text-sushi-gold":"text-gray-500 dark:text-sushi-muted hover:text-white"}`,children:[c.jsx(Sv,{className:"w-4 h-4"})," Perfil & Desempeo"]}),c.jsxs("button",{onClick:()=>v("CHECKLIST_HISTORY"),className:`px-6 py-3 font-bold text-sm flex items-center gap-2 transition-colors ${g==="CHECKLIST_HISTORY"?"border-b-2 border-sushi-gold text-sushi-gold":"text-gray-500 dark:text-sushi-muted hover:text-white"}`,children:[c.jsx(fl,{className:"w-4 h-4"})," Historial Check-list"]})]}),g==="CHECKLIST_HISTORY"&&c.jsx("div",{className:"space-y-6",children:O.length===0?c.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-200 dark:border-white/10 rounded-xl",children:[c.jsx(NI,{className:"w-12 h-12 text-gray-300 dark:text-sushi-muted mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted",children:"No hay check-lists archivados para este empleado."})]}):O.map(R=>c.jsxs("div",{className:"bg-gray-50 dark:bg-white/[0.02] border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 flex justify-between items-center bg-white dark:bg-black/10",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Fi,{className:"w-4 h-4 text-sushi-gold"}),new Date(R.date).toLocaleDateString()]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:["Finalizado a las ",R.finalizedAt," por ",R.finalizedBy]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-2xl font-bold text-sushi-gold",children:[Math.round(R.tasks.filter(U=>U.status==="COMPLETED").length/R.tasks.length*100),"%"]}),c.jsx("span",{className:"text-[10px] uppercase block text-gray-400",children:"Cumplimiento"})]})]}),c.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-2",children:R.tasks.map(U=>c.jsxs("div",{className:"flex items-center gap-2 text-sm p-2 rounded bg-white dark:bg-white/5 border border-gray-100 dark:border-white/5",children:[U.status==="COMPLETED"?c.jsx(Xr,{className:"w-4 h-4 text-green-500"}):U.status==="SKIPPED"?c.jsx(Ha,{className:"w-4 h-4 text-red-500"}):c.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:U.status!=="COMPLETED"?"text-gray-500":"text-gray-900 dark:text-white",children:U.description}),U.completedAt&&c.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:U.completedAt})]},U.id))})]},R.id))}),g==="PROFILE"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`mb-8 p-4 rounded-xl border flex items-center justify-between ${C.strikes>0?"bg-red-50 dark:bg-red-500/5 border-red-200 dark:border-red-500/20":"bg-green-50 dark:bg-green-500/5 border-green-200 dark:border-green-500/20"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-full ${C.strikes>0?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-500":"bg-green-100 dark:bg-green-500/20 text-green-600 dark:text-green-500"}`,children:C.strikes>0?c.jsx(Ha,{className:"w-6 h-6"}):c.jsx(Xr,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-bold text-lg ${C.strikes>0?"text-red-800 dark:text-red-400":"text-green-800 dark:text-green-400"}`,children:C.strikes>0?"Atencin Requerida":"Expediente Limpio"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-sushi-muted",children:C.strikes>0?`Este empleado acumula ${C.strikes} faltas graves (Strikes).`:"No se registran faltas graves activas."})]})]}),c.jsxs("div",{className:"flex gap-6 text-right",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-2xl font-bold text-gray-900 dark:text-white",children:j}),c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-sushi-muted",children:"Faltas Total"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-2xl font-bold text-gray-900 dark:text-white",children:C.strikes}),c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-sushi-muted",children:"Strikes"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Yt,{className:"w-5 h-5 text-sushi-gold"}),"Cronograma Semanal"]}),c.jsxs("button",{onClick:()=>_(A),className:"text-xs bg-sushi-gold text-sushi-black px-3 py-1.5 rounded-lg font-bold flex items-center gap-1 hover:bg-sushi-goldhover transition-colors",children:[h?c.jsx(fi,{className:"w-3 h-3"}):c.jsx(U6,{className:"w-3 h-3"}),h?"Enlace Copiado":"Compartir URL"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:P.map(R=>{const U=(A.assignedDays||[]).includes(R);return c.jsx("button",{onClick:()=>k(A,R),className:`w-12 h-12 rounded-lg font-bold text-sm transition-all border ${U?"bg-sushi-gold text-sushi-black border-sushi-gold":"bg-gray-50 dark:bg-black/20 text-gray-400 dark:text-sushi-muted border-gray-200 dark:border-white/10 hover:border-gray-300 dark:hover:border-white/30"}`,children:R},R)})}),c.jsx("div",{className:"h-full w-px bg-gray-200 dark:bg-white/10 hidden sm:block"}),c.jsxs("div",{className:"flex flex-col items-center sm:items-start text-center sm:text-left",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted font-bold tracking-wider",children:"Horario de Turno"}),c.jsxs("p",{className:"text-2xl text-gray-900 dark:text-white font-mono mt-1",children:[A.scheduleStart," - ",A.scheduleEnd]})]})]})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Lx,{tasks:i,setTasks:a,employeeId:A.id})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2 flex items-center gap-2",children:[c.jsx(Sv,{className:"w-5 h-5 text-sushi-gold"}),"Informacin Personal"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsx(Mn,{icon:fn,label:"DNI",value:A.dni}),c.jsx(Mn,{icon:Ls,label:"CUIL",value:A.cuil}),c.jsx(Mn,{icon:ib,label:"Telfono",value:A.phone}),c.jsx(Mn,{icon:Fi,label:"Fecha Nac.",value:A.birthDate}),c.jsx(Mn,{icon:II,label:"Direccin",value:A.address})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2 flex items-center gap-2",children:[c.jsx(Ga,{className:"w-5 h-5 text-sushi-gold"}),"Datos Contractuales"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsx(Mn,{icon:Fi,label:"Fecha Ingreso",value:A.startDate}),c.jsx(Mn,{icon:Xr,label:"Modalidad",value:A.paymentModality}),c.jsx(Mn,{icon:_c,label:"Entrevistador",value:A.interviewer}),c.jsx(Mn,{icon:Ga,label:"Sueldo",value:`$${A.monthlySalary}`})]})]}),c.jsxs("div",{className:"space-y-6 md:col-span-2",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2 flex items-center gap-2",children:[c.jsx(Zf,{className:"w-5 h-5 text-sushi-gold"}),"Informacin Bancaria"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:[c.jsx(Mn,{icon:fn,label:"Titular",value:A.bankAccountHolder}),c.jsx(Mn,{icon:Zf,label:"Banco",value:A.bankName}),c.jsx(Mn,{icon:hr,label:"Tipo de Cuenta",value:A.bankAccountType==="CAJA_AHORRO"?"Caja de Ahorro":"Cta. Corriente"}),c.jsx(Mn,{icon:Ls,label:"Nmero de Cuenta",value:A.bankAccountNumber}),c.jsx(Mn,{icon:hr,label:"CBU / CVU",value:A.cbu}),c.jsx(Mn,{icon:Ls,label:"Alias",value:A.alias})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-6 mt-4",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2 flex items-center gap-2",children:[c.jsx(Ha,{className:"w-5 h-5 text-sushi-gold"}),"Historial de Novedades y Sanciones"]}),c.jsxs("div",{className:"relative border-l-2 border-gray-200 dark:border-white/10 ml-3 space-y-8",children:[I.length===0&&c.jsx("p",{className:"ml-6 text-gray-400 dark:text-sushi-muted italic",children:"Este empleado tiene un expediente limpio. No hay novedades registradas."}),I.map(R=>{let U="bg-blue-500";return R.type==="STRIKE"&&(U="bg-red-600"),R.type==="SUSPENSION"&&(U="bg-orange-500"),R.type==="DESCUENTO"&&(U="bg-yellow-500"),c.jsxs("div",{className:"relative ml-6",children:[c.jsx("div",{className:`absolute -left-[31px] w-4 h-4 rounded-full border-2 border-white dark:border-sushi-black ${U}`}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/10 p-4 rounded-lg hover:border-sushi-gold/20 transition-colors",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded text-white ${U}`,children:R.type}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:R.date})]}),c.jsx("p",{className:"text-gray-700 dark:text-white text-sm",children:R.description}),R.amount&&c.jsxs("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1 font-mono",children:["-$",R.amount," ARS"]})]})]},R.id)})]})]})]})]})]})]})})()]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Expedientes"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Base de datos completa del personal de Sushiblack."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.filter(A=>A.active).map(A=>{const C=b(A.id),j=E(A.id);return c.jsxs("button",{onClick:()=>{f(A.id),v("PROFILE")},className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-6 rounded-xl flex flex-col items-center text-center gap-4 hover:border-sushi-gold/50 hover:shadow-lg dark:hover:shadow-sushi-gold/5 transition-all group",children:[c.jsx("div",{className:"w-24 h-24 rounded-full border-2 border-sushi-gold/20 overflow-hidden bg-gray-100 dark:bg-black/30 group-hover:border-sushi-gold transition-colors",children:A.photoUrl?c.jsx("img",{src:A.photoUrl,className:"w-full h-full object-cover"}):c.jsx(fn,{className:"w-full h-full p-6 text-gray-300 dark:text-sushi-muted"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-serif font-bold text-lg text-gray-900 dark:text-white",children:A.name}),c.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-1",children:c.jsx(nc,{role:A.role})}),c.jsx("p",{className:"text-xs uppercase tracking-widest text-gray-500 dark:text-sushi-muted mt-1",children:A.position})]}),c.jsxs("div",{className:"flex gap-2 text-[10px] font-bold",children:[C.strikes>0&&c.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-500/10 text-red-600 dark:text-red-500 rounded border border-red-200 dark:border-red-500/20",children:[C.strikes," STRIKES"]}),j>0&&c.jsxs("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-500/10 text-orange-600 dark:text-orange-500 rounded border border-orange-200 dark:border-orange-500/20",children:[j," FALTAS"]}),C.strikes===0&&j===0&&c.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-sushi-muted rounded",children:"LIMPIO"})]})]},A.id)})})]})})},Ule=({users:e,employees:t=[],onLogin:n,onMemberLogin:r})=>{const[i,a]=N.useState("ADMIN"),[l,u]=N.useState(""),[f,h]=N.useState(""),[m,g]=N.useState(""),[v,b]=N.useState(""),[E,k]=N.useState(""),_=C=>{C.preventDefault();const j=e.find(I=>I.username===l&&I.password===f);j?(Ve("LOGIN"),n(j)):(Ve("ERROR"),k("Credenciales de administrador invlidas"))},A=C=>{if(C.preventDefault(),!r)return;const j=m.replace(/\D/g,""),I=t.find(P=>(P.dni||"").replace(/\D/g,"")===j&&P.active);I?I.password===v?(Ve("LOGIN"),r(I)):(Ve("ERROR"),k("Contrasea incorrecta.")):(Ve("ERROR"),k("DNI no encontrado o empleado inactivo. Contacte a un administrador."))};return c.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-sushi-black flex items-center justify-center p-4 transition-colors duration-300",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-2xl shadow-2xl relative overflow-hidden flex flex-col animate-slide-up",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-sushi-gold/10 rounded-full blur-3xl pointer-events-none"}),c.jsxs("div",{className:"text-center pt-8 pb-4 relative z-10 px-8",children:[c.jsx("div",{className:"inline-flex p-3 border-2 border-sushi-gold rounded-lg mb-4 animate-fade-in",children:c.jsx("span",{className:"font-serif text-3xl font-bold text-sushi-gold",children:"SB"})}),c.jsx("h1",{className:"font-serif text-3xl font-bold text-gray-900 dark:text-white tracking-wide",children:"Sushiblack"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-sm uppercase tracking-widest mt-1",children:i==="ADMIN"?"Acceso Gerencial":"Portal del Colaborador"})]}),c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10 px-8",children:[c.jsxs("button",{onClick:()=>{a("ADMIN"),k(""),Ve("CLICK")},className:`flex-1 pb-3 text-sm font-bold uppercase tracking-wider flex items-center justify-center gap-2 border-b-2 transition-colors ${i==="ADMIN"?"border-sushi-gold text-sushi-gold":"border-transparent text-gray-400 hover:text-gray-600 dark:hover:text-white"}`,children:[c.jsx(hl,{className:"w-4 h-4"})," Admin"]}),c.jsxs("button",{onClick:()=>{a("MEMBER"),k(""),Ve("CLICK")},className:`flex-1 pb-3 text-sm font-bold uppercase tracking-wider flex items-center justify-center gap-2 border-b-2 transition-colors ${i==="MEMBER"?"border-sushi-gold text-sushi-gold":"border-transparent text-gray-400 hover:text-gray-600 dark:hover:text-white"}`,children:[c.jsx(fn,{className:"w-4 h-4"})," Miembro"]})]}),c.jsx("div",{className:"p-8 relative z-10",children:i==="ADMIN"?c.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Usuario"}),c.jsxs("div",{className:"relative",children:[c.jsx(fn,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"text",value:l,onChange:C=>u(C.target.value),className:"w-full bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:"admin"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(om,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"password",value:f,onChange:C=>h(C.target.value),className:"w-full bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:""})]})]}),E&&c.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm text-center bg-red-100 dark:bg-red-400/10 py-2 rounded animate-shake",children:E}),c.jsx("button",{type:"submit",className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover transition-colors shadow-lg shadow-sushi-gold/10 transform active:scale-95 duration-100",children:"Ingresar al Panel"})]}):c.jsxs("form",{onSubmit:A,className:"space-y-6",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-500/10 p-4 rounded-lg text-sm text-blue-800 dark:text-blue-300 mb-4",children:"Bienvenido al portal de empleados. Ingresa con tu DNI y la contrasea provista por administracin."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Nmero de Documento (DNI)"}),c.jsxs("div",{className:"relative",children:[c.jsx(hr,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"text",value:m,onChange:C=>g(C.target.value),className:"w-full bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:"Ej. 35123456"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(CI,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400 dark:text-sushi-muted"}),c.jsx("input",{type:"password",value:v,onChange:C=>b(C.target.value),className:"w-full bg-gray-50 dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-3 pl-10 pr-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:""})]})]}),E&&c.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm text-center bg-red-100 dark:bg-red-400/10 py-2 rounded animate-shake",children:E}),c.jsxs("button",{type:"submit",className:"w-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/20 text-gray-900 dark:text-white font-bold py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-white/20 transition-colors flex items-center justify-center gap-2 transform active:scale-95 duration-100",children:["Ingresar ",c.jsx(dl,{className:"w-4 h-4"})]})]})})]})})},Ble=({users:e,setUsers:t,currentUser:n})=>{const[r,i]=N.useState({username:"",email:"",password:"",name:""}),[a,l]=N.useState({viewHr:!0,manageHr:!1,viewOps:!0,manageOps:!1,viewFinance:!1,manageFinance:!1,viewInventory:!0,manageInventory:!0,superAdmin:!1}),u=m=>{if(m.preventDefault(),!r.username||!r.password)return;if(e.some(v=>v.username===r.username)){alert("El nombre de usuario ya existe"),Ve("ERROR");return}const g={id:crypto.randomUUID(),...r,role:a.superAdmin?"ADMIN":"MANAGER",permissions:a};t([...e,g]),Ve("SUCCESS"),i({username:"",email:"",password:"",name:""}),l({viewHr:!0,manageHr:!1,viewOps:!0,manageOps:!1,viewFinance:!1,manageFinance:!1,viewInventory:!0,manageInventory:!0,superAdmin:!1})},f=m=>{if(m===n.id){alert("No puedes eliminar tu propio usuario.");return}window.confirm("Eliminar usuario del sistema?")&&(t(e.filter(g=>g.id!==m)),Ve("CLICK"))},h=m=>{l(g=>({...g,[m]:!g[m]})),Ve("CLICK")};return c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white mb-6",children:"Gestin de Accesos"}),c.jsx("div",{className:"space-y-4",children:e.map(m=>c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-5 rounded-xl flex items-center justify-between group hover:border-sushi-gold/30 transition-all shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-xl ${m.permissions.superAdmin?"bg-sushi-gold/20 text-yellow-700 dark:text-sushi-gold":"bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-sushi-muted"}`,children:m.permissions.superAdmin?c.jsx(hl,{className:"w-6 h-6"}):c.jsx(fn,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-gray-900 dark:text-white font-bold text-lg",children:m.name}),m.permissions.superAdmin&&c.jsx("span",{className:"text-[10px] bg-sushi-gold text-sushi-black px-1.5 rounded font-bold",children:"ADMIN"})]}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-sushi-muted flex flex-col sm:flex-row gap-x-4 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(fn,{className:"w-3 h-3"})," @",m.username]}),m.email&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(F6,{className:"w-3 h-3"})," ",m.email]})]}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[m.permissions.manageFinance&&c.jsx("span",{className:"text-[9px] bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-500 border border-green-200 dark:border-green-500/20 px-1 rounded",children:"Finanzas Full"}),m.permissions.manageHr&&c.jsx("span",{className:"text-[9px] bg-blue-100 dark:bg-blue-500/10 text-blue-600 dark:text-blue-500 px-1 rounded",children:"RRHH"}),m.permissions.manageOps&&c.jsx("span",{className:"text-[9px] bg-orange-100 dark:bg-orange-500/10 text-orange-600 dark:text-orange-500 px-1 rounded",children:"Operaciones"})]})]})]}),m.id!==n.id&&c.jsx("button",{onClick:()=>f(m.id),className:"text-gray-400 dark:text-sushi-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 p-2 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Eliminar usuario",children:c.jsx(En,{className:"w-5 h-5"})})]},m.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 p-8 rounded-xl h-fit shadow-xl",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 dark:border-white/10 pb-4",children:[c.jsx(DI,{className:"w-6 h-6 text-sushi-gold"}),c.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Crear Nuevo Perfil"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Nombre Real"}),c.jsx("input",{type:"text",required:!0,value:r.name,onChange:m=>i({...r,name:m.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:"Ej. Martn Gomez"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Usuario"}),c.jsx("input",{type:"text",required:!0,value:r.username,onChange:m=>i({...r,username:m.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:"mgomez"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted mb-1",children:"Contrasea"}),c.jsx("input",{type:"password",required:!0,value:r.password,onChange:m=>i({...r,password:m.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-gray-900 dark:text-white focus:outline-none focus:border-sushi-gold transition-colors",placeholder:""})]})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-white/10 pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(om,{className:"w-4 h-4 text-sushi-gold"}),c.jsx("label",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider",children:"Matriz de Permisos"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 rounded-lg p-4 border border-gray-200 dark:border-white/5",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2 text-[10px] uppercase font-bold text-gray-500 dark:text-sushi-muted border-b border-gray-200 dark:border-white/5 pb-2",children:[c.jsx("span",{children:"Mdulo"}),c.jsx("span",{className:"text-center",children:"Ver (Lectura)"}),c.jsx("span",{className:"text-center",children:"Gestionar (Total)"})]}),c.jsx(jf,{label:"RRHH",icon:um,viewKey:"viewHr",manageKey:"manageHr",permissions:a,toggle:h}),c.jsx(jf,{label:"Operaciones",icon:Yt,viewKey:"viewOps",manageKey:"manageOps",permissions:a,toggle:h}),c.jsx(jf,{label:"Finanzas",icon:Dr,viewKey:"viewFinance",manageKey:"manageFinance",permissions:a,toggle:h}),c.jsx(jf,{label:"Inventario",icon:Wr,viewKey:"viewInventory",manageKey:"manageInventory",permissions:a,toggle:h})]}),c.jsxs("div",{className:"mt-4 flex items-center justify-between p-3 bg-sushi-gold/10 rounded-lg border border-sushi-gold/30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hl,{className:"w-5 h-5 text-sushi-gold"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase",children:"Super Admin"}),c.jsx("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted",children:"Acceso total + Gestin de Usuarios"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:a.superAdmin,onChange:()=>h("superAdmin"),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sushi-gold"})]})]})]}),c.jsxs("button",{type:"submit",className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover mt-2 shadow-lg shadow-sushi-gold/10 transition-colors flex items-center justify-center gap-2 transform active:scale-95",children:[c.jsx(fi,{className:"w-5 h-5"}),"Registrar Usuario"]})]})]})]})},jf=({label:e,icon:t,viewKey:n,manageKey:r,permissions:i,toggle:a})=>c.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 items-center border-b border-gray-100 dark:border-white/5 last:border-0",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white font-medium",children:[c.jsx(t,{className:"w-4 h-4 text-gray-400"})," ",e]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("input",{type:"checkbox",checked:i[n],onChange:()=>a(n),className:"w-4 h-4 accent-sushi-gold cursor-pointer"})}),c.jsx("div",{className:"flex justify-center",children:c.jsx("input",{type:"checkbox",checked:i[r],onChange:()=>a(r),className:"w-4 h-4 accent-sushi-gold cursor-pointer"})})]}),g5=({posts:e,setPosts:t,currentUser:n,currentMember:r})=>{const[i,a]=N.useState(""),[l,u]=N.useState(""),[f,h]=N.useState(!1),m=!!n,g=n?n.id:r?r.id:"guest",v=_=>{if(_.preventDefault(),!i.trim())return;const A={id:crypto.randomUUID(),author:(n==null?void 0:n.name)||"Admin",authorRole:"Administracin",content:i,imageUrl:l||void 0,date:new Date().toISOString(),likes:[]};t([A,...e]),a(""),u(""),h(!1)},b=_=>{t(e.map(A=>{if(A.id===_){const j=A.likes.includes(g)?A.likes.filter(I=>I!==g):[...A.likes,g];return{...A,likes:j}}return A}))},E=_=>{window.confirm("Borrar esta publicacin?")&&t(e.filter(A=>A.id!==_))},k=_=>{var C;const A=(C=_.target.files)==null?void 0:C[0];if(A){const j=new FileReader;j.onloadend=()=>{u(j.result)},j.readAsDataURL(A)}};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Foro Sushiblack"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Novedades, anuncios y cultura de equipo."})]}),m&&c.jsx("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-lg",children:c.jsx("form",{onSubmit:v,children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-sushi-gold flex items-center justify-center text-sushi-black font-bold",children:c.jsx(Ev,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsx("textarea",{value:i,onChange:_=>a(_.target.value),placeholder:"Qu quieres comunicar al equipo hoy?",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-4 text-gray-900 dark:text-white focus:border-sushi-gold outline-none resize-none min-h-[100px]"}),f&&c.jsxs("div",{className:"animate-fade-in space-y-2",children:[l&&c.jsxs("div",{className:"relative w-full h-48 bg-black/50 rounded-lg overflow-hidden mb-2",children:[c.jsx("img",{src:l,className:"w-full h-full object-cover",alt:"Preview"}),c.jsx("button",{type:"button",onClick:()=>u(""),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full",children:c.jsx(En,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-100 dark:bg-white/5 border border-dashed border-gray-300 dark:border-white/20 rounded-lg p-8 flex flex-col items-center justify-center text-gray-500 dark:text-sushi-muted hover:border-sushi-gold transition-colors",children:[c.jsx(Lk,{className:"w-6 h-6 mb-2"}),c.jsx("span",{className:"text-xs",children:"Subir Imagen (Click aqu)"}),c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k})]})})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:`p-2 rounded-lg transition-colors flex items-center gap-2 text-sm ${f?"bg-sushi-gold/20 text-sushi-gold":"text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[c.jsx(Lk,{className:"w-5 h-5"}),"Imagen"]}),c.jsxs("button",{type:"submit",disabled:!i,className:"bg-sushi-gold text-sushi-black px-6 py-2 rounded-lg font-bold hover:bg-sushi-goldhover disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-sushi-gold/20 flex items-center gap-2",children:[c.jsx(xB,{className:"w-4 h-4"})," Publicar"]})]})]})]})})}),c.jsx("div",{className:"space-y-6",children:e.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-white/[0.02] border border-dashed border-gray-200 dark:border-white/10 rounded-xl",children:[c.jsx(_v,{className:"w-12 h-12 text-gray-300 dark:text-sushi-muted mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted",children:"An no hay publicaciones en el muro."})]}):e.map(_=>{const A=_.likes.includes(g);return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden shadow-md animate-slide-up",children:[c.jsxs("div",{className:"p-4 flex justify-between items-start",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-black dark:bg-white/10 flex items-center justify-center border border-sushi-gold/30",children:c.jsx(Ev,{className:"w-5 h-5 text-sushi-gold"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:_.author}),c.jsx("p",{className:"text-xs text-sushi-gold uppercase tracking-wider",children:_.authorRole}),c.jsx("p",{className:"text-[10px] text-gray-400 dark:text-sushi-muted mt-0.5",children:new Date(_.date).toLocaleDateString("es-AR",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]})]}),m&&c.jsx("button",{onClick:()=>E(_.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:c.jsx(En,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"px-4 pb-2",children:c.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-relaxed",children:_.content})}),_.imageUrl&&c.jsx("div",{className:"mt-2 w-full h-64 md:h-80 bg-black/50 overflow-hidden",children:c.jsx("img",{src:_.imageUrl,className:"w-full h-full object-cover",alt:"Post attachment"})}),c.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-black/20 flex items-center gap-4",children:c.jsxs("button",{onClick:()=>b(_.id),className:`flex items-center gap-2 text-sm font-medium transition-colors ${A?"text-red-500":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(j6,{className:`w-5 h-5 ${A?"fill-red-500":""}`}),_.likes.length," ",(_.likes.length===1,"Me gusta")]})})]},_.id)})})]})},Ir=({icon:e,label:t,value:n})=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/5",children:[c.jsx("div",{className:"p-2 bg-white dark:bg-white/5 rounded-full text-gray-400 dark:text-sushi-muted",children:c.jsx(e,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 dark:text-sushi-muted font-bold",children:t}),c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white break-all",children:n||"-"})]})]}),Uj=({currentView:e,member:t,records:n,absences:r,sanctions:i,tasks:a,setTasks:l,posts:u,setPosts:f,setView:h,setChecklistSnapshots:m,checklistSnapshots:g})=>{const[v,b]=N.useState(!1),[E,k]=N.useState(!1),_=n.filter(V=>V.employeeId===t.id),A=r.filter(V=>V.employeeId===t.id),C=i.filter(V=>V.employeeId===t.id),j=a.filter(V=>V.employeeId===t.id&&V.status==="PENDING"),I=j.length,P=_.filter(V=>!V.paid).reduce((V,D)=>V+D.overtimeAmount,0),O=V=>E?"****":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(V),R=V=>V?E?"****":V:"N/A",[U,H]=N.useState(new Date),G=()=>{const V=new Date(U.getFullYear(),U.getMonth()+1,0).getDate(),D=new Date(U.getFullYear(),U.getMonth(),1).getDay(),oe=D===0?6:D-1;return c.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Lu","Ma","Mi","Ju","Vi","S","Do"].map(de=>c.jsx("div",{className:"text-gray-400 dark:text-sushi-muted text-xs font-bold uppercase text-center mb-2",children:de},de)),Array.from({length:oe}).map((de,z)=>c.jsx("div",{className:"h-20"},`empty-${z}`)),Array.from({length:V}).map((de,z)=>{const Z=z+1,fe=new Date(U.getFullYear(),U.getMonth(),Z).toISOString().split("T")[0],te=_.find(ie=>ie.date===fe),pe=A.find(ie=>ie.date===fe),L=C.find(ie=>ie.date===fe&&(ie.type==="DESCUENTO"||ie.type==="SUSPENSION"));let q="bg-gray-50 dark:bg-white/[0.02] border-gray-100 dark:border-white/5",le="",he="text-gray-400";return te?te.paid?(q="bg-green-50 dark:bg-green-500/10 border-green-200 dark:border-green-500/20",le="Pagado",he="text-green-600 dark:text-green-500"):(q="bg-yellow-50 dark:bg-yellow-500/5 border-yellow-200 dark:border-yellow-500/20",le="Pendiente",he="text-yellow-600 dark:text-sushi-gold"):pe?(q="bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20",le="Falta",he="text-red-500"):L&&(q="bg-purple-50 dark:bg-purple-500/10 border-purple-200 dark:border-purple-500/20",le="Descuento",he="text-purple-500"),c.jsxs("div",{className:`h-20 border rounded-lg p-2 flex flex-col justify-between ${q}`,children:[c.jsx("span",{className:`text-sm font-bold ${he}`,children:Z}),c.jsxs("div",{className:"text-right",children:[te&&te.overtimeAmount>0&&c.jsx("span",{className:`block text-[10px] font-bold ${he}`,children:O(te.overtimeAmount)}),c.jsx("span",{className:`text-[9px] uppercase font-medium ${he}`,children:le})]})]},Z)})]})},$=V=>{m&&g&&m([V,...g])};return e===ve.MEMBER_HOME?c.jsxs("div",{className:"space-y-8 animate-fade-in relative",children:[c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-sushi-dark p-4 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 dark:border-white/10",children:t.photoUrl?c.jsx("img",{src:t.photoUrl,className:"w-full h-full object-cover"}):c.jsx(fn,{className:"w-full h-full p-2 text-gray-300"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-serif text-gray-900 dark:text-white flex items-center gap-2",children:["Hola, ",t.name.split(" ")[0],c.jsx(nc,{role:t.role})]}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted uppercase tracking-wider",children:t.position})]})]}),c.jsxs("div",{className:"flex gap-2 relative",children:[c.jsx("button",{id:"privacy-toggle",onClick:()=>k(!E),className:`p-2 rounded-lg transition-colors border ${E?"bg-sushi-gold/20 text-sushi-gold border-sushi-gold/50":"bg-gray-100 dark:bg-white/5 text-gray-400 dark:text-sushi-muted border-transparent"}`,title:E?"Mostrar datos sensibles":"Ocultar datos sensibles",children:E?c.jsx(bv,{className:"w-6 h-6"}):c.jsx(wv,{className:"w-6 h-6"})}),c.jsxs("button",{onClick:()=>b(!v),className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 transition-colors border border-transparent hover:border-gray-200 dark:hover:border-white/5",children:[c.jsx(xv,{className:"w-6 h-6 text-gray-400 dark:text-sushi-muted"}),I>0&&c.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center text-[9px] font-bold text-white border-2 border-white dark:border-sushi-dark animate-pulse",children:I})]}),v&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-sushi-dark rounded-xl shadow-2xl border border-gray-200 dark:border-white/10 z-50 overflow-hidden animate-fade-in",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-white/10 flex justify-between items-center bg-gray-50 dark:bg-black/20",children:[c.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-sm flex items-center gap-2",children:[c.jsx(xv,{className:"w-4 h-4 text-sushi-gold"})," Notificaciones"]}),c.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:c.jsx(eo,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:I===0?c.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-sushi-muted text-sm flex flex-col items-center gap-2",children:[c.jsx(Xr,{className:"w-8 h-8 text-green-500/50"}),c.jsx("p",{children:"Ests al da!"})]}):c.jsx("div",{className:"space-y-2",children:j.map(V=>c.jsxs("div",{className:"p-3 bg-white dark:bg-white/5 rounded-lg border border-gray-100 dark:border-white/5 hover:border-sushi-gold/30 transition-colors",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:V.description}),c.jsx("span",{className:"text-[10px] bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-500 px-1.5 py-0.5 rounded font-bold mt-1 inline-block",children:"PENDIENTE"})]},V.id))})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(Lx,{tasks:a,setTasks:l,employeeId:t.id,onFinalize:$,userName:t.name})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>h&&h(ve.INVENTORY),className:"w-full bg-gradient-to-br from-gray-900 to-black dark:from-white/5 dark:to-white/[0.02] border border-gray-200 dark:border-white/10 p-6 rounded-xl text-left hover:border-sushi-gold/50 hover:shadow-lg transition-all group relative overflow-hidden",children:[c.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4",children:c.jsx(Wr,{className:"w-24 h-24 text-white"})}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"p-3 bg-sushi-gold rounded-lg w-fit mb-3 text-sushi-black",children:c.jsx(Wr,{className:"w-6 h-6"})}),c.jsx("h3",{className:"text-white font-bold text-lg group-hover:text-sushi-gold transition-colors",children:"Inventario"}),c.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Registrar Stock Inicial/Final"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[c.jsxs("h3",{className:"font-serif text-lg text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(fn,{className:"w-5 h-5 text-sushi-gold"}),"Mi Perfil Rpido"]}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-white/5",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Rango"}),c.jsx(nc,{role:t.role})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-white/5",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Horario"}),c.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[t.scheduleStart," - ",t.scheduleEnd]})]}),c.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-white/5",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Sueldo Base"}),c.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:O(t.monthlySalary)})]})]})]})]})]}),c.jsx("div",{className:`transition-all duration-300 ${E?"opacity-50 grayscale":"opacity-100"}`,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-xs uppercase font-bold",children:"Pendiente de Cobro"}),c.jsx("h3",{className:"text-2xl font-mono font-bold text-gray-900 dark:text-white mt-1",children:O(P)})]}),c.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-500/10 text-yellow-600 dark:text-sushi-gold rounded-lg",children:c.jsx(Dr,{className:"w-6 h-6"})})]})}),c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm md:col-span-2 flex flex-col justify-between",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-serif text-lg text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(hr,{className:"w-5 h-5 text-sushi-gold"}),"Prximo Pago"]}),t.nextPaymentDate?c.jsxs("div",{className:"mt-3",children:[c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:new Date(t.nextPaymentDate).toLocaleDateString("es-AR",{day:"numeric",month:"long"})}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mt-1",children:["Modalidad: ",c.jsx("span",{className:"font-bold text-sushi-gold",children:t.nextPaymentMethod})]})]}):c.jsx("p",{className:"text-gray-400 dark:text-sushi-muted mt-2 italic",children:"Fecha an no asignada."})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted font-bold",children:"Cuenta Destino"}),c.jsx("p",{className:"font-mono text-gray-900 dark:text-white mt-1",children:R(t.bankName)}),c.jsx("p",{className:"text-xs text-gray-400 dark:text-sushi-muted font-mono",children:t.cbu?E?"****":`*${t.cbu.slice(-4)}`:"***"})]})]})})]})})]}):e===ve.MEMBER_FORUM&&u&&f?c.jsx(g5,{posts:u,setPosts:f,currentUser:null,currentMember:t}):e===ve.MEMBER_TASKS?c.jsx("div",{className:"max-w-2xl mx-auto pt-10 animate-fade-in",children:c.jsx(Lx,{tasks:a,setTasks:l,employeeId:t.id,onFinalize:$,userName:t.name})}):e===ve.MEMBER_CALENDAR?c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"font-serif text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Fi,{className:"w-5 h-5 text-sushi-gold"}),"Historial Visual"]}),c.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-black/20 p-2 rounded-lg",children:[c.jsx("button",{onClick:()=>H(new Date(U.getFullYear(),U.getMonth()-1,1)),className:"p-1 hover:bg-gray-200 dark:hover:bg-white/10 rounded",children:c.jsx(tb,{className:"w-5 h-5 text-gray-600 dark:text-white"})}),c.jsx("span",{className:"font-bold text-gray-900 dark:text-white w-32 text-center capitalize",children:U.toLocaleDateString("es-AR",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>H(new Date(U.getFullYear(),U.getMonth()+1,1)),className:"p-1 hover:bg-gray-200 dark:hover:bg-white/10 rounded",children:c.jsx(nb,{className:"w-5 h-5 text-gray-600 dark:text-white"})})]})]}),G(),c.jsxs("div",{className:"mt-6 flex gap-4 text-xs justify-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Pagado"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-sushi-gold rounded-full"}),c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Pendiente"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Falta"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Descuento"})]})]})]}):e===ve.MEMBER_FILE?c.jsxs("div",{className:"space-y-8 animate-fade-in relative",children:[c.jsx("button",{onClick:()=>k(!E),className:`absolute top-4 right-4 z-10 p-2 rounded-lg border ${E?"bg-sushi-gold/20 text-sushi-gold border-sushi-gold":"bg-gray-100 dark:bg-white/5 border-transparent text-gray-500"}`,children:E?c.jsx(bv,{className:"w-5 h-5"}):c.jsx(wv,{className:"w-5 h-5"})}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-8 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-gray-200 dark:border-white/10 pb-6",children:[c.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-sushi-gold/20",children:t.photoUrl?c.jsx("img",{src:t.photoUrl,className:"w-full h-full object-cover"}):c.jsx(fn,{className:"w-full h-full p-6 text-gray-300 dark:text-sushi-muted"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-2",children:[t.name,c.jsx(nc,{role:t.role})]}),c.jsx("p",{className:"text-sushi-gold font-bold uppercase tracking-widest",children:t.position})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2",children:"Informacin Personal"}),c.jsx(Ir,{icon:fn,label:"DNI",value:R(t.dni)}),c.jsx(Ir,{icon:Ls,label:"CUIL",value:R(t.cuil)}),c.jsx(Ir,{icon:ib,label:"Telfono",value:R(t.phone)}),c.jsx(Ir,{icon:II,label:"Direccin",value:R(t.address)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2",children:"Datos Bancarios"}),c.jsx(Ir,{icon:Zf,label:"Banco",value:R(t.bankName)}),c.jsx(Ir,{icon:hr,label:"CBU / CVU",value:R(t.cbu)}),c.jsx(Ir,{icon:Ls,label:"Alias",value:R(t.alias)}),c.jsx(Ir,{icon:hr,label:"Nro Cuenta",value:R(t.bankAccountNumber)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white border-b border-gray-200 dark:border-white/10 pb-2",children:"Contrato"}),c.jsx(Ir,{icon:Fi,label:"Fecha Ingreso",value:t.startDate}),c.jsx(Ir,{icon:Xr,label:"Modalidad",value:t.paymentModality}),c.jsx(Ir,{icon:_c,label:"Entrevistador",value:t.interviewer}),c.jsx(Ir,{icon:Ga,label:"Sueldo Base",value:O(t.monthlySalary)})]})]})]}),c.jsx(p5,{employees:[t],records:_,sanctions:C})]}):null},$le=({employees:e,setEmployees:t,transactions:n=[],setTransactions:r,currentUser:i})=>{const[a,l]=N.useState("ACTIVE"),u=e.filter(b=>b.active),f=(b,E,k)=>{t(e.map(_=>_.id===b?{..._,[E]:k}:_))},h=b=>{if(!b)return null;const E=new Date;E.setHours(0,0,0,0);const k=new Date(b);k.setHours(0,0,0,0);const _=k.getTime()-E.getTime();return Math.ceil(_/(1e3*60*60*24))},m=(b,E)=>{if(E.preventDefault(),E.stopPropagation(),!r){console.error("setTransactions is missing in PayrollManagement"),alert("Error del sistema: No se puede conectar con la Billetera. Contacte a soporte.");return}if(!i){alert("Debes estar logueado para realizar pagos.");return}if(window.confirm(`Confirmar pago de nmina a ${b.name} por $${b.monthlySalary}? Esto se descontar de la Billetera Global.`)){const k={id:crypto.randomUUID(),date:new Date().toISOString(),time:new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),amount:b.monthlySalary,type:"EXPENSE",category:"Sueldos",description:`Pago Nmina: ${b.name}`,createdBy:i.name,method:b.nextPaymentMethod||"TRANSFERENCIA"};r(_=>[k,..._||[]]),t(_=>_.map(A=>A.id===b.id?{...A,lastPaymentDate:new Date().toISOString()}:A)),Ve("SUCCESS")}},g=b=>{if(!b)return!1;const E=new Date(b),k=new Date;return E.getMonth()===k.getMonth()&&E.getFullYear()===k.getFullYear()},v=b=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(b);return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white",children:"Pagos y Nmina"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Agenda y gestiona las fechas de cobro del personal."})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark px-4 py-2 rounded-lg border border-gray-200 dark:border-white/10 flex items-center gap-3 shadow-sm",children:[c.jsx("div",{className:"p-2 bg-sushi-gold/20 text-yellow-700 dark:text-sushi-gold rounded-full",children:c.jsx(Hs,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase font-bold text-gray-500 dark:text-sushi-muted",children:"Total Nmina (Est.)"}),c.jsx("p",{className:"text-lg font-mono font-bold text-gray-900 dark:text-white",children:v(u.reduce((b,E)=>b+E.monthlySalary,0))})]})]}),c.jsxs("div",{className:"flex bg-gray-100 dark:bg-white/5 p-1 rounded-lg self-center",children:[c.jsx("button",{onClick:()=>{l("ACTIVE"),Ve("CLICK")},className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${a==="ACTIVE"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted"}`,children:"Activos"}),c.jsx("button",{onClick:()=>{l("HISTORY"),Ve("CLICK")},className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${a==="HISTORY"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted"}`,children:"Historial Pagos"})]})]})]}),a==="ACTIVE"?c.jsx("div",{className:"bg-white dark:bg-sushi-dark rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden shadow-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 border-b border-gray-200 dark:border-white/5 text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted",children:[c.jsx("th",{className:"p-4",children:"Empleado"}),c.jsx("th",{className:"p-4",children:"Modalidad"}),c.jsx("th",{className:"p-4",children:"Prximo Pago"}),c.jsx("th",{className:"p-4",children:"Monto"}),c.jsx("th",{className:"p-4",children:"Mtodo"}),c.jsx("th",{className:"p-4",children:"Estado / Accin"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:[u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 dark:text-sushi-muted italic",children:"No hay empleados activos para gestionar nmina."})}),u.map(b=>{const E=h(b.nextPaymentDate),k=g(b.lastPaymentDate);return c.jsxs("tr",{className:`transition-colors group ${k?"bg-green-50/50 dark:bg-green-900/10 opacity-60":"hover:bg-gray-50 dark:hover:bg-white/[0.02]"}`,children:[c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-white/10 overflow-hidden",children:b.photoUrl?c.jsx("img",{src:b.photoUrl,className:`w-full h-full object-cover ${k?"grayscale":""}`}):null}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold text-gray-900 dark:text-white text-sm ${k?"line-through decoration-green-500":""}`,children:b.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:b.position})]})]})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"text-xs font-medium bg-gray-100 dark:bg-white/10 px-2 py-1 rounded text-gray-600 dark:text-sushi-muted border border-gray-200 dark:border-white/5",children:b.paymentModality})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"relative max-w-[140px]",children:[c.jsx(Fi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"date",value:b.nextPaymentDate||"",onChange:_=>f(b.id,"nextPaymentDate",_.target.value),className:"w-full bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-2 pl-9 pr-2 text-sm text-gray-900 dark:text-white focus:border-sushi-gold outline-none transition-colors [color-scheme:light] dark:[color-scheme:dark]",disabled:k})]})}),c.jsx("td",{className:"p-4 font-mono font-bold text-gray-900 dark:text-white",children:v(b.monthlySalary)}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"relative max-w-[140px]",children:[b.nextPaymentMethod==="EFECTIVO"?c.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}):c.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-500"}),c.jsxs("select",{value:b.nextPaymentMethod||"TRANSFERENCIA",onChange:_=>f(b.id,"nextPaymentMethod",_.target.value),className:"w-full bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-2 pl-9 pr-2 text-sm text-gray-900 dark:text-white focus:border-sushi-gold outline-none transition-colors appearance-none",disabled:k,children:[c.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia"}),c.jsx("option",{value:"EFECTIVO",children:"Efectivo"})]})]})}),c.jsx("td",{className:"p-4",children:k?c.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600 dark:text-green-500 bg-green-100 dark:bg-green-500/10 px-3 py-1.5 rounded w-fit border border-green-200 dark:border-green-500/20",children:[c.jsx(fi,{className:"w-3 h-3"})," Abonado"]}):c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E!==null&&c.jsx("span",{className:`text-xs font-medium ${E<0?"text-red-500":"text-gray-500"}`,children:E<0?`Vencido ${Math.abs(E)}d`:`${E} das`}),c.jsx("button",{type:"button",onClick:_=>m(b,_),className:"bg-sushi-gold text-sushi-black px-3 py-1.5 rounded text-xs font-bold hover:bg-sushi-goldhover shadow-sm transform active:scale-95 transition-all z-10 relative",children:"Abonar"})]})})]},b.id)})]})]})})}):c.jsxs("div",{className:"bg-white dark:bg-sushi-dark rounded-xl border border-gray-200 dark:border-white/5 overflow-hidden shadow-lg p-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(fl,{className:"w-5 h-5 text-sushi-gold"})," Historial de Pagos Realizados"]}),c.jsx("div",{className:"space-y-2",children:n.filter(b=>b.type==="EXPENSE"&&(b.category==="Sueldos"||b.category==="Personal")).length===0?c.jsx("p",{className:"text-gray-400 italic text-sm text-center py-8",children:"No hay registros histricos de pagos de sueldo."}):n.filter(b=>b.type==="EXPENSE"&&(b.category==="Sueldos"||b.category==="Personal")).map(b=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-100 dark:border-white/5",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-sm",children:b.description}),c.jsxs("div",{className:"flex gap-2 text-xs text-gray-500 dark:text-sushi-muted",children:[c.jsx("span",{children:new Date(b.date).toLocaleDateString()}),c.jsx("span",{children:""}),c.jsx("span",{children:b.time}),c.jsx("span",{children:""}),c.jsx("span",{className:"uppercase",children:b.method})]})]}),c.jsxs("p",{className:"font-mono font-bold text-red-500 dark:text-red-400",children:["-",v(b.amount)]})]},b.id))})]})]})},qle=({adminTasks:e,setAdminTasks:t,currentUser:n,allUsers:r})=>{const[i,a]=N.useState(!1),[l,u]=N.useState({title:"",description:"",assignedTo:n.id,priority:"MEDIUM",estimatedTime:"",status:"PENDING"}),f=r.filter(E=>E.permissions.superAdmin||E.role==="ADMIN"||E.role==="MANAGER"),h=E=>{if(E.preventDefault(),!l.title)return;const k={id:crypto.randomUUID(),title:l.title||"",description:l.description||"",assignedTo:l.assignedTo||n.id,createdBy:n.id,status:"PENDING",priority:l.priority,estimatedTime:l.estimatedTime||"N/A",dueDate:l.dueDate};t([...e,k]),a(!1),u({title:"",description:"",assignedTo:n.id,priority:"MEDIUM",estimatedTime:"",status:"PENDING"})},m=(E,k,_=!1)=>{t(e.map(A=>{if(A.id===E){const C={status:k};return k==="REVIEW"&&(C.completedBy=n.id),k==="DONE"&&_&&(C.verifiedBy=n.id,C.verifiedAt=new Date().toISOString()),{...A,...C}}return A}))},g=E=>{window.confirm("Eliminar tarea administrativa?")&&t(e.filter(k=>k.id!==E))},v=E=>E==="HIGH"?"text-red-500 bg-red-100 dark:bg-red-500/20":E==="MEDIUM"?"text-yellow-600 bg-yellow-100 dark:bg-yellow-500/20":"text-blue-500 bg-blue-100 dark:bg-blue-500/20",b=(E,k)=>{const _=e.filter(A=>A.status===E);return c.jsxs("div",{className:"flex-1 min-w-[300px] bg-gray-50 dark:bg-black/20 p-4 rounded-xl border border-gray-200 dark:border-white/5 h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white uppercase text-xs tracking-wider",children:k}),c.jsx("span",{className:"bg-white dark:bg-white/10 px-2 py-0.5 rounded text-xs font-bold",children:_.length})]}),c.jsx("div",{className:"space-y-3 overflow-y-auto flex-1 pr-1",children:_.map(A=>{const C=r.find(P=>P.id===A.assignedTo),j=r.find(P=>P.id===A.completedBy);A.assignedTo,n.id;const I=n.id!==A.completedBy;return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-4 rounded-lg border border-gray-200 dark:border-white/5 shadow-sm hover:border-sushi-gold/30 transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${v(A.priority)}`,children:A.priority==="HIGH"?"ALTA":A.priority==="MEDIUM"?"MEDIA":"BAJA"}),c.jsx("button",{onClick:P=>{P.stopPropagation(),g(A.id)},className:"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:c.jsx(En,{className:"w-4 h-4"})})]}),c.jsx("h5",{className:"font-bold text-gray-900 dark:text-white text-sm leading-tight mb-1",children:A.title}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted line-clamp-2 mb-3",children:A.description}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 dark:text-sushi-muted border-t border-gray-100 dark:border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Yt,{className:"w-3 h-3"}),A.estimatedTime]}),c.jsxs("div",{className:"flex items-center gap-1",title:`Asignado a: ${C==null?void 0:C.name}`,children:[c.jsx(fn,{className:"w-3 h-3"}),C==null?void 0:C.username]})]}),c.jsxs("div",{className:"flex flex-col gap-2 mt-3 pt-2",children:[E==="PENDING"&&c.jsxs("button",{onClick:()=>m(A.id,"IN_PROGRESS"),className:"w-full text-xs bg-blue-50 dark:bg-blue-500/10 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-500/20 py-1.5 rounded flex items-center justify-center gap-1",children:["Iniciar ",c.jsx(dl,{className:"w-3 h-3"})]}),E==="IN_PROGRESS"&&c.jsxs("button",{onClick:()=>m(A.id,"REVIEW"),className:"w-full text-xs bg-yellow-50 dark:bg-yellow-500/10 text-yellow-600 hover:bg-yellow-100 dark:hover:bg-yellow-500/20 py-1.5 rounded flex items-center justify-center gap-1",children:["Solicitar Revisin ",c.jsx(Ev,{className:"w-3 h-3"})]}),E==="REVIEW"&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-[10px] text-gray-400 italic text-center",children:["Realizado por: ",(j==null?void 0:j.name)||"Usuario"]}),I?c.jsxs("button",{onClick:()=>m(A.id,"DONE",!0),className:"w-full text-xs bg-green-50 dark:bg-green-500/10 text-green-600 hover:bg-green-100 dark:hover:bg-green-500/20 py-1.5 rounded flex items-center justify-center gap-1 font-bold",children:["Verificar y Cerrar ",c.jsx(Xr,{className:"w-3 h-3"})]}):c.jsx("button",{disabled:!0,className:"w-full text-xs bg-gray-100 dark:bg-white/5 text-gray-400 py-1.5 rounded flex items-center justify-center gap-1 cursor-not-allowed",children:"Esperando Verificacin..."})]})]})]},A.id)})})]})};return c.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(AI,{className:"w-8 h-8 text-sushi-gold"}),"Central Administrativa"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Sincronizacin de tareas y objetivos para el equipo de gestin."})]}),c.jsxs("button",{onClick:()=>a(!0),className:"bg-sushi-gold text-sushi-black px-4 py-2 rounded-lg font-bold hover:bg-sushi-goldhover transition-colors flex items-center gap-2 shadow-lg shadow-sushi-gold/20",children:[c.jsx(pr,{className:"w-5 h-5"})," Nueva Tarea"]})]}),c.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-4 flex-1",children:[b("PENDING","Pendientes"),b("IN_PROGRESS","En Progreso"),b("REVIEW","Revisin (Doble Check)"),b("DONE","Completado")]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-md rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mb-4",children:"Nueva Tarea Administrativa"}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:"Ttulo de la tarea",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",value:l.title,onChange:E=>u({...l,title:E.target.value}),required:!0}),c.jsx("textarea",{placeholder:"Descripcin detallada...",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold resize-none h-24",value:l.description,onChange:E=>u({...l,description:E.target.value})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-1 block",children:"Asignar a"}),c.jsx("select",{className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm text-gray-900 dark:text-white outline-none",value:l.assignedTo,onChange:E=>u({...l,assignedTo:E.target.value}),children:f.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-1 block",children:"Prioridad"}),c.jsxs("select",{className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm text-gray-900 dark:text-white outline-none",value:l.priority,onChange:E=>u({...l,priority:E.target.value}),children:[c.jsx("option",{value:"LOW",children:"Baja"}),c.jsx("option",{value:"MEDIUM",children:"Media"}),c.jsx("option",{value:"HIGH",children:"Alta"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-1 block",children:"Tiempo Est."}),c.jsx("input",{type:"text",placeholder:"Ej. 2 horas",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm text-gray-900 dark:text-white outline-none focus:border-sushi-gold",value:l.estimatedTime,onChange:E=>u({...l,estimatedTime:E.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-1 block",children:"Fecha Lmite"}),c.jsx("input",{type:"date",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm text-gray-900 dark:text-white outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]",value:l.dueDate,onChange:E=>u({...l,dueDate:E.target.value})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-2 rounded-lg hover:bg-sushi-goldhover",children:"Crear Tarea"})]})]})]})})]})},zle=({title:e,description:t})=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 animate-fade-in relative overflow-hidden rounded-3xl border border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-black/20",children:[c.jsx("div",{className:"absolute inset-0 opacity-10 dark:opacity-5 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-sushi-gold via-transparent to-transparent"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-lg",children:[c.jsx("div",{className:"w-24 h-24 bg-sushi-gold/20 rounded-full flex items-center justify-center mb-6 animate-pulse",children:c.jsx(k6,{className:"w-12 h-12 text-sushi-gold"})}),c.jsx("h2",{className:"text-4xl font-serif font-bold text-gray-900 dark:text-white mb-4",children:e}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-sushi-muted mb-8 leading-relaxed",children:t}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark px-4 py-2 rounded-lg border border-gray-200 dark:border-white/10 flex items-center gap-2 shadow-sm",children:[c.jsx(A6,{className:"w-5 h-5 text-yellow-500"}),c.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"En Desarrollo"})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark px-4 py-2 rounded-lg border border-gray-200 dark:border-white/10 flex items-center gap-2 shadow-sm",children:[c.jsx(Va,{className:"w-5 h-5 text-purple-500"}),c.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:"Prximamente"})]})]})]})]}),Bj=({items:e,setItems:t,sessions:n,setSessions:r,userName:i})=>{const[a,l]=N.useState("SHIFT"),[u,f]=N.useState(null),[h,m]=N.useState(!1),[g,v]=N.useState(""),[b,E]=N.useState("Kg"),[k,_]=N.useState({}),[A,C]=N.useState(!1),[j,I]=N.useState(null),[P,O]=N.useState(""),[R,U]=N.useState(null),[H,G]=N.useState(null);N.useEffect(()=>{const te=n.find(pe=>pe.status==="OPEN");te&&f(te)},[n]);const $=te=>{I(te),O(new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})),C(!0)},V=te=>{const pe=te?new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):P;j==="START"?D(pe):oe(pe),C(!1),I(null)},D=te=>{const pe={id:crypto.randomUUID(),date:new Date().toISOString(),status:"OPEN",openedBy:i,startTime:te,data:e.map(L=>({itemId:L.id,initial:isNaN(k[L.id])?0:k[L.id]||0}))};r([pe,...n]),f(pe),_({})},oe=te=>{if(!u)return;const pe={...u,status:"CLOSED",closedBy:i,endTime:te,data:u.data.map(L=>{const q=isNaN(k[L.itemId])?0:k[L.itemId]||0;return{...L,final:q,consumption:L.initial-q}})};r(n.map(L=>L.id===u.id?pe:L)),f(null),_({}),l("HISTORY")},de=te=>{if(te.preventDefault(),!g)return;const pe={id:crypto.randomUUID(),name:g,unit:b};t([...e,pe]),v(""),m(!1)},z=te=>{window.confirm("Eliminar este tem del inventario?")&&t(e.filter(pe=>pe.id!==te))},Z=async te=>{U(te.id),G(null);const pe=await Ole(te,e);G(pe),U(null)},fe=(te,pe)=>{if(pe===""){const q={...k};delete q[te],_(q);return}const L=parseFloat(pe);_({...k,[te]:L})};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Wr,{className:"w-8 h-8 text-sushi-gold"}),"Inventario de Cocina"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Control de stock inicial y final por turno."})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>l("SHIFT"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${a==="SHIFT"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(_I,{className:"w-4 h-4"}),"Turno Actual"]}),c.jsxs("button",{onClick:()=>l("HISTORY"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${a==="HISTORY"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(fl,{className:"w-4 h-4"}),"Reportes"]})]})]}),a==="SHIFT"&&c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u?"Cierre de Servicio (Final)":"Apertura de Servicio (Inicial)"}),c.jsx("button",{onClick:()=>m(!h),className:"text-xs bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 px-3 py-1.5 rounded-lg transition-colors",children:"+ Item Personalizado"})]}),h&&c.jsxs("form",{onSubmit:de,className:"mb-6 p-4 bg-gray-50 dark:bg-black/20 rounded-lg flex gap-3 items-end border border-gray-200 dark:border-white/5 animate-slide-up",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Nombre Insumo"}),c.jsx("input",{value:g,onChange:te=>v(te.target.value),className:"w-full p-2 rounded bg-white dark:bg-black/30 border border-gray-300 dark:border-white/10 text-sm outline-none focus:border-sushi-gold",placeholder:"Ej. Atn Rojo"})]}),c.jsxs("div",{className:"w-24",children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Unidad"}),c.jsxs("select",{value:b,onChange:te=>E(te.target.value),className:"w-full p-2 rounded bg-white dark:bg-black/30 border border-gray-300 dark:border-white/10 text-sm outline-none",children:[c.jsx("option",{value:"Kg",children:"Kg"}),c.jsx("option",{value:"Un",children:"Unidad"}),c.jsx("option",{value:"Lts",children:"Litros"}),c.jsx("option",{value:"Paq",children:"Paquete"})]})]}),c.jsx("button",{type:"submit",className:"bg-sushi-gold text-sushi-black p-2 rounded hover:bg-sushi-goldhover",children:c.jsx(pr,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"space-y-4",children:e.map(te=>c.jsxs("div",{className:"flex items-center gap-4 py-2 border-b border-gray-100 dark:border-white/5 last:border-0",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:te.name}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted",children:["Unidad: ",te.unit]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",value:k[te.id]===void 0?"":k[te.id],onChange:pe=>fe(te.id,pe.target.value),placeholder:"0",className:"w-24 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg py-2 px-3 text-right font-mono text-gray-900 dark:text-white focus:border-sushi-gold outline-none"}),c.jsx("span",{className:"text-sm text-gray-400 w-8",children:te.unit}),c.jsx("button",{onClick:()=>z(te.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:c.jsx(En,{className:"w-4 h-4"})})]})]},te.id))}),c.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200 dark:border-white/10",children:u?c.jsxs("button",{onClick:()=>$("END"),className:"w-full bg-red-600 text-white font-bold py-3 rounded-xl hover:bg-red-700 transition-colors shadow-lg shadow-red-600/20 flex items-center justify-center gap-2",children:[c.jsx(ab,{className:"w-5 h-5"}),"Cerrar Turno y Calcular Consumo"]}):c.jsxs("button",{onClick:()=>$("START"),className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-xl hover:bg-sushi-goldhover transition-colors shadow-lg shadow-sushi-gold/20 flex items-center justify-center gap-2",children:[c.jsx(dl,{className:"w-5 h-5"}),"Iniciar Turno (Stock Apertura)"]})})]}),a==="HISTORY"&&c.jsxs("div",{className:"space-y-6",children:[n.filter(te=>te.status==="CLOSED").length===0&&c.jsx("div",{className:"p-8 text-center text-gray-400 dark:text-sushi-muted italic bg-white dark:bg-sushi-dark rounded-xl border border-gray-200 dark:border-white/5",children:"No hay reportes cerrados an."}),n.filter(te=>te.status==="CLOSED").map(te=>c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-4 border-b border-gray-200 dark:border-white/5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Sv,{className:"w-5 h-5 text-sushi-gold"}),"Reporte de Consumo: ",new Date(te.date).toLocaleDateString("es-AR")]}),c.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-500 dark:text-sushi-muted",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Yt,{className:"w-3 h-3"})," Apertura: ",te.startTime," (",te.openedBy,")"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Yt,{className:"w-3 h-3"})," Cierre: ",te.endTime," (",te.closedBy,")"]})]})]}),c.jsxs("button",{onClick:()=>Z(te),disabled:!!R,className:"bg-white dark:bg-white/10 border border-gray-200 dark:border-white/10 hover:border-sushi-gold px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 transition-all shadow-sm",children:[R===te.id?c.jsx(jI,{className:"w-4 h-4 animate-spin"}):c.jsx(Va,{className:"w-4 h-4 text-sushi-gold"}),"Redactar Informe Email"]})]}),H&&R===null&&c.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-sushi-gold/5 border-b border-yellow-100 dark:border-sushi-gold/10 relative",children:[c.jsx("h4",{className:"text-xs font-bold uppercase text-yellow-700 dark:text-sushi-gold mb-2",children:"Borrador Generado"}),c.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 dark:text-sushi-text font-mono bg-white dark:bg-black/30 p-3 rounded border border-gray-200 dark:border-white/5 mb-2",children:H}),c.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(H),G(null),alert("Copiado al portapapeles")},className:"text-xs bg-sushi-gold text-sushi-black px-3 py-1 rounded font-bold flex items-center gap-1",children:[c.jsx(l6,{className:"w-3 h-3"})," Copiar"]}),c.jsx("button",{onClick:()=>G(null),className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500",children:c.jsx(En,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:te.data.map(pe=>{var q;const L=e.find(le=>le.id===pe.itemId);return L?c.jsxs("div",{className:"bg-gray-50 dark:bg-white/[0.02] p-2 rounded border border-gray-100 dark:border-white/5",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted uppercase",children:L.name}),c.jsxs("p",{className:"font-mono font-bold text-gray-900 dark:text-white",children:["-",(q=pe.consumption)==null?void 0:q.toFixed(1)," ",c.jsx("span",{className:"text-xs font-normal",children:L.unit})]}),c.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mt-1",children:[c.jsxs("span",{children:["In: ",pe.initial]}),c.jsxs("span",{children:["Fin: ",pe.final]})]})]},pe.itemId):null})})]},te.id))]}),A&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-xs rounded-xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Yt,{className:"w-6 h-6"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:j==="START"?"Horario de Apertura":"Horario de Cierre"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted mb-4",children:"Qu hora deseas registrar para este reporte?"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>V(!0),className:"w-full py-3 bg-sushi-gold text-sushi-black font-bold rounded-lg hover:bg-sushi-goldhover transition-colors flex items-center justify-center gap-2",children:[c.jsx(fi,{className:"w-4 h-4"})," Ahora Mismo"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200 dark:border-white/10"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-white dark:bg-sushi-dark px-2 text-gray-400",children:"O manual"})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"time",value:P,onChange:te=>O(te.target.value),className:"flex-1 bg-gray-100 dark:bg-black/30 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-2 text-center text-gray-900 dark:text-white focus:border-sushi-gold outline-none [color-scheme:light] dark:[color-scheme:dark]"}),c.jsx("button",{onClick:()=>V(!1),className:"bg-gray-200 dark:bg-white/10 hover:bg-gray-300 dark:hover:bg-white/20 text-gray-900 dark:text-white px-4 rounded-lg font-bold",children:"OK"})]})]}),c.jsx("button",{onClick:()=>C(!1),className:"mt-4 text-xs text-gray-400 hover:text-gray-900 dark:hover:text-white underline",children:"Cancelar"})]})})]})},$j=({shifts:e,setShifts:t,userName:n})=>{const[r,i]=N.useState("SHIFT"),[a,l]=N.useState(null),[u,f]=N.useState(!1),[h,m]=N.useState(null),[g,v]=N.useState(""),[b,E]=N.useState("EXPENSE"),[k,_]=N.useState("CASH"),[A,C]=N.useState("GASTOS_VARIOS"),[j,I]=N.useState(""),[P,O]=N.useState(""),[R,U]=N.useState(""),[H,G]=N.useState(""),[$,V]=N.useState(""),[D,oe]=N.useState(""),[de,z]=N.useState("");N.useEffect(()=>{const ie=e.find(ye=>ye.status==="OPEN");l(ie||null)},[e]);const Z=ie=>{m(ie),v(new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})),f(!0)},fe=ie=>{const ye=ie?new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):g;h==="OPEN"&&te(ye),h==="CLOSE"&&L(ye),h==="TRANSACTION"&&pe(ye),f(!1),m(null)},te=ie=>{const ye=parseFloat(R)||0,ge={id:crypto.randomUUID(),date:new Date().toISOString(),status:"OPEN",openedBy:n,openTime:ie,initialAmount:ye,transactions:[]};t([ge,...e]),U("")},pe=ie=>{if(!a)return;const ye=parseFloat(j)||0;if(ye<=0)return;const ge={id:crypto.randomUUID(),type:b,method:k,category:A,amount:ye,description:P,time:ie,createdBy:n},Ie={...a,transactions:[ge,...a.transactions]};t(e.map(re=>re.id===a.id?Ie:re)),I(""),O(""),C("GASTOS_VARIOS")},L=ie=>{if(!a)return;const ye=parseFloat(H)||0,ge=parseFloat($)||0,Ie=parseInt(D)||0,re=parseInt(de)||0,Te={...a,status:"CLOSED",closedBy:n,closeTime:ie,finalCash:ye,finalTransfer:ge,ordersFudo:Ie,ordersPedidosYa:re};t(e.map(Q=>Q.id===a.id?Te:Q)),G(""),V(""),oe(""),z(""),i("HISTORY")},q=ie=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(ie),le=()=>{if(!a)return 0;const ie=a.transactions.filter(ge=>ge.type==="INCOME"&&ge.method==="CASH").reduce((ge,Ie)=>ge+Ie.amount,0),ye=a.transactions.filter(ge=>ge.type==="EXPENSE"&&ge.method==="CASH").reduce((ge,Ie)=>ge+Ie.amount,0);return a.initialAmount+ie-ye},he=()=>{if(!a)return 0;const ie=a.transactions.filter(ge=>ge.type==="INCOME"&&ge.method==="TRANSFER").reduce((ge,Ie)=>ge+Ie.amount,0),ye=a.transactions.filter(ge=>ge.type==="EXPENSE"&&ge.method==="TRANSFER").reduce((ge,Ie)=>ge+Ie.amount,0);return ie-ye};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Dr,{className:"w-8 h-8 text-sushi-gold"}),"Caja y Movimientos"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Control de apertura, cierre y flujo de caja."})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>i("SHIFT"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${r==="SHIFT"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Zs,{className:"w-4 h-4"}),"Caja Actual"]}),c.jsxs("button",{onClick:()=>i("HISTORY"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${r==="HISTORY"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(fl,{className:"w-4 h-4"}),"Historial"]})]})]}),r==="SHIFT"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:a?c.jsxs("div",{className:"h-full flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Caja Abierta"}),c.jsxs("div",{className:"px-3 py-1 bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-500 text-xs font-bold rounded-full border border-green-200 dark:border-green-500/20 flex items-center gap-1 animate-pulse",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," ACTIVA"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-black/20 rounded-lg",children:[c.jsx("span",{className:"text-sm text-gray-500 dark:text-sushi-muted",children:"Fondo Inicial (Efec.)"}),c.jsx("span",{className:"font-mono font-bold text-gray-900 dark:text-white",children:q(a.initialAmount)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-100 dark:border-white/5",children:[c.jsx("span",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted block mb-1",children:"Efectivo Cajn"}),c.jsx("span",{className:"font-mono font-bold text-xl text-sushi-gold",children:q(le())})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-100 dark:border-white/5",children:[c.jsx("span",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted block mb-1",children:"Digital / Transf."}),c.jsx("span",{className:"font-mono font-bold text-xl text-blue-500",children:q(he())})]})]})]})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-white/10",children:[c.jsx("h4",{className:"text-xs font-bold uppercase text-gray-500 dark:text-sushi-muted mb-4",children:"Cierre de Caja"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-4 rounded-lg mb-4",children:[c.jsxs("label",{className:"text-[10px] uppercase text-gray-500 font-bold mb-2 block flex items-center gap-1",children:[c.jsx(OI,{className:"w-3 h-3"})," Cantidad de Pedidos"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("input",{type:"number",value:D,onChange:ie=>oe(ie.target.value),className:"w-full bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-gray-900 dark:text-white outline-none focus:border-sushi-gold text-center",placeholder:"Fudo"}),c.jsx("span",{className:"text-[9px] text-gray-400 block text-center mt-1",children:"Fudo"})]}),c.jsxs("div",{children:[c.jsx("input",{type:"number",value:de,onChange:ie=>z(ie.target.value),className:"w-full bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-gray-900 dark:text-white outline-none focus:border-sushi-gold text-center",placeholder:"P. Ya"}),c.jsx("span",{className:"text-[9px] text-gray-400 block text-center mt-1",children:"PedidosYa"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Efectivo Final (Fsico)"}),c.jsx("input",{type:"number",value:H,onChange:ie=>G(ie.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",placeholder:"$0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Total Transferencias"}),c.jsx("input",{type:"number",value:$,onChange:ie=>V(ie.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",placeholder:"$0.00"})]})]}),c.jsxs("button",{onClick:()=>Z("CLOSE"),disabled:!H||!$,className:"w-full bg-gray-900 dark:bg-white/10 hover:bg-sushi-gold hover:text-sushi-black text-white font-bold py-3 rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(om,{className:"w-4 h-4"})," Cerrar Caja"]})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-6",children:c.jsx(Dr,{className:"w-10 h-10 text-gray-400 dark:text-sushi-muted"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Caja Cerrada"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mb-8 text-sm max-w-xs",children:"Inicia el turno declarando el dinero en efectivo disponible en el cajn."}),c.jsxs("div",{className:"w-full max-w-xs",children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-2 block text-left",children:"Fondo Inicial"}),c.jsx("input",{type:"number",value:R,onChange:ie=>U(ie.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold mb-4 text-center font-mono text-lg",placeholder:"$0.00"}),c.jsxs("button",{onClick:()=>Z("OPEN"),disabled:!R,className:"w-full bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover transition-colors shadow-lg shadow-sushi-gold/20 flex items-center justify-center gap-2",children:[c.jsx(lB,{className:"w-4 h-4"})," Abrir Caja"]})]})]})}),c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(pr,{className:"w-5 h-5 text-sushi-gold"})," Nuevo Movimiento"]}),a?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"flex rounded-lg bg-gray-100 dark:bg-black/20 p-1",children:[c.jsxs("button",{onClick:()=>E("INCOME"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1 transition-colors ${b==="INCOME"?"bg-white dark:bg-sushi-dark shadow text-green-600":"text-gray-500"}`,children:[c.jsx(Nl,{className:"w-3 h-3"})," Ingreso"]}),c.jsxs("button",{onClick:()=>E("EXPENSE"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1 transition-colors ${b==="EXPENSE"?"bg-white dark:bg-sushi-dark shadow text-red-500":"text-gray-500"}`,children:[c.jsx(sb,{className:"w-3 h-3"})," Gasto"]})]}),c.jsxs("div",{className:"flex rounded-lg bg-gray-100 dark:bg-black/20 p-1",children:[c.jsxs("button",{onClick:()=>_("CASH"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1 transition-colors ${k==="CASH"?"bg-white dark:bg-sushi-dark shadow text-gray-900 dark:text-white":"text-gray-500"}`,children:[c.jsx(Hs,{className:"w-3 h-3"})," Efectivo"]}),c.jsxs("button",{onClick:()=>_("TRANSFER"),className:`flex-1 py-1.5 text-xs font-bold rounded-md flex items-center justify-center gap-1 transition-colors ${k==="TRANSFER"?"bg-white dark:bg-sushi-dark shadow text-blue-500":"text-gray-500"}`,children:[c.jsx(hr,{className:"w-3 h-3"})," Transf."]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Categora"}),c.jsxs("select",{value:A,onChange:ie=>C(ie.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm outline-none focus:border-sushi-gold appearance-none",children:[c.jsx("option",{value:"VENTA",children:"Venta"}),c.jsx("option",{value:"INSUMOS",children:"Insumos (Mercadera)"}),c.jsx("option",{value:"PERSONAL",children:"Personal (Sueldos/Adelantos)"}),c.jsx("option",{value:"GASTOS_VARIOS",children:"Gastos Varios"}),c.jsx("option",{value:"RETIRO",children:"Retiro de Caja"}),c.jsx("option",{value:"OTROS",children:"Otros"})]})]}),c.jsxs("div",{className:"flex gap-3 items-end",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Descripcin"}),c.jsx("input",{type:"text",value:P,onChange:ie=>O(ie.target.value),placeholder:"Detalle...",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm outline-none focus:border-sushi-gold"})]}),c.jsxs("div",{className:"w-28",children:[c.jsx("label",{className:"text-[10px] uppercase text-gray-500 mb-1 block",children:"Monto"}),c.jsx("input",{type:"number",value:j,onChange:ie=>I(ie.target.value),placeholder:"$",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-2 text-sm outline-none focus:border-sushi-gold"})]}),c.jsx("button",{onClick:()=>Z("TRANSACTION"),disabled:!j||!P,className:"bg-sushi-gold text-sushi-black p-2 rounded-lg hover:bg-sushi-goldhover disabled:opacity-50 shadow-sm",children:c.jsx(pr,{className:"w-5 h-5"})})]})]}):c.jsx("p",{className:"text-sm text-gray-400 dark:text-sushi-muted italic",children:"Debes abrir la caja para registrar movimientos."})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 rounded-xl p-6 shadow-sm flex-1",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Movimientos del Turno"}),c.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:a&&a.transactions.length>0?a.transactions.map(ie=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-100 dark:border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${ie.method==="CASH"?"bg-gray-200 dark:bg-white/10 text-gray-600 dark:text-gray-300":"bg-blue-100 dark:bg-blue-500/10 text-blue-500"}`,children:ie.method==="CASH"?c.jsx(Hs,{className:"w-4 h-4"}):c.jsx(hr,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[10px] font-bold uppercase bg-gray-200 dark:bg-white/10 px-1.5 rounded text-gray-600 dark:text-sushi-muted",children:ie.category}),c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-[120px]",children:ie.description})]}),c.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted",children:[ie.time,"  ",ie.createdBy]})]})]}),c.jsxs("span",{className:`font-mono font-bold ${ie.type==="INCOME"?"text-green-500":"text-red-500"}`,children:[ie.type==="INCOME"?"+":"-",q(ie.amount)]})]},ie.id)):c.jsx("p",{className:"text-sm text-gray-400 dark:text-sushi-muted italic text-center py-8",children:"Sin movimientos registrados."})})]})]})]}),r==="HISTORY"&&c.jsx("div",{className:"space-y-4",children:e.filter(ie=>ie.status==="CLOSED").length===0?c.jsx("div",{className:"p-12 text-center border border-dashed border-gray-300 dark:border-white/10 rounded-xl",children:c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted",children:"No hay historial de cierres de caja."})}):e.filter(ie=>ie.status==="CLOSED").map(ie=>{const ye=ie.transactions.filter(Q=>Q.type==="INCOME"&&Q.method==="CASH").reduce((Q,ee)=>Q+ee.amount,0),ge=ie.transactions.filter(Q=>Q.type==="EXPENSE"&&Q.method==="CASH").reduce((Q,ee)=>Q+ee.amount,0),Ie=ie.initialAmount+ye-ge,re=(ie.finalCash||0)-Ie,Te=Math.abs(re)<10;return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 dark:border-white/5 pb-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg flex items-center gap-2",children:new Date(ie.date).toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"})}),c.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 dark:text-sushi-muted mt-1",children:[c.jsxs("span",{children:["Abierto: ",ie.openTime," (",ie.openedBy,")"]}),c.jsxs("span",{children:["Cerrado: ",ie.closeTime," (",ie.closedBy,")"]})]})]}),c.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold border ${Te?"bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-500 border-green-200":"bg-red-100 dark:bg-red-500/10 text-red-600 dark:text-red-500 border-red-200"}`,children:Te?"BALANCEADO":`DESCUADRE: ${q(re)}`})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-black/20 rounded-lg",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Inicio"}),c.jsx("p",{className:"font-mono font-bold text-gray-900 dark:text-white",children:q(ie.initialAmount)})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-black/20 rounded-lg",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Movimientos Efec."}),c.jsxs("p",{className:`font-mono font-bold ${ye-ge>=0?"text-green-500":"text-red-500"}`,children:[ye-ge>=0?"+":"",q(ye-ge)]})]}),c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-black/20 rounded-lg",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Efectivo Final"}),c.jsx("p",{className:"font-mono font-bold text-gray-900 dark:text-white",children:q(ie.finalCash||0)})]}),c.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-500/5 rounded-lg",children:[c.jsx("p",{className:"text-xs text-blue-500 uppercase",children:"Total Transf."}),c.jsx("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:q(ie.finalTransfer||0)})]}),c.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-500/5 rounded-lg",children:[c.jsx("p",{className:"text-xs text-purple-500 uppercase",children:"Pedidos"}),c.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-[10px]",children:["Fudo: ",ie.ordersFudo||0," | PY: ",ie.ordersPedidosYa||0]})]})]})]},ie.id)})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-xs rounded-xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Yt,{className:"w-6 h-6"})}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Registro de Horario"}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-sushi-muted mb-4",children:[h==="OPEN"&&"Hora de apertura de caja",h==="CLOSE"&&"Hora de cierre de caja",h==="TRANSACTION"&&"Hora del movimiento"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>fe(!0),className:"w-full py-3 bg-sushi-gold text-sushi-black font-bold rounded-lg hover:bg-sushi-goldhover transition-colors flex items-center justify-center gap-2",children:[c.jsx(fi,{className:"w-4 h-4"})," Ahora Mismo"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-200 dark:border-white/10"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-white dark:bg-sushi-dark px-2 text-gray-400",children:"O manual"})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"time",value:g,onChange:ie=>v(ie.target.value),className:"flex-1 bg-gray-100 dark:bg-black/30 border border-gray-300 dark:border-white/10 rounded-lg px-3 py-2 text-center text-gray-900 dark:text-white focus:border-sushi-gold outline-none [color-scheme:light] dark:[color-scheme:dark]"}),c.jsx("button",{onClick:()=>fe(!1),className:"bg-gray-200 dark:bg-white/10 hover:bg-gray-300 dark:hover:bg-white/20 text-gray-900 dark:text-white px-4 rounded-lg font-bold",children:"OK"})]})]}),c.jsx("button",{onClick:()=>f(!1),className:"mt-4 text-xs text-gray-400 hover:text-gray-900 dark:hover:text-white underline",children:"Cancelar"})]})})]})},Hle=({products:e=[],setProducts:t})=>{const[n,r]=N.useState(""),[i,a]=N.useState(!1),[l,u]=N.useState(null),f={name:"",laborCost:0,materialCost:0,royalties:0,profit:0},[h,m]=N.useState(f),g=A=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(A),v=(e||[]).filter(A=>A.name.toLowerCase().includes(n.toLowerCase())),b=A=>{u(A.id),m({name:A.name,laborCost:A.laborCost,materialCost:A.materialCost,royalties:A.royalties,profit:A.profit}),a(!0)},E=()=>{u(null),m(f),a(!0)},k=A=>{window.confirm("Eliminar producto?")&&t(e.filter(C=>C.id!==A))},_=A=>{A.preventDefault(),t(l?e.map(C=>C.id===l?{...C,id:l,...h}:C):[...e,{id:crypto.randomUUID(),...h}]),a(!1)};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(MI,{className:"w-8 h-8 text-sushi-gold"}),"Catlogo de Productos"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Gestiona costos y precios de tu carta."})]}),c.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[c.jsxs("div",{className:"relative flex-1 md:w-64",children:[c.jsx(yB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"Buscar producto...",className:"w-full bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 rounded-lg py-2 pl-9 pr-4 text-sm focus:border-sushi-gold outline-none"})]}),c.jsxs("button",{onClick:E,className:"bg-sushi-gold text-sushi-black px-4 py-2 rounded-lg font-bold hover:bg-sushi-goldhover transition-colors flex items-center gap-2 shadow-lg shadow-sushi-gold/20",children:[c.jsx(pr,{className:"w-5 h-5"})," Nuevo"]})]})]}),c.jsx("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden shadow-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 border-b border-gray-200 dark:border-white/5 text-[10px] uppercase tracking-wider text-gray-500 dark:text-sushi-muted",children:[c.jsx("th",{className:"p-4",children:"Producto"}),c.jsx("th",{className:"p-4 text-right",children:"Mano de Obra"}),c.jsx("th",{className:"p-4 text-right",children:"Materia Prima"}),c.jsx("th",{className:"p-4 text-right",children:"Ganancia"}),c.jsx("th",{className:"p-4 text-right",children:"Regalas"}),c.jsx("th",{className:"p-4 text-right",children:"Total (Ref)"}),c.jsx("th",{className:"p-4 text-center",children:"Acciones"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5 text-sm",children:[v.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400 dark:text-sushi-muted italic",children:"No hay productos registrados."})}),v.map(A=>{const C=A.laborCost+A.materialCost+A.royalties+A.profit;return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02] transition-colors group",children:[c.jsx("td",{className:"p-4 font-bold text-gray-900 dark:text-white",children:A.name}),c.jsx("td",{className:"p-4 text-right text-blue-600 dark:text-blue-400 font-mono",children:g(A.laborCost)}),c.jsx("td",{className:"p-4 text-right text-gray-600 dark:text-gray-400 font-mono",children:g(A.materialCost)}),c.jsx("td",{className:"p-4 text-right text-green-600 dark:text-green-500 font-mono font-bold",children:g(A.royalties)}),c.jsx("td",{className:"p-4 text-right text-purple-600 dark:text-purple-400 font-mono",children:g(A.profit)}),c.jsx("td",{className:"p-4 text-right text-gray-400 dark:text-gray-600 font-mono italic",children:g(C)}),c.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[c.jsx("button",{onClick:()=>b(A),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-white/10 text-gray-400 hover:text-sushi-gold transition-colors",children:c.jsx(RI,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>k(A.id),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-white/10 text-gray-400 hover:text-red-500 transition-colors",children:c.jsx(En,{className:"w-4 h-4"})})]})]},A.id)})]})]})})}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-lg rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mb-6 border-b border-gray-200 dark:border-white/10 pb-4",children:l?"Editar Producto":"Nuevo Producto"}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 dark:text-sushi-muted mb-1 block",children:"Nombre Producto"}),c.jsx("input",{type:"text",required:!0,value:h.name,onChange:A=>m({...h,name:A.target.value}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",placeholder:"Ej. Combinado Zen"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs uppercase text-blue-600 dark:text-blue-400 mb-1 block font-bold flex items-center gap-1",children:[c.jsx(Zs,{className:"w-3 h-3"})," Mano Obra"]}),c.jsx("input",{type:"number",required:!0,value:h.laborCost,onChange:A=>m({...h,laborCost:parseFloat(A.target.value)||0}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mb-1 block font-bold flex items-center gap-1",children:[c.jsx(Wr,{className:"w-3 h-3"})," Materia Prima"]}),c.jsx("input",{type:"number",required:!0,value:h.materialCost,onChange:A=>m({...h,materialCost:parseFloat(A.target.value)||0}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-gray-500"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs uppercase text-green-600 dark:text-green-500 mb-1 block font-bold flex items-center gap-1",children:[c.jsx(Nl,{className:"w-3 h-3"})," Ganancia"]}),c.jsx("input",{type:"number",required:!0,value:h.royalties,onChange:A=>m({...h,royalties:parseFloat(A.target.value)||0}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-green-500"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs uppercase text-purple-600 dark:text-purple-400 mb-1 block font-bold flex items-center gap-1",children:[c.jsx(Sc,{className:"w-3 h-3"})," Regalas"]}),c.jsx("input",{type:"number",required:!0,value:h.profit,onChange:A=>m({...h,profit:parseFloat(A.target.value)||0}),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-purple-500"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10 font-bold",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover",children:"Guardar"})]})]})]})})]})},Fle=({products:e,setTransactions:t,transactions:n,projections:r,setProjections:i,userName:a,cashShifts:l,partners:u,setPartners:f})=>{const[h,m]=N.useState("CALCULATOR"),[g,v]=N.useState({}),[b,E]=N.useState(""),[k,_]=N.useState(!1),[A,C]=N.useState(""),j=N.useMemo(()=>{if(!l)return{labor:0,material:0};const D=l.find(z=>z.status==="OPEN");if(!D)return{labor:0,material:0};const oe=D.transactions.filter(z=>z.type==="EXPENSE"&&z.category==="PERSONAL").reduce((z,Z)=>z+Z.amount,0),de=D.transactions.filter(z=>z.type==="EXPENSE"&&z.category==="INSUMOS").reduce((z,Z)=>z+Z.amount,0);return{labor:oe,material:de}},[l]),I=(D,oe)=>{const de=parseInt(oe)||0;v(z=>({...z,[D]:de}))},P=()=>v({}),O=N.useMemo(()=>{let D=0,oe=0,de=0,z=0;return Object.entries(g).forEach(([Z,fe])=>{const te=e.find(pe=>pe.id===Z);te&&fe>0&&(D+=te.laborCost*fe,oe+=te.materialCost*fe,de+=te.royalties*fe,z+=te.profit*fe)}),{labor:D,material:oe,royalties:de,profit:z,total:D+oe+de+z}},[g,e]),R=Math.max(0,O.labor-j.labor),U=Math.max(0,O.material-j.material),H=()=>{C(O.total.toString()),_(!0)},G=()=>{if(!t||!n||!a||!i||!r||!u||!f)return;const D=parseFloat(A)||0;D-O.labor-O.material-O.royalties;const oe=D-O.total,de=O.profit+oe,z={id:crypto.randomUUID(),date:new Date().toISOString(),time:new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),amount:D,type:"INCOME",category:"Ventas",description:"Cierre Calculadora (Venta Real)",createdBy:a};t([z,...n]);const Z=u.map(pe=>{const L=de*pe.sharePercentage/100;return{...pe,balance:(pe.balance||0)+L}});f(Z);const fe=Object.entries(g).filter(([pe,L])=>L>0).map(([pe,L])=>{const q=e.find(le=>le.id===pe);return{name:(q==null?void 0:q.name)||"Unknown",qty:L}}),te={id:crypto.randomUUID(),date:new Date().toISOString(),totalSales:O.total,realSales:D,netProfit:O.royalties,royalties:de,itemsSnapshot:fe,createdBy:a};i([te,...r]),_(!1),P()},$=D=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(D),V=e.filter(D=>D.name.toLowerCase().includes(b.toLowerCase()));return c.jsxs("div",{className:"space-y-6 animate-fade-in h-full flex flex-col",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Mk,{className:"w-8 h-8 text-sushi-gold"}),"Calculadora de Rentabilidad"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Proyecta la mano de obra y ganancias segn volumen de venta."})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>m("CALCULATOR"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${h==="CALCULATOR"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Mk,{className:"w-4 h-4"}),"Simulador"]}),c.jsxs("button",{onClick:()=>m("HISTORY"),className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${h==="HISTORY"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(fl,{className:"w-4 h-4"}),"Historial"]})]})]}),h==="CALCULATOR"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-end gap-2 mb-2",children:[c.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm bg-gray-100 dark:bg-white/5 text-gray-500 dark:text-sushi-muted hover:text-red-500 transition-colors",children:[c.jsx(lm,{className:"w-4 h-4"})," Reiniciar"]}),t&&O.total>0&&c.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold bg-green-600 text-white hover:bg-green-700 transition-colors shadow-lg shadow-green-600/20",children:[c.jsx(ab,{className:"w-4 h-4"})," Abrir Ficha / Cerrar Proyeccin"]})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-500/20 rounded-xl relative overflow-hidden group",children:[c.jsxs("p",{className:"text-xs uppercase font-bold text-blue-600 dark:text-blue-400 mb-1 flex items-center gap-1",children:[c.jsx(um,{className:"w-3 h-3"})," Mano de Obra"]}),c.jsx("p",{className:"text-2xl font-mono font-bold text-blue-700 dark:text-blue-300",children:$(R)}),j.labor>0&&c.jsxs("div",{className:"text-[10px] text-blue-500 mt-1 flex items-center gap-1",children:[c.jsx(dl,{className:"w-3 h-3"})," Adelanto Caja: -",$(j.labor)]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl",children:[c.jsxs("p",{className:"text-xs uppercase font-bold text-gray-500 dark:text-gray-400 mb-1 flex items-center gap-1",children:[c.jsx(Wr,{className:"w-3 h-3"})," Costo Mercadera"]}),c.jsx("p",{className:"text-2xl font-mono font-bold text-gray-700 dark:text-white",children:$(U)}),j.material>0&&c.jsxs("div",{className:"text-[10px] text-gray-500 mt-1 flex items-center gap-1",children:[c.jsx(dl,{className:"w-3 h-3"})," Pago Caja: -",$(j.material)]})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-500/20 rounded-xl",children:[c.jsxs("p",{className:"text-xs uppercase font-bold text-green-600 dark:text-green-400 mb-1 flex items-center gap-1",children:[c.jsx(Nl,{className:"w-3 h-3"})," Ganancia Neta"]}),c.jsx("p",{className:"text-2xl font-mono font-bold text-green-700 dark:text-green-300",children:$(O.royalties)})]}),c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-500/20 rounded-xl",children:[c.jsxs("p",{className:"text-xs uppercase font-bold text-purple-600 dark:text-purple-400 mb-1 flex items-center gap-1",children:[c.jsx(Sc,{className:"w-3 h-3"})," Regalas (Socios)"]}),c.jsx("p",{className:"text-2xl font-mono font-bold text-purple-700 dark:text-purple-300",children:$(O.profit)})]}),c.jsxs("div",{className:"p-4 bg-sushi-gold/10 border border-sushi-gold/30 rounded-xl",children:[c.jsxs("p",{className:"text-xs uppercase font-bold text-yellow-700 dark:text-sushi-gold mb-1 flex items-center gap-1",children:[c.jsx(Zs,{className:"w-3 h-3"})," Venta Terica"]}),c.jsx("p",{className:"text-2xl font-mono font-bold text-yellow-800 dark:text-sushi-gold",children:$(O.total)})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden flex flex-col shadow-lg",children:[c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-black/20",children:c.jsx("input",{type:"text",value:b,onChange:D=>E(D.target.value),placeholder:"Buscar producto para agregar a la simulacin...",className:"w-full bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded-lg py-3 px-4 text-sm focus:border-sushi-gold outline-none"})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:V.map(D=>c.jsxs("div",{className:`p-3 rounded-lg border transition-all flex justify-between items-center ${g[D.id]>0?"bg-sushi-gold/5 border-sushi-gold/30":"bg-white dark:bg-white/[0.02] border-gray-100 dark:border-white/5"}`,children:[c.jsxs("div",{className:"flex-1 overflow-hidden mr-2",children:[c.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white truncate",title:D.name,children:D.name}),c.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted",children:["Mano Obra: ",$(D.laborCost)]})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-black/30 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>I(D.id,String(Math.max(0,(g[D.id]||0)-1))),className:"w-6 h-6 flex items-center justify-center bg-white dark:bg-white/10 rounded text-gray-600 dark:text-white hover:bg-gray-200 dark:hover:bg-white/20",children:"-"}),c.jsx("input",{type:"text",value:g[D.id]||0,onChange:oe=>I(D.id,oe.target.value),className:"w-10 text-center bg-transparent text-sm font-bold text-gray-900 dark:text-white outline-none"}),c.jsx("button",{onClick:()=>I(D.id,String((g[D.id]||0)+1)),className:"w-6 h-6 flex items-center justify-center bg-sushi-gold text-sushi-black rounded hover:bg-sushi-goldhover",children:"+"})]})]},D.id))})})]})]}):c.jsxs("div",{className:"flex-1 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl overflow-hidden shadow-lg p-6",children:[c.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white mb-6 border-b border-gray-200 dark:border-white/5 pb-4",children:"Historial de Cierres"}),!r||r.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-400 dark:text-sushi-muted",children:[c.jsx(fl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"No hay proyecciones guardadas en el historial."})]}):c.jsx("div",{className:"space-y-4",children:r.map(D=>c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 rounded-xl p-4 border border-gray-100 dark:border-white/5 hover:border-sushi-gold/30 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-sushi-gold/10 rounded-full text-yellow-700 dark:text-sushi-gold",children:c.jsx(fi,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Cierre: ",new Date(D.date).toLocaleDateString("es-AR",{day:"numeric",month:"long"})]}),c.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-sushi-muted flex items-center gap-1",children:[c.jsx(Yt,{className:"w-3 h-3"}),new Date(D.date).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),"  Por ",D.createdBy]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 font-bold",children:"Venta Real"}),c.jsx("p",{className:"text-lg font-mono font-bold text-green-600 dark:text-green-500",children:$(D.realSales||D.totalSales)}),D.realSales&&D.realSales!==D.totalSales&&c.jsxs("p",{className:"text-[10px] text-gray-400 line-through",children:["Terico: ",$(D.totalSales)]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm bg-white dark:bg-white/5 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Ganancia Neta"}),c.jsx("span",{className:"font-mono text-green-600 dark:text-green-500 font-bold",children:$(D.netProfit)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:"Regalas"}),c.jsx("span",{className:"font-mono text-purple-600 dark:text-purple-400 font-bold",children:$(D.royalties)})]})]}),c.jsxs("div",{className:"text-xs",children:[c.jsx("p",{className:"text-gray-400 mb-1 uppercase font-bold tracking-wider",children:"Resumen Items"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[D.itemsSnapshot.slice(0,5).map((oe,de)=>c.jsxs("span",{className:"bg-gray-200 dark:bg-white/10 px-2 py-0.5 rounded text-gray-700 dark:text-gray-300",children:[oe.qty,"x ",oe.name]},de)),D.itemsSnapshot.length>5&&c.jsxs("span",{className:"text-gray-400 px-2",children:["+",D.itemsSnapshot.length-5," ms..."]})]})]})]},D.id))})]}),k&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-sm rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(fi,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Confirmar Ingreso"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mb-6 text-center",children:"Se actualizar la billetera global y se distribuirn las regalas a las cuentas de los socios segn porcentaje."}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block font-bold",children:"Venta Total Real (Dinero en Mano)"}),c.jsx("input",{type:"number",value:A,onChange:D=>C(D.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-lg font-mono font-bold text-gray-900 dark:text-white focus:border-sushi-gold outline-none"}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Sugerido (Terico): ",$(O.total)]})]}),c.jsxs("div",{className:"space-y-3 mb-6 text-left bg-gray-50 dark:bg-black/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold",children:"Diferencia"}),c.jsx("span",{className:`font-mono font-bold ${parseFloat(A)-O.total>=0?"text-green-500":"text-red-500"}`,children:$(parseFloat(A)-O.total)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs uppercase text-gray-500 font-bold",children:"Regalas Ajustadas (Total)"}),c.jsx("span",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:$(O.profit+(parseFloat(A)-O.total))})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>_(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{onClick:G,className:"flex-1 bg-sushi-gold text-sushi-black py-3 rounded-lg font-bold hover:bg-sushi-goldhover",children:"Confirmar"})]})]})})]})},Gle=({transactions:e=[],setTransactions:t,pendingDebt:n,userName:r,fixedExpenses:i=[],setFixedExpenses:a,employees:l=[],currentUser:u})=>{const[f,h]=N.useState("MOVEMENTS"),[m,g]=N.useState(!1),[v,b]=N.useState("INCOME"),[E,k]=N.useState(""),[_,A]=N.useState(""),[C,j]=N.useState("Ventas"),[I,P]=N.useState(""),[O,R]=N.useState(!0),[U,H]=N.useState(null),[G,$]=N.useState(!1),[V,D]=N.useState(""),[oe,de]=N.useState(""),[z,Z]=N.useState(""),[fe,te]=N.useState("TRANSFERENCIA"),[pe,L]=N.useState("OTROS"),[q,le]=N.useState(""),[he,ie]=N.useState(""),[ye,ge]=N.useState(""),[Ie,re]=N.useState(null),[Te,Q]=N.useState(0),[ee,Ce]=N.useState(""),[ke,Oe]=N.useState(""),[Le,Ut]=N.useState(null),[jt,$n]=N.useState(null),[yr,vr]=N.useState(!1),[gi,ri]=N.useState(null),Ye=N.useMemo(()=>e.filter(ae=>!ae.deletedAt).reduce((ae,Me)=>Me.type==="INCOME"?ae+Me.amount:ae-Me.amount,0),[e]),Je=N.useMemo(()=>{const ae=[],Me=new Date;return Me.setHours(0,0,0,0),i==null||i.forEach(ze=>{if(!ze.isPaid){const at=new Date(ze.dueDate);at.setHours(0,0,0,0);const an=at.getTime()-Me.getTime(),sn=Math.ceil(an/(1e3*60*60*24));sn<0?ae.push({title:`Vencido: ${ze.name}`,date:ze.dueDate,type:"CRITICAL"}):sn<=3&&ae.push({title:`Vence pronto: ${ze.name}`,date:ze.dueDate,type:"WARNING"})}}),l==null||l.filter(ze=>ze.active).forEach(ze=>{if(ze.nextPaymentDate){const at=new Date(ze.nextPaymentDate);at.setHours(0,0,0,0);const an=at.getTime()-Me.getTime(),sn=Math.ceil(an/(1e3*60*60*24));sn<0?ae.push({title:`Pago atrasado: ${ze.name}`,date:ze.nextPaymentDate,type:"CRITICAL"}):sn<=2&&ae.push({title:`Pago sueldo: ${ze.name}`,date:ze.nextPaymentDate,type:"WARNING"})}}),ae.sort((ze,at)=>new Date(ze.date).getTime()-new Date(at.date).getTime())},[i,l]),At=ae=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(ae),Xt=ae=>{var ze;const Me=(ze=ae.target.files)==null?void 0:ze[0];if(Me){const at=new FileReader;at.onloadend=()=>H(at.result),at.readAsDataURL(Me)}},da=ae=>{ae.preventDefault();const Me=parseFloat(E);if(!Me)return;const ze=O?new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}):I,at={id:crypto.randomUUID(),date:new Date().toISOString(),amount:Me,type:v,category:C,description:_,createdBy:r,time:ze,imageUrl:U||void 0};t([at,...e]),g(!1),k(""),A(""),j("Ventas"),H(null),Ve("SUCCESS")},Xc=(ae,Me)=>{if(Me.stopPropagation(),!(u!=null&&u.permissions.manageFinance)&&!(u!=null&&u.permissions.superAdmin)){alert("No tienes permiso para anular movimientos.");return}window.confirm("Anular este movimiento? Quedar registrado como tachado.")&&(t(ze=>ze.map(at=>at.id===ae?{...at,deletedAt:new Date().toISOString(),deletedBy:r}:at)),Ve("CLICK"))},ns=ae=>{if(ae.preventDefault(),!a)return;const Me={id:crypto.randomUUID(),name:V,amount:parseFloat(oe),paidAmount:0,dueDate:z,isPaid:!1,category:pe,paymentMethod:fe,cbu:q,alias:he,bank:ye};a([...i,Me]),$(!1),D(""),de(""),Z(""),Ve("SUCCESS")},lp=ae=>{re(ae),Q(ae.amount-(ae.paidAmount||0))},up=()=>{if(!a||!i||!Ie||Te<=0)return;const ae=new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),Me={id:crypto.randomUUID(),date:new Date().toISOString(),amount:Te,type:"EXPENSE",category:Ie.category==="MATERIA_PRIMA"?"Proveedores":Ie.category==="INFRAESTRUCTURA"?"Mantenimiento":"Servicios",description:`Pago Gasto Fijo: ${Ie.name}`,createdBy:r,time:ae};t([Me,...e]);const ze=(Ie.paidAmount||0)+Te,at=ze>=Ie.amount;a(i.map(an=>an.id===Ie.id?{...an,paidAmount:ze,isPaid:at,lastPaidDate:at?new Date().toISOString():void 0}:an)),re(null),Ve("SUCCESS")},rs=ae=>{window.confirm("Eliminar este gasto fijo?")&&(a&&a(i.filter(Me=>Me.id!==ae)),Ve("CLICK"))},Rn=async()=>{if(!l||!i)return;vr(!0);const ae=await Mle(Ye,i,l,e);$n(ae),vr(!1),Ve("SUCCESS")},ii=()=>{const ae=parseFloat(ke);if(!ae||!l||!i)return;const Me=l.filter(sn=>sn.active).reduce((sn,yi)=>sn+yi.monthlySalary,0),ze=i.filter(sn=>!sn.isPaid).reduce((sn,yi)=>sn+(yi.amount-(yi.paidAmount||0)),0),at=Me+ze,an=Ye-at;an>=ae*1.2?Ut("SAFE"):an>=ae?Ut("RISKY"):Ut("DANGEROUS"),Ve("CLICK")};return c.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[gi&&c.jsxs("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",onClick:()=>ri(null),children:[c.jsx("button",{className:"absolute top-4 right-4 text-white p-2",children:c.jsx(eo,{className:"w-8 h-8"})}),c.jsx("img",{src:gi,className:"max-w-full max-h-full rounded-lg shadow-2xl",alt:"Comprobante"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Dr,{className:"w-8 h-8 text-sushi-gold"}),"Billetera Global"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Capital real disponible y flujo de caja histrico."})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:[c.jsxs("button",{onClick:()=>{h("MOVEMENTS"),Ve("CLICK")},className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${f==="MOVEMENTS"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Dr,{className:"w-4 h-4"}),"Movimientos"]}),c.jsxs("button",{onClick:()=>{h("FIXED"),Ve("CLICK")},className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${f==="FIXED"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(Fi,{className:"w-4 h-4"}),"Gastos Fijos"]}),c.jsxs("button",{onClick:()=>{h("SIMULATOR"),Ve("CLICK")},className:`flex items-center gap-2 px-4 py-2 rounded-md transition-all text-sm font-medium ${f==="SIMULATOR"?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(kv,{className:"w-4 h-4"}),"Simulador"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"col-span-2 bg-gradient-to-r from-gray-900 to-gray-800 dark:from-black dark:to-sushi-dark rounded-2xl p-8 text-white relative overflow-hidden shadow-2xl border border-gray-700 dark:border-white/10",children:[c.jsx("div",{className:"absolute top-0 right-0 p-32 bg-sushi-gold/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 uppercase text-xs font-bold tracking-widest mb-2",children:"Saldo Total Disponible"}),c.jsx("h3",{className:`text-5xl font-mono font-bold ${Ye<0?"text-red-400":"text-white"}`,children:At(Ye)}),c.jsxs("p",{className:"text-gray-400 text-xs mt-4 flex items-center gap-2",children:[c.jsx(Yt,{className:"w-3 h-3"})," ltima actualizacin: ",new Date().toLocaleTimeString()]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Deuda Pendiente (Nmina + Regalas)"}),c.jsxs("p",{className:"text-xl font-mono text-red-400 font-bold",children:["-",At(n)]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-2xl p-6 shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(xv,{className:"w-4 h-4 text-sushi-gold"})," Notificaciones"]}),Je.length>0&&c.jsx("span",{className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold",children:Je.length})]}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:Je.length===0?c.jsx("p",{className:"text-gray-400 dark:text-sushi-muted text-xs text-center py-8",children:"No hay pagos urgentes pendientes."}):Je.map((ae,Me)=>c.jsxs("div",{className:`p-3 rounded-lg border text-xs flex justify-between items-center ${ae.type==="CRITICAL"?"bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/20":"bg-yellow-50 dark:bg-yellow-500/10 border-yellow-200 dark:border-yellow-500/20"}`,children:[c.jsx("span",{className:`font-bold ${ae.type==="CRITICAL"?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-500"}`,children:ae.title}),c.jsx("span",{className:"text-gray-500 dark:text-sushi-muted",children:new Date(ae.date).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit"})})]},Me))})]})]}),f==="MOVEMENTS"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Acciones Rpidas"}),c.jsxs("button",{onClick:()=>{g(!0),b("INCOME")},disabled:!(u!=null&&u.permissions.manageFinance),className:"w-full bg-sushi-gold text-sushi-black px-6 py-3 rounded-lg font-bold hover:bg-sushi-goldhover shadow-lg shadow-sushi-gold/20 flex items-center justify-center gap-2 mb-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(pr,{className:"w-5 h-5"})," Registrar Movimiento"]})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-16 bg-blue-500/5 rounded-full blur-2xl"}),c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 relative z-10",children:[c.jsx(Va,{className:"w-4 h-4 text-blue-500"})," CFO Virtual"]}),jt?c.jsxs("div",{className:"animate-fade-in relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hU,{className:`w-5 h-5 ${jt.healthStatus==="HEALTHY"?"text-green-500":jt.healthStatus==="WARNING"?"text-yellow-500":"text-red-500"}`}),c.jsxs("span",{className:"font-bold text-lg dark:text-white",children:[jt.healthScore,"/100"]})]}),c.jsx("button",{onClick:()=>$n(null),className:"text-xs text-gray-400 underline",children:"Reiniciar"})]}),c.jsx("div",{className:"h-40 w-full mb-4",children:c.jsx(Zu,{width:"100%",height:"100%",children:c.jsxs(Ax,{children:[c.jsx(Bh,{data:jt.allocations,dataKey:"amount",nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,children:jt.allocations.map((ae,Me)=>c.jsx(Js,{fill:ae.color,stroke:"none"},`cell-${Me}`))}),c.jsx(ec,{formatter:ae=>At(ae),contentStyle:{backgroundColor:"#18181b",borderColor:"#333",color:"#fff",fontSize:"12px"}})]})})}),c.jsx("div",{className:"space-y-2 mb-4",children:jt.allocations.map((ae,Me)=>c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:ae.color}}),c.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:ae.name})]}),c.jsx("span",{className:"font-mono text-gray-900 dark:text-white",children:At(ae.amount)})]},Me))}),c.jsx("div",{className:"space-y-2",children:jt.actionableTips.map((ae,Me)=>c.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 p-2 rounded border border-gray-100 dark:border-white/5 text-[10px] text-gray-600 dark:text-sushi-muted italic",children:['"',ae,'"']},Me))})]}):c.jsxs("div",{className:"text-center py-6 relative z-10",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted mb-4",children:"Analiza tu salud financiera y obtn un presupuesto inteligente basado en tus gastos fijos y nmina."}),c.jsxs("button",{onClick:Rn,disabled:yr,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-xs",children:[yr?c.jsx(lm,{className:"w-3 h-3 animate-spin"}):c.jsx(qU,{className:"w-3 h-3"}),"Generar Presupuesto"]})]})]})]}),c.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm flex flex-col h-[600px]",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Historial de Movimientos"}),c.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:[e.length===0&&c.jsx("p",{className:"text-gray-400 italic text-sm text-center mt-10",children:"Sin movimientos."}),e.map(ae=>{const Me=!!ae.deletedAt;return c.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg border transition-colors group ${Me?"bg-gray-100 dark:bg-white/5 border-transparent opacity-60":"bg-gray-50 dark:bg-black/20 border-gray-100 dark:border-white/5 hover:border-sushi-gold/30"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[Me?c.jsx("div",{className:"p-2 rounded-full bg-gray-200 dark:bg-white/10 text-gray-500",children:c.jsx(wI,{className:"w-4 h-4"})}):c.jsx("div",{className:`p-2 rounded-full ${ae.type==="INCOME"?"bg-green-100 dark:bg-green-900/20 text-green-600":"bg-red-100 dark:bg-red-900/20 text-red-500"}`,children:ae.type==="INCOME"?c.jsx(Nl,{className:"w-4 h-4"}):c.jsx(sb,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsxs("p",{className:`text-sm font-bold flex items-center gap-2 ${Me?"text-gray-500 line-through":"text-gray-900 dark:text-white"}`,children:[ae.category,ae.imageUrl&&!Me&&c.jsx("button",{onClick:()=>ri(ae.imageUrl||null),className:"text-gray-400 hover:text-sushi-gold transition-colors",title:"Ver comprobante",children:c.jsx(nB,{className:"w-3 h-3"})}),Me&&c.jsx("span",{className:"text-[10px] text-red-500 font-normal no-underline",children:"ANULADO"})]}),c.jsxs("p",{className:`text-xs ${Me?"text-gray-400":"text-gray-500 dark:text-sushi-muted"}`,children:[new Date(ae.date).toLocaleDateString()," ",ae.time,"  ",ae.description]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:`font-mono font-bold ${Me?"text-gray-400 line-through":ae.type==="INCOME"?"text-green-600":"text-red-500"}`,children:[ae.type==="INCOME"?"+":"-",At(ae.amount)]}),!Me&&((u==null?void 0:u.permissions.manageFinance)||(u==null?void 0:u.permissions.superAdmin))&&c.jsx("button",{onClick:ze=>Xc(ae.id,ze),className:"block ml-auto text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1",title:"Anular movimiento",children:c.jsx(En,{className:"w-3 h-3"})})]})]},ae.id)})]})]})]}),f==="FIXED"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Gastos Recurrentes (Mensuales)"}),c.jsxs("button",{onClick:()=>$(!0),className:"bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:[c.jsx(pr,{className:"w-4 h-4"})," Agregar Nuevo"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(i==null?void 0:i.length)===0&&c.jsx("p",{className:"text-gray-400 italic text-sm col-span-full text-center py-8",children:"No hay gastos fijos configurados."}),i==null?void 0:i.sort((ae,Me)=>new Date(ae.dueDate).getTime()-new Date(Me.dueDate).getTime()).map(ae=>{const Me=Math.min(100,(ae.paidAmount||0)/ae.amount*100),ze=new Date(ae.dueDate),at=!ae.isPaid&&ze<new Date,an=!ae.isPaid&&!at&&ze.getTime()-new Date().getTime()<4320*60*1e3;return c.jsxs("div",{className:`bg-white dark:bg-sushi-dark border rounded-xl p-5 shadow-sm relative group overflow-hidden ${at?"border-red-500/50":an?"border-orange-500/50":"border-gray-200 dark:border-white/5"}`,children:[ae.isPaid&&c.jsx("div",{className:"absolute top-0 right-0 p-16 bg-green-500/10 rounded-full blur-2xl -mr-8 -mt-8"}),c.jsxs("div",{className:"flex justify-between items-start mb-3 relative z-10",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:ae.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-sushi-muted uppercase",children:ae.category||"Otros"})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"font-mono font-bold text-gray-900 dark:text-white",children:At(ae.amount)}),ae.isPaid?c.jsxs("span",{className:"text-[10px] text-green-500 font-bold flex items-center gap-1",children:[c.jsx(fi,{className:"w-3 h-3"})," PAGADO"]}):c.jsxs("span",{className:`text-[10px] font-bold ${at?"text-red-500":an?"text-orange-500":"text-gray-400"}`,children:["Vence: ",new Date(ae.dueDate).toLocaleDateString()]})]})]}),c.jsx("div",{className:"w-full bg-gray-100 dark:bg-black/30 h-2 rounded-full mb-2 overflow-hidden",children:c.jsx("div",{className:`h-full transition-all ${ae.isPaid?"bg-green-500":"bg-sushi-gold"}`,style:{width:`${Me}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-4",children:[c.jsxs("span",{children:["Pagado: ",At(ae.paidAmount||0)]}),c.jsxs("span",{children:["Resta: ",At(ae.amount-(ae.paidAmount||0))]})]}),c.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[c.jsxs("div",{className:"text-[10px] text-gray-500 dark:text-sushi-muted",children:[ae.paymentMethod==="TRANSFERENCIA"?c.jsx(hr,{className:"w-3 h-3 inline mr-1"}):c.jsx(Hs,{className:"w-3 h-3 inline mr-1"}),ae.paymentMethod]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>rs(ae.id),className:"text-gray-300 hover:text-red-500 p-1",children:c.jsx(En,{className:"w-4 h-4"})}),!ae.isPaid&&c.jsx("button",{onClick:()=>lp(ae),className:"bg-sushi-gold text-sushi-black px-3 py-1 rounded text-xs font-bold hover:bg-sushi-goldhover shadow-sm",children:"Pagar"})]})]})]},ae.id)})]})]}),f==="SIMULATOR"&&c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-8 shadow-sm max-w-2xl mx-auto text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(kv,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-serif text-gray-900 dark:text-white mb-2",children:"Simulador de Inversin"}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mb-8",children:"Comprueba si puedes afrontar una compra o gasto extra sin comprometer la nmina ni los pagos fijos."}),c.jsxs("div",{className:"flex gap-4 mb-8",children:[c.jsx("input",{type:"text",value:ee,onChange:ae=>Ce(ae.target.value),placeholder:"Ej. Aire Acondicionado",className:"flex-1 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold"}),c.jsx("input",{type:"number",value:ke,onChange:ae=>Oe(ae.target.value),placeholder:"Costo ($)",className:"w-32 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold"})]}),c.jsx("button",{onClick:ii,disabled:!ke,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 mb-8",children:"Analizar Viabilidad"}),Le&&c.jsxs("div",{className:`p-6 rounded-xl border animate-fade-in ${Le==="SAFE"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-500/20":Le==="RISKY"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-500/20":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-500/20"}`,children:[Le==="SAFE"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold text-lg mb-2",children:[c.jsx(PB,{className:"w-6 h-6"})," VIABLE"]}),c.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Tienes fondos suficientes. Incluso despus del gasto, mantendrs un margen de seguridad del 20% sobre tus obligaciones."})]}),Le==="RISKY"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-600 dark:text-yellow-400 font-bold text-lg mb-2",children:[c.jsx(Ha,{className:"w-6 h-6"})," ARRIESGADO"]}),c.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Puedes pagarlo, pero quedars con lo justo para cubrir sueldos y gastos fijos. Se recomienda esperar si no es urgente."})]}),Le==="DANGEROUS"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600 dark:text-red-400 font-bold text-lg mb-2",children:[c.jsx(IB,{className:"w-6 h-6"})," NO VIABLE"]}),c.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"No tienes liquidez suficiente. Realizar este gasto comprometera el pago de sueldos o proveedores crticos."})]})]})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-md rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mb-6",children:"Registrar Movimiento"}),c.jsxs("form",{onSubmit:da,className:"space-y-4",children:[c.jsxs("div",{className:"flex bg-gray-100 dark:bg-black/20 p-1 rounded-lg",children:[c.jsx("button",{type:"button",onClick:()=>b("INCOME"),className:`flex-1 py-2 rounded-md text-sm font-bold transition-colors ${v==="INCOME"?"bg-white dark:bg-sushi-dark text-green-600 shadow":"text-gray-500"}`,children:"Ingreso"}),c.jsx("button",{type:"button",onClick:()=>b("EXPENSE"),className:`flex-1 py-2 rounded-md text-sm font-bold transition-colors ${v==="EXPENSE"?"bg-white dark:bg-sushi-dark text-red-500 shadow":"text-gray-500"}`,children:"Gasto"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Monto"}),c.jsx("input",{type:"number",value:E,onChange:ae=>k(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold text-lg font-mono",placeholder:"$0.00",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Categora"}),c.jsxs("select",{value:C,onChange:ae=>j(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",children:[c.jsx("option",{value:"Ventas",children:"Ventas"}),c.jsx("option",{value:"Proveedores",children:"Proveedores"}),c.jsx("option",{value:"Sueldos",children:"Sueldos"}),c.jsx("option",{value:"Mantenimiento",children:"Mantenimiento"}),c.jsx("option",{value:"Servicios",children:"Servicios (Luz/Gas)"}),c.jsx("option",{value:"Marketing",children:"Marketing"}),c.jsx("option",{value:"Retiros",children:"Retiros Socios"}),c.jsx("option",{value:"Otros",children:"Otros"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Descripcin"}),c.jsx("input",{type:"text",value:_,onChange:ae=>A(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",placeholder:"Detalle del movimiento..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Comprobante (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("label",{className:"flex-1 cursor-pointer bg-gray-50 dark:bg-black/20 border border-dashed border-gray-300 dark:border-white/10 rounded-lg p-3 flex items-center justify-center gap-2 text-gray-500 hover:border-sushi-gold transition-colors",children:[c.jsx(SI,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs",children:U?"Imagen Cargada":"Tomar/Subir Foto"}),c.jsx("input",{type:"file",accept:"image/*",onChange:Xt,className:"hidden"})]}),U&&c.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-200",children:c.jsx("img",{src:U,className:"w-full h-full object-cover"})})]})]}),c.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-black/20 p-3 rounded-lg",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:O,onChange:()=>R(!O),className:"accent-sushi-gold w-4 h-4"}),"Hora Actual"]}),!O&&c.jsx("input",{type:"time",value:I,onChange:ae=>P(ae.target.value),className:"bg-white dark:bg-black/30 border border-gray-200 dark:border-white/10 rounded px-2 py-1 text-sm outline-none"})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover",children:"Guardar"})]})]})]})}),G&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-md rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mb-6",children:"Nuevo Gasto Fijo"}),c.jsxs("form",{onSubmit:ns,className:"space-y-4",children:[c.jsx("input",{type:"text",value:V,onChange:ae=>D(ae.target.value),placeholder:"Nombre (Ej. Alquiler)",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold",required:!0}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("input",{type:"number",value:oe,onChange:ae=>de(ae.target.value),placeholder:"Monto ($)",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold",required:!0}),c.jsx("input",{type:"date",value:z,onChange:ae=>Z(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold [color-scheme:light] dark:[color-scheme:dark]",required:!0})]}),c.jsxs("select",{value:pe,onChange:ae=>L(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none focus:border-sushi-gold",children:[c.jsx("option",{value:"INFRAESTRUCTURA",children:"Infraestructura / Mantenimiento"}),c.jsx("option",{value:"MATERIA_PRIMA",children:"Materia Prima / Insumos"}),c.jsx("option",{value:"SUELDOS",children:"Sueldos / RRHH"}),c.jsx("option",{value:"OTROS",children:"Otros Servicios"})]}),c.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-white/5",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 mb-2 font-bold",children:"Datos de Pago"}),c.jsxs("select",{value:fe,onChange:ae=>te(ae.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 mb-3 outline-none",children:[c.jsx("option",{value:"TRANSFERENCIA",children:"Transferencia Bancaria"}),c.jsx("option",{value:"EFECTIVO",children:"Efectivo"})]}),fe==="TRANSFERENCIA"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"text",value:ye,onChange:ae=>ge(ae.target.value),placeholder:"Banco",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none"}),c.jsx("input",{type:"text",value:q,onChange:ae=>le(ae.target.value),placeholder:"CBU / CVU",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none"}),c.jsx("input",{type:"text",value:he,onChange:ae=>ie(ae.target.value),placeholder:"Alias",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 outline-none"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>$(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover",children:"Crear Gasto"})]})]})]})}),Ie&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-sm rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-2xl",children:"$"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Abonar Gasto Fijo"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mt-1",children:Ie.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-4 rounded-xl border border-gray-200 dark:border-white/5 mb-6 text-center",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Monto a Pagar"}),c.jsx("input",{type:"number",value:Te,onChange:ae=>Q(Number(ae.target.value)),className:"text-3xl font-mono font-bold text-gray-900 dark:text-white bg-transparent text-center w-full outline-none border-b border-gray-300 dark:border-white/10 focus:border-sushi-gold"}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-2",children:["Restante: ",At(Ie.amount-(Ie.paidAmount||0))]})]}),Ie.paymentMethod==="TRANSFERENCIA"&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/10 p-3 rounded-lg mb-6 text-xs text-blue-800 dark:text-blue-300",children:[c.jsx("p",{className:"font-bold mb-1",children:"Datos Bancarios:"}),c.jsxs("p",{children:["CBU: ",Ie.cbu||"No registrado"]}),c.jsxs("p",{children:["Alias: ",Ie.alias||"No registrado"]}),c.jsxs("p",{children:["Banco: ",Ie.bank||"No registrado"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{onClick:up,disabled:Te<=0,className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover shadow-lg shadow-sushi-gold/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar"})]})]})})]})},Vle=({partners:e,setPartners:t,royaltyPool:n,setTransactions:r,transactions:i,userName:a})=>{const[l,u]=N.useState(!1),[f,h]=N.useState(null),[m,g]=N.useState(!1),[v,b]=N.useState(null),[E,k]=N.useState(!1),[_,A]=N.useState(0),[C,j]=N.useState(null),[I,P]=N.useState("TRANSFERENCIA"),[O,R]=N.useState(""),[U,H]=N.useState("25"),[G,$]=N.useState(""),[V,D]=N.useState(""),oe=q=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(q),de=q=>{q?(h(q.id),R(q.name),H(q.sharePercentage.toString()),$(q.cbu||""),D(q.bank||"")):(h(null),R(""),H("25"),$(""),D("")),u(!0)},z=q=>{var ie;q.preventDefault();const le=parseFloat(U)||0,he={id:f||crypto.randomUUID(),name:O,sharePercentage:le,balance:f&&((ie=e.find(ye=>ye.id===f))==null?void 0:ie.balance)||0,cbu:G,bank:V};t(f?e.map(ye=>ye.id===f?he:ye):[...e,he]),u(!1)},Z=(q,le)=>{le.stopPropagation(),window.confirm("Eliminar socio?")&&t(e.filter(he=>he.id!==q))},fe=q=>{j(q),A(q.balance||0),P("TRANSFERENCIA"),k(!0)},te=()=>{if(!C||_<=0)return;const q={id:crypto.randomUUID(),date:new Date().toISOString(),time:new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"}),amount:_,type:"EXPENSE",category:"Regalas",description:`Pago regalas a ${C.name}`,createdBy:a,method:I};r(le=>[q,...le]),t(e.map(le=>le.id===C.id?{...le,balance:Math.max(0,(le.balance||0)-_)}:le)),k(!1),j(null)},pe=q=>{b(q),g(!0)},L=q=>i.filter(le=>le.category==="Regalas"&&le.type==="EXPENSE"&&le.description.toLowerCase().includes(q.toLowerCase()));return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Sc,{className:"w-8 h-8 text-sushi-gold"}),"Gestin de Regalas"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Distribucin de dividendos y gestin de socios."})]}),c.jsxs("button",{onClick:()=>de(),className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 px-4 py-2 rounded-lg font-bold hover:border-sushi-gold transition-colors flex items-center gap-2",children:[c.jsx(pr,{className:"w-5 h-5"})," Nuevo Socio"]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-indigo-900 p-8 rounded-2xl shadow-xl border border-purple-500/30 text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"uppercase tracking-widest text-xs font-bold text-purple-200 mb-2",children:"Pozo Acumulado a Distribuir"}),c.jsx("h3",{className:"text-5xl font-mono font-bold",children:oe(n)}),c.jsx("p",{className:"text-xs text-purple-300 mt-4 opacity-80",children:"Suma total de los saldos pendientes de los socios."})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(q=>{const le=q.balance||0;return c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/10 rounded-xl p-6 shadow-sm hover:border-sushi-gold/30 transition-all group relative cursor-pointer",onClick:()=>pe(q),children:[c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:[c.jsx("button",{onClick:he=>{he.stopPropagation(),de(q)},className:"text-gray-400 hover:text-sushi-gold p-1",children:c.jsx(iB,{className:"w-4 h-4"})}),c.jsx("button",{onClick:he=>Z(q.id,he),className:"text-gray-400 hover:text-red-500 p-1",children:c.jsx(En,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-white/5 flex items-center justify-center font-bold text-lg text-gray-700 dark:text-white border border-gray-200 dark:border-white/10",children:q.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:q.name}),c.jsxs("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-300 px-2 py-0.5 rounded font-bold",children:[q.sharePercentage,"% Part."]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 rounded-lg p-3 text-xs space-y-1 mb-6 text-gray-500 dark:text-sushi-muted",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-bold",children:"Banco:"})," ",q.bank||"-"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-bold",children:"CBU:"})," ",q.cbu||"-"]})]}),c.jsxs("div",{className:"flex justify-between items-center border-t border-gray-100 dark:border-white/5 pt-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold",children:"Saldo Pendiente"}),c.jsx("p",{className:"text-xl font-mono font-bold text-purple-500 dark:text-purple-400",children:oe(le)})]}),le>0?c.jsxs("button",{onClick:he=>{he.stopPropagation(),fe(q)},className:"bg-sushi-gold text-sushi-black px-4 py-2 rounded-lg font-bold text-xs hover:bg-sushi-goldhover transition-colors flex items-center gap-1 z-20 relative",children:["Abonar ",c.jsx(dl,{className:"w-3 h-3"})]}):c.jsxs("span",{className:"text-xs font-bold text-green-500 bg-green-100 dark:bg-green-500/10 px-2 py-1 rounded flex items-center gap-1",children:[c.jsx(Xr,{className:"w-3 h-3"})," Al da"]})]})]},q.id)}),c.jsxs("button",{onClick:()=>de(),className:"bg-gray-50 dark:bg-white/[0.02] border border-dashed border-gray-300 dark:border-white/10 rounded-xl p-6 flex flex-col items-center justify-center gap-2 text-gray-400 dark:text-sushi-muted hover:border-sushi-gold hover:text-sushi-gold transition-colors min-h-[250px]",children:[c.jsx(pr,{className:"w-8 h-8"}),c.jsx("span",{children:"Agregar Socio"})]})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-md rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsx("h3",{className:"text-xl font-serif text-gray-900 dark:text-white mb-6",children:"Datos del Socio"}),c.jsxs("form",{onSubmit:z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:O,onChange:q=>R(q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Participacin (%)"}),c.jsx("input",{type:"number",value:U,onChange:q=>H(q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"Banco"}),c.jsx("input",{type:"text",value:V,onChange:q=>D(q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-1 block",children:"CBU / Alias"}),c.jsx("input",{type:"text",value:G,onChange:q=>$(q.target.value),className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg p-3 text-gray-900 dark:text-white outline-none focus:border-sushi-gold"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10 font-bold",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover",children:"Guardar"})]})]})]})}),E&&C&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-sm rounded-2xl p-6 border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-sushi-gold text-sushi-black rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-2xl",children:"$"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Abonar Regalas"}),c.jsxs("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mt-1",children:["Socio: ",c.jsx("span",{className:"text-sushi-gold font-bold",children:C.name})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-4 rounded-xl border border-gray-200 dark:border-white/5 mb-6 text-center",children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 mb-1",children:"Monto a Pagar"}),c.jsx("input",{type:"number",value:_,onChange:q=>A(Number(q.target.value)),className:"text-3xl font-mono font-bold text-gray-900 dark:text-white bg-transparent text-center w-full outline-none border-b border-gray-300 dark:border-white/10 focus:border-sushi-gold"}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-2",children:["Saldo disponible: ",oe(C.balance||0)]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"text-xs uppercase text-gray-500 mb-2 block font-bold",children:"Mtodo de Pago"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>P("TRANSFERENCIA"),className:`flex-1 py-3 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all ${I==="TRANSFERENCIA"?"bg-blue-50 dark:bg-blue-500/10 border-blue-500 text-blue-600 dark:text-blue-400":"bg-white dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-500"}`,children:[c.jsx(hr,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:"Transferencia"})]}),c.jsxs("button",{onClick:()=>P("EFECTIVO"),className:`flex-1 py-3 rounded-lg border flex flex-col items-center justify-center gap-1 transition-all ${I==="EFECTIVO"?"bg-green-50 dark:bg-green-500/10 border-green-500 text-green-600 dark:text-green-400":"bg-white dark:bg-white/5 border-gray-200 dark:border-white/10 text-gray-500"}`,children:[c.jsx(Hs,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:"Efectivo"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-gray-100 dark:bg-white/5 py-3 rounded-lg text-gray-600 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-white/10",children:"Cancelar"}),c.jsx("button",{onClick:te,disabled:_<=0||_>(C.balance||0),className:"flex-1 bg-sushi-gold text-sushi-black font-bold py-3 rounded-lg hover:bg-sushi-goldhover shadow-lg shadow-sushi-gold/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Pago"})]})]})}),m&&v&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-2xl rounded-2xl border border-gray-200 dark:border-white/10 shadow-2xl animate-fade-in flex flex-col max-h-[85vh]",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10 flex justify-between items-center bg-gray-50 dark:bg-black/20 rounded-t-2xl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-serif text-gray-900 dark:text-white",children:v.name}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted text-sm",children:"Historial de Pagos y Dividendos"})]}),c.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:c.jsx(eo,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 px-4 py-2 rounded-lg border border-purple-200 dark:border-purple-500/20",children:[c.jsx("p",{className:"text-xs uppercase font-bold",children:"Participacin"}),c.jsxs("p",{className:"text-lg font-mono font-bold",children:[v.sharePercentage,"%"]})]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-sushi-muted px-4 py-2 rounded-lg flex-1 border border-gray-200 dark:border-white/10",children:[c.jsx("p",{className:"text-xs uppercase font-bold",children:"Datos Bancarios"}),c.jsxs("p",{className:"text-sm font-mono",children:[v.bank," - ",v.cbu]})]})]}),c.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(Yt,{className:"w-4 h-4 text-sushi-gold"})," ltimos Pagos"]}),c.jsx("div",{className:"space-y-3",children:L(v.name).length===0?c.jsx("p",{className:"text-center text-gray-400 dark:text-sushi-muted italic py-4 border border-dashed border-gray-200 dark:border-white/10 rounded-lg",children:"No hay registros de pagos para este socio."}):L(v.name).map(q=>c.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-white/[0.02] border border-gray-200 dark:border-white/5 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:q.description}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-sushi-muted",children:[c.jsxs("span",{children:[new Date(q.date).toLocaleDateString()," ",q.time]}),c.jsx("span",{children:""}),c.jsx("span",{className:"uppercase font-bold",children:q.method||"N/A"})]})]}),c.jsxs("p",{className:"font-mono font-bold text-red-500 dark:text-red-400",children:["-",oe(q.amount)]})]},q.id))})]})]})})]})},Kle=({cashShifts:e,walletTransactions:t})=>{const[n,r]=N.useState("WEEK"),i=N.useMemo(()=>{const m=new Date,g=new Date;return n==="WEEK"&&g.setDate(m.getDate()-7),n==="MONTH"&&g.setMonth(m.getMonth()-1),n==="YEAR"&&g.setFullYear(m.getFullYear()-1),e.filter(v=>new Date(v.date)>=g&&v.status==="CLOSED").sort((v,b)=>new Date(v.date).getTime()-new Date(b.date).getTime())},[e,n]),a=N.useMemo(()=>{let m=0,g=0,v=0,b=0;i.forEach(_=>{m+=_.ordersFudo||0,g+=_.ordersPedidosYa||0,_.transactions.forEach(A=>{A.type==="INCOME"&&(v+=A.amount),A.type==="EXPENSE"&&(b+=A.amount)})});const E=m+g,k=E>0?v/E:0;return{totalFudo:m,totalPy:g,totalOrders:E,totalIncome:v,totalExpenses:b,avgTicket:k}},[i]),l=N.useMemo(()=>i.map(m=>{const g=m.transactions.filter(b=>b.type==="INCOME").reduce((b,E)=>b+E.amount,0),v=m.transactions.filter(b=>b.type==="EXPENSE").reduce((b,E)=>b+E.amount,0);return{name:new Date(m.date).toLocaleDateString("es-AR",{day:"numeric",month:"short"}),ingresos:g,gastos:v}}),[i]),u=N.useMemo(()=>{let m=0,g=0;return i.forEach(v=>{v.transactions.filter(b=>b.type==="INCOME").forEach(b=>{b.method==="CASH"?m+=b.amount:g+=b.amount})}),[{name:"Efectivo",value:m,color:"#22c55e"},{name:"Transferencia",value:g,color:"#3b82f6"}].filter(v=>v.value>0)},[i]),f=N.useMemo(()=>[{name:"Fudo",value:a.totalFudo,color:"#eab308"},{name:"PedidosYa",value:a.totalPy,color:"#ef4444"}].filter(m=>m.value>0),[a]),h=m=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(m);return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(Nl,{className:"w-8 h-8 text-sushi-gold"}),"Estadsticas Comerciales"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Mtricas de facturacin, pedidos y gastos."})]}),c.jsx("div",{className:"flex bg-gray-100 dark:bg-white/5 p-1 rounded-lg",children:["WEEK","MONTH","YEAR"].map(m=>c.jsx("button",{onClick:()=>r(m),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${n===m?"bg-sushi-gold text-sushi-black":"text-gray-500 dark:text-sushi-muted hover:text-white"}`,children:m==="WEEK"?"Semana":m==="MONTH"?"Mes":"Ao"},m))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 font-bold mb-1",children:"Facturado Bruto"}),c.jsx("h3",{className:"text-2xl font-mono font-bold text-gray-900 dark:text-white",children:h(a.totalIncome)})]}),c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-500/20 text-green-600 rounded-lg",children:c.jsx(Zs,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 font-bold mb-1",children:"Gastos Operativos"}),c.jsx("h3",{className:"text-2xl font-mono font-bold text-red-500",children:h(a.totalExpenses)})]}),c.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-500/20 text-red-600 rounded-lg",children:c.jsx(sb,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 font-bold mb-1",children:"Pedidos Totales"}),c.jsx("h3",{className:"text-2xl font-mono font-bold text-blue-500",children:a.totalOrders}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Fudo: ",a.totalFudo," | PY: ",a.totalPy]})]}),c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-500/20 text-blue-600 rounded-lg",children:c.jsx(OI,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-gray-500 font-bold mb-1",children:"Ticket Promedio"}),c.jsx("h3",{className:"text-2xl font-mono font-bold text-purple-500",children:h(a.avgTicket)})]}),c.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-500/20 text-purple-600 rounded-lg",children:c.jsx(Hs,{className:"w-5 h-5"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm h-[350px]",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-6",children:"Flujo de Caja (Diario)"}),c.jsx(Zu,{width:"100%",height:"85%",children:c.jsxs(Bte,{data:l,children:[c.jsx(a1,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),c.jsx(s1,{dataKey:"name",fontSize:12,stroke:"#888",axisLine:!1,tickLine:!1}),c.jsx(o1,{fontSize:12,stroke:"#888",axisLine:!1,tickLine:!1,tickFormatter:m=>`$${m/1e3}k`}),c.jsx(ec,{contentStyle:{backgroundColor:"#18181b",borderColor:"#333",color:"#fff",borderRadius:"8px"},formatter:m=>h(m)}),c.jsx(Ff,{}),c.jsx(wx,{dataKey:"ingresos",name:"Ingresos",fill:"#22c55e",radius:[4,4,0,0]}),c.jsx(wx,{dataKey:"gastos",name:"Gastos",fill:"#ef4444",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[350px]",children:[c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 w-full text-left",children:"Origen Pedidos"}),c.jsx(Zu,{width:"100%",height:"100%",children:c.jsxs(Ax,{children:[c.jsx(Bh,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((m,g)=>c.jsx(Js,{fill:m.color,stroke:"none"},`cell-${g}`))}),c.jsx(ec,{formatter:m=>m,contentStyle:{backgroundColor:"#18181b",borderColor:"#333",color:"#fff"}}),c.jsx(Ff,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark p-6 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 w-full text-left",children:"Medios de Pago"}),c.jsx(Zu,{width:"100%",height:"100%",children:c.jsxs(Ax,{children:[c.jsx(Bh,{data:u,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:u.map((m,g)=>c.jsx(Js,{fill:m.color,stroke:"none"},`cell-${g}`))}),c.jsx(ec,{formatter:m=>h(m),contentStyle:{backgroundColor:"#18181b",borderColor:"#333",color:"#fff"}}),c.jsx(Ff,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})]})]})]})]})},Yle=({roleAccess:e,setRoleAccess:t,customRoles:n,setCustomRoles:r})=>{const[i,a]=N.useState(""),u=[...["EMPRESA","GERENTE","COORDINADOR","JEFE_COCINA","ADMINISTRATIVO","MOSTRADOR","COCINA","REPARTIDOR"],...n],f=[{id:ve.INVENTORY,label:"Inventario",icon:Wr},{id:ve.CASH_REGISTER,label:"Caja / Movimientos",icon:Dr}],h=(v,b)=>{const E=e[v]||[],k=E.includes(b);let _;k?_=E.filter(A=>A!==b):_=[...E,b],t({...e,[v]:_}),Ve("CLICK")},m=v=>{if(v.preventDefault(),!i.trim())return;const b=i.toUpperCase().replace(/\s+/g,"_");if(u.includes(b)){alert("Este rol ya existe.");return}r([...n,b]),a(""),Ve("SUCCESS")},g=v=>{if(window.confirm(`Eliminar rol personalizado ${v}?`)){r(n.filter(E=>E!==v));const b={...e};delete b[v],t(b),Ve("CLICK")}};return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-serif text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx(PI,{className:"w-8 h-8 text-sushi-gold"}),"Configuracin del Sistema"]}),c.jsx("p",{className:"text-gray-500 dark:text-sushi-muted mt-2",children:"Personaliza roles, permisos y funciones."})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(hl,{className:"w-6 h-6 text-blue-500"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Permisos de Roles (Miembros)"})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-sushi-muted mb-6",children:"Define qu herramientas operativas pueden ver los empleados segn su rol en el portal de miembros."}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-xs uppercase tracking-wider text-gray-500 dark:text-sushi-muted",children:[c.jsx("th",{className:"p-4 rounded-tl-lg",children:"Rol / Jerarqua"}),f.map(v=>c.jsx("th",{className:"p-4 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx(v.icon,{className:"w-4 h-4"}),v.label]})},v.id))]})}),c.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-white/5",children:u.map(v=>c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/[0.02]",children:[c.jsxs("td",{className:"p-4 font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.includes(v)?c.jsx(Ga,{className:"w-4 h-4 text-sushi-gold"}):c.jsx(hl,{className:"w-4 h-4 text-gray-400"}),v.replace(/_/g," ")]}),f.map(b=>{const E=(e[v]||[]).includes(b.id);return c.jsx("td",{className:"p-4 text-center",children:c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer justify-center",children:[c.jsx("input",{type:"checkbox",checked:E,onChange:()=>h(v,b.id),className:"sr-only peer"}),c.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-white/10 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[calc(50%-16px)] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-sushi-gold peer-checked:after:left-[calc(50%-16px)]"})]})},b.id)})]},v))})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-sushi-dark border border-gray-200 dark:border-white/5 rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(Ga,{className:"w-6 h-6 text-purple-500"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Roles Personalizados"})]}),c.jsx("div",{className:"flex gap-4 mb-6",children:c.jsxs("form",{onSubmit:m,className:"flex-1 flex gap-2",children:[c.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),placeholder:"Nombre del nuevo rol (Ej. Supervisor Limpieza)",className:"flex-1 bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2 outline-none focus:border-sushi-gold"}),c.jsxs("button",{type:"submit",className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-purple-700 transition-colors flex items-center gap-2",children:[c.jsx(pr,{className:"w-4 h-4"})," Crear"]})]})}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.length===0&&c.jsx("p",{className:"text-gray-400 dark:text-sushi-muted text-sm italic",children:"No hay roles personalizados creados."}),n.map(v=>c.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-white/5 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-white/10",children:[c.jsx("span",{className:"font-bold text-gray-700 dark:text-white text-sm",children:v.replace(/_/g," ")}),c.jsx("button",{onClick:()=>g(v),className:"text-gray-400 hover:text-red-500",children:c.jsx(En,{className:"w-3 h-3"})})]},v))]})]})]})},Jle=()=>{const[e,t]=N.useState(!1),[n,r]=N.useState("GUIDE"),[i,a]=N.useState(null),l=[{q:"Qu significan los conos de rango en mi nombre?",a:"Representan tu jerarqua en Sushiblack. Desde la Corona (Empresa) y Escudo (Gerencia), hasta Medallas (Coordinadores) y Sombreros (Cocina). Destcate para subir de rango!"},{q:"Cmo uso el Modo Privacidad?",a:"En tu panel personal, haz clic en el cono del Ojo () arriba a la derecha. Esto ocultar todos los montos de dinero con asteriscos (****), til si ests abriendo la app frente a clientes o proveedores."},{q:"Cmo registro el Inventario correctamente?",a:"Debes realizar dos cargas: 'Apertura' al iniciar el servicio (stock con el que recibes) y 'Cierre' al finalizar. El sistema calcular el consumo automticamente. Si olvidaste hacerlo a tiempo, usa la opcin 'Hora Manual'."},{q:"Qu hago si complet una tarea hace horas?",a:"Al marcar el check-list, selecciona 'Indicar Hora' en lugar de 'Ahora Mismo'. Es vital para que los administradores vean el flujo de trabajo real."},{q:"Cmo funcionan los Feriados?",a:"Si trabajas en un da marcado por administracin como 'Feriado Oficial', el sistema calcular automticamente tu valor hora al doble (2x) en el registro de asistencia."},{q:"Quin puede ver lo que publico en el Foro?",a:"El Foro es visible para todos los miembros y administradores de la empresa. Las reacciones son pblicas. salo para mantenerte informado sobre las novedades."}],u=[{title:"Central Admin",text:"Coordina tareas con otros gerentes. Usa la doble verificacin para asegurar que los trabajos importantes estn 100% listos."},{title:"Caja y Movimientos",text:"Registra cada ingreso o gasto. Recuerda diferenciar siempre entre Efectivo Fsico y Transferencias para que el balance cuadre."},{title:"Inventario Inteligente",text:"Genera reportes de consumo con un clic. Puedes pedirle a la IA que redacte un email formal con el resumen del turno."},{title:"Expedientes",text:"La ficha completa de tu personal. Aqu puedes ver sus strikes, asignarles das laborales y configurar sus datos bancarios."}];return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-sushi-gold text-sushi-black rounded-full shadow-2xl flex items-center justify-center hover:bg-sushi-goldhover hover:scale-110 transition-all z-50 group",title:"Asistencia Sushiblack",children:c.jsx(QU,{className:"w-8 h-8 group-hover:rotate-12 transition-transform"})}),e&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-sushi-dark w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh] border border-gray-200 dark:border-white/10",children:[c.jsxs("div",{className:"p-6 bg-sushi-gold flex justify-between items-center text-sushi-black",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-serif text-2xl font-bold",children:"Centro de Ayuda"}),c.jsx("p",{className:"text-sm font-medium opacity-80",children:"Tutoriales y Preguntas Frecuentes"})]}),c.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-black/10 rounded-full transition-colors",children:c.jsx(eo,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10",children:[c.jsxs("button",{onClick:()=>r("GUIDE"),className:`flex-1 py-4 text-sm font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-colors ${n==="GUIDE"?"text-sushi-gold border-b-2 border-sushi-gold bg-gray-50 dark:bg-white/5":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(SU,{className:"w-4 h-4"})," Funciones Clave"]}),c.jsxs("button",{onClick:()=>r("FAQ"),className:`flex-1 py-4 text-sm font-bold uppercase tracking-wider flex items-center justify-center gap-2 transition-colors ${n==="FAQ"?"text-sushi-gold border-b-2 border-sushi-gold bg-gray-50 dark:bg-white/5":"text-gray-500 dark:text-sushi-muted hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(J6,{className:"w-4 h-4"})," Preguntas"]})]}),c.jsxs("div",{className:"p-6 overflow-y-auto bg-gray-50 dark:bg-black/20 flex-1",children:[n==="GUIDE"&&c.jsxs("div",{className:"space-y-4",children:[u.map((f,h)=>c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-sushi-gold/20 text-sushi-gold/900 dark:text-sushi-gold flex items-center justify-center font-bold text-sm shrink-0 border border-sushi-gold/30",children:h+1}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:f.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-sushi-muted leading-relaxed",children:f.text})]})]},h)),c.jsx("div",{className:"mt-6 p-4 bg-purple-100 dark:bg-purple-500/10 border border-purple-200 dark:border-purple-500/20 rounded-lg",children:c.jsx("p",{className:"text-xs text-purple-800 dark:text-purple-300 text-center font-medium",children:" Tip Pro: Usa el Modo Privacidad () si ests trabajando en la barra o mostrador."})})]}),n==="FAQ"&&c.jsx("div",{className:"space-y-3",children:l.map((f,h)=>c.jsxs("div",{className:"border border-gray-200 dark:border-white/10 rounded-lg bg-white dark:bg-white/5 overflow-hidden transition-all",children:[c.jsxs("button",{onClick:()=>a(i===h?null:h),className:"w-full flex justify-between items-center p-4 text-left hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm pr-4",children:f.q}),i===h?c.jsx(kI,{className:"w-4 h-4 text-sushi-gold"}):c.jsx(EI,{className:"w-4 h-4 text-sushi-muted"})]}),i===h&&c.jsx("div",{className:"p-4 pt-0 text-sm text-gray-600 dark:text-sushi-muted border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-black/20 leading-relaxed",children:f.a})]},h))})]})]})})]})},Wle=[{targetId:"center-screen",title:"Bienvenido a Sushiblack Manager",content:"Tu centro de comando integral. Aqu gestionars personal, finanzas y operaciones con precisin ejecutiva.",position:"center"},{targetId:"nav-dashboard",title:"Panel General",content:"Tu vista de guila. Monitorea costos en tiempo real, estado de la caja y alertas operativas urgentes.",position:"right"},{targetId:"nav-employees",title:"Gestin de Talento",content:"Registra contratos, asigna roles jerrquicos (Estrellas) y gestiona la seguridad de acceso de tu equipo.",position:"right"},{targetId:"nav-hub",title:"Central Administrativa",content:"El cerebro del equipo. Coordina tareas con otros socios/gerentes, asigna prioridades y verifica el cumplimiento con doble confirmacin.",position:"right"},{targetId:"nav-overtime",title:"Libro de Actas",content:"Registro legal de turnos. El sistema calcula automticamente horas extras y detecta feriados (pago doble).",position:"right"},{targetId:"help-button",title:"Soporte Continuo",content:"Dudas sobre clculos o funciones? Este botn te brinda acceso rpido a la gua y FAQs actualizadas.",position:"left"}],Xle=[{targetId:"center-screen",title:"Tu Portal Personal",content:"Bienvenido a tu espacio de trabajo. Aqu podrs ver tus tareas, consultar tu sueldo y comunicarte con el equipo.",position:"center"},{targetId:"mem-tasks",title:"Check-List Diario",content:"Tu prioridad #1. Marca tus tareas completadas en tiempo real. Si lo haces tarde, puedes ajustar la hora manualmente.",position:"right"},{targetId:"privacy-toggle",title:"Modo Privacidad",content:"Ests en un lugar pblico? Activa esto para ocultar montos de dinero y datos sensibles de la pantalla.",position:"bottom"},{targetId:"mem-forum",title:"Muro Social",content:"Mantente al da. Revisa los anuncios importantes de la gerencia y reacciona a las novedades.",position:"right"},{targetId:"mem-calendar",title:"Tu Historial",content:"Visualiza tus das trabajados. Verde = Pagado, Dorado = Pendiente de cobro. Controla tus ingresos!",position:"right"}],Qle=({onComplete:e,isOpen:t,mode:n})=>{const[r,i]=N.useState(0),[a,l]=N.useState(null),u=n==="ADMIN"?Wle:Xle;if(N.useEffect(()=>{if(!t)return;const g=()=>{const b=u[r];if(!b)return;if(b.position==="center"){l(null);return}const E=document.getElementById(b.targetId);E?l(E.getBoundingClientRect()):(console.warn(`Tour target ${b.targetId} not found, centering fallback.`),l(null))};g(),window.addEventListener("resize",g);const v=setTimeout(g,300);return()=>{window.removeEventListener("resize",g),clearTimeout(v)}},[r,t,u]),!t)return null;const f=u[r];if(!f)return null;const h=r===u.length-1,m=()=>{if(f.position==="center"||!a)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed"};const g=15;let v=0,b=0;const E=window.innerWidth,k=window.innerHeight,_=20,A=320,C=250;switch(f.position){case"right":v=a.top+a.height/2-100,b=a.right+g;break;case"left":v=a.top+a.height/2-100,b=a.left-g-A;break;case"bottom":v=a.bottom+g,b=a.left+a.width/2-A/2;break;case"top":v=a.top-g-C,b=a.left+a.width/2-A/2;break}return b<_&&(b=_),b+A>E-_&&(b=E-A-_),v<_&&(v=_),v+C>k-_&&(v=k-C-_),{top:v,left:b,position:"absolute"}};return c.jsxs("div",{className:"fixed inset-0 z-[1000] pointer-events-auto",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 transition-colors duration-500 backdrop-blur-[2px]"}),a&&c.jsx("div",{className:"absolute transition-all duration-300 ease-out border-2 border-sushi-gold rounded-lg shadow-[0_0_0_9999px_rgba(0,0,0,0.6)] box-content",style:{top:a.top-4,left:a.left-4,width:a.width+8,height:a.height+8}}),c.jsxs("div",{className:"w-80 bg-white dark:bg-sushi-dark rounded-xl shadow-2xl border-l-4 border-l-sushi-gold p-6 flex flex-col gap-4 animate-slide-up transition-all duration-300",style:m(),children:[c.jsxs("div",{className:"flex justify-between items-start border-b border-gray-100 dark:border-white/5 pb-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-[10px] font-bold text-sushi-gold uppercase tracking-wider",children:["Paso ",r+1," de ",u.length]}),c.jsx("h4",{className:"font-serif font-bold text-lg text-gray-900 dark:text-white mt-1 leading-tight",children:f.title})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:c.jsx(eo,{className:"w-4 h-4"})})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-sushi-muted leading-relaxed",children:f.content}),c.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2",children:[c.jsx("div",{className:"flex gap-1.5",children:u.map((g,v)=>c.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${v===r?"w-6 bg-sushi-gold":"w-1.5 bg-gray-300 dark:bg-white/10"}`},v))}),c.jsxs("div",{className:"flex gap-2",children:[r>0&&c.jsx("button",{onClick:()=>i(r-1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/10 text-gray-600 dark:text-white transition-colors",children:c.jsx(tb,{className:"w-4 h-4"})}),c.jsxs("button",{onClick:()=>{h?e():i(r+1)},className:"px-4 py-2 bg-sushi-gold text-sushi-black font-bold rounded-lg text-xs hover:bg-sushi-goldhover transition-colors flex items-center gap-1 shadow-lg shadow-sushi-gold/20",children:[h?"Comenzar":"Siguiente",!h&&c.jsx(nb,{className:"w-3 h-3"}),h&&c.jsx(v6,{className:"w-3 h-3"})]})]})]})]})]})};var Li={},If={},Ux=function(e,t){return Ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ux(e,t)};function y5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ux(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Qh=function(){return Qh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qh.apply(this,arguments)};function zl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function v5(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(a=(i<3?l(a):i>3?l(t,n,a):l(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function x5(e,t){return function(n,r){t(n,r,e)}}function b5(e,t,n,r,i,a){function l(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var u=r.kind,f=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?r.static?e:e.prototype:null,m=t||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),g,v=!1,b=n.length-1;b>=0;b--){var E={};for(var k in r)E[k]=k==="access"?{}:r[k];for(var k in r.access)E.access[k]=r.access[k];E.addInitializer=function(A){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(A||null))};var _=(0,n[b])(u==="accessor"?{get:m.get,set:m.set}:m[f],E);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=l(_.get))&&(m.get=g),(g=l(_.set))&&(m.set=g),(g=l(_.init))&&i.unshift(g)}else(g=l(_))&&(u==="field"?i.unshift(g):m[f]=g)}h&&Object.defineProperty(h,r.name,m),v=!0}function w5(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function S5(e){return typeof e=="symbol"?e:"".concat(e)}function _5(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function E5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ee(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{h(r.next(m))}catch(g){l(g)}}function f(m){try{h(r.throw(m))}catch(g){l(g)}}function h(m){m.done?a(m.value):i(m.value).then(u,f)}h((r=r.apply(e,t||[])).next())})}function k5(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(m){return f([h,m])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var ip=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function N5(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ip(t,e,n)}function Zh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x1(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function A5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x1(arguments[t]));return e}function T5(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],l=0,u=a.length;l<u;l++,i++)r[i]=a[l];return r}function C5(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function _l(e){return this instanceof _l?(this.v=e,this):new _l(e)}function j5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(E){return Promise.resolve(E).then(b,g)}}function u(b,E){r[b]&&(i[b]=function(k){return new Promise(function(_,A){a.push([b,k,_,A])>1||f(b,k)})},E&&(i[b]=E(i[b])))}function f(b,E){try{h(r[b](E))}catch(k){v(a[0][3],k)}}function h(b){b.value instanceof _l?Promise.resolve(b.value.v).then(m,g):v(a[0][2],b)}function m(b){f("next",b)}function g(b){f("throw",b)}function v(b,E){b(E),a.shift(),a.length&&f(a[0][0],a[0][1])}}function I5(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(l){return(n=!n)?{value:_l(e[i](l)),done:!1}:a?a(l):l}:a}}function R5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zh=="function"?Zh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,f){l=e[a](l),i(u,f,l.done,l.value)})}}function i(a,l,u,f){Promise.resolve(f).then(function(h){a({value:h,done:u})},l)}}function P5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Zle=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Bx=function(e){return Bx=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Bx(e)};function O5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Bx(e),r=0;r<n.length;r++)n[r]!=="default"&&ip(t,e,n[r]);return Zle(t,e),t}function M5(e){return e&&e.__esModule?e:{default:e}}function D5(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function L5(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function U5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function B5(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var eue=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function $5(e){function t(a){e.error=e.hasError?new eue(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function q5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,l){return r?t?".jsx":".js":i&&(!a||!l)?n:i+a+"."+l.toLowerCase()+"js"}):e}const tue={__extends:y5,__assign:Qh,__rest:zl,__decorate:v5,__param:x5,__esDecorate:b5,__runInitializers:w5,__propKey:S5,__setFunctionName:_5,__metadata:E5,__awaiter:Ee,__generator:k5,__createBinding:ip,__exportStar:N5,__values:Zh,__read:x1,__spread:A5,__spreadArrays:T5,__spreadArray:C5,__await:_l,__asyncGenerator:j5,__asyncDelegator:I5,__asyncValues:R5,__makeTemplateObject:P5,__importStar:O5,__importDefault:M5,__classPrivateFieldGet:D5,__classPrivateFieldSet:L5,__classPrivateFieldIn:U5,__addDisposableResource:B5,__disposeResources:$5,__rewriteRelativeImportExtension:q5},nue=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:B5,get __assign(){return Qh},__asyncDelegator:I5,__asyncGenerator:j5,__asyncValues:R5,__await:_l,__awaiter:Ee,__classPrivateFieldGet:D5,__classPrivateFieldIn:U5,__classPrivateFieldSet:L5,__createBinding:ip,__decorate:v5,__disposeResources:$5,__esDecorate:b5,__exportStar:N5,__extends:y5,__generator:k5,__importDefault:M5,__importStar:O5,__makeTemplateObject:P5,__metadata:E5,__param:x5,__propKey:S5,__read:x1,__rest:zl,__rewriteRelativeImportExtension:q5,__runInitializers:w5,__setFunctionName:_5,__spread:A5,__spreadArray:C5,__spreadArrays:T5,__values:Zh,default:tue},Symbol.toStringTag,{value:"Module"})),rue=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let ap=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},z5=class extends ap{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},$x=class extends ap{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},qx=class extends ap{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var em;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(em||(em={}));class iue{constructor(t,{headers:n={},customFetch:r,region:i=em.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=rue(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ee(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:u,method:f,body:h,signal:m,timeout:g}=r;let v={},{region:b}=r;b||(b=this.region);const E=new URL(`${this.url}/${n}`);b&&b!=="any"&&(v["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let k;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(v["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(v["Content-Type"]="application/json",k=JSON.stringify(h)):k=h;let _=m;g&&(l=new AbortController,a=setTimeout(()=>l.abort(),g),m?(_=l.signal,m.addEventListener("abort",()=>l.abort())):_=l.signal);const A=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:k,signal:_}).catch(P=>{throw new z5(P)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new $x(A);if(!A.ok)throw new qx(A);let j=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return j==="application/json"?I=yield A.json():j==="application/octet-stream"||j==="application/pdf"?I=yield A.blob():j==="text/event-stream"?I=A:j==="multipart/form-data"?I=yield A.formData():I=yield A.text(),{data:I,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof qx||u instanceof $x?u.context:void 0}}finally{a&&clearTimeout(a)}})}}const aue=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return em},FunctionsClient:iue,FunctionsError:ap,FunctionsFetchError:z5,FunctionsHttpError:qx,FunctionsRelayError:$x},Symbol.toStringTag,{value:"Module"})),H5=wc(aue);var Nn={};const Hl=wc(nue);var Rf={},Pf={},Of={},Mf={},Df={},Lf={},qj;function F5(){if(qj)return Lf;qj=1,Object.defineProperty(Lf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Lf.default=e,Lf}var zj;function G5(){if(zj)return Df;zj=1,Object.defineProperty(Df,"__esModule",{value:!0});const t=Hl.__importDefault(F5());let n=class{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,g,v;let b=null,E=null,k=null,_=f.status,A=f.statusText;if(f.ok){if(this.method!=="HEAD"){const P=await f.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=P:E=JSON.parse(P))}const j=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),I=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");j&&I&&I.length>1&&(k=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(b={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,_=406,A="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const j=await f.text();try{b=JSON.parse(j),Array.isArray(b)&&f.status===404&&(E=[],b=null,_=200,A="OK")}catch{f.status===404&&j===""?(_=204,A="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((v=b==null?void 0:b.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,_=200,A="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:E,count:k,status:_,statusText:A}});return this.shouldThrowOnError||(u=u.catch(f=>{var h,m,g,v,b,E;let k="";const _=f==null?void 0:f.cause;if(_){const A=(h=_==null?void 0:_.message)!==null&&h!==void 0?h:"",C=(m=_==null?void 0:_.code)!==null&&m!==void 0?m:"";k=`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,k+=`

Caused by: ${(v=_==null?void 0:_.name)!==null&&v!==void 0?v:"Error"}: ${A}`,C&&(k+=` (${C})`),_!=null&&_.stack&&(k+=`
${_.stack}`)}else k=(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(E=f==null?void 0:f.name)!==null&&E!==void 0?E:"FetchError"}: ${f==null?void 0:f.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}};return Df.default=n,Df}var Hj;function V5(){if(Hj)return Mf;Hj=1,Object.defineProperty(Mf,"__esModule",{value:!0});const t=Hl.__importDefault(G5());let n=class extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var m;const g=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Mf.default=n,Mf}var Fj;function b1(){if(Fj)return Of;Fj=1,Object.defineProperty(Of,"__esModule",{value:!0});const t=Hl.__importDefault(V5()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}regexMatch(a,l){return this.url.searchParams.append(a,`match.${l}`),this}regexIMatch(a,l){return this.url.searchParams.append(a,`imatch.${l}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}isDistinct(a,l){return this.url.searchParams.append(a,`isdistinct.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${h}fts${m}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}};return Of.default=r,Of}var Gj;function K5(){if(Gj)return Pf;Gj=1,Object.defineProperty(Pf,"__esModule",{value:!0});const t=Hl.__importDefault(b1());let n=class{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Pf.default=n,Pf}var Vj;function sue(){if(Vj)return Rf;Vj=1,Object.defineProperty(Rf,"__esModule",{value:!0});const e=Hl,t=e.__importDefault(K5()),n=e.__importDefault(b1());let r=class Y5{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Y5(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:h}={}){var m;let g;const v=new URL(`${this.url}/rpc/${a}`);let b;u||f?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(g="POST",b=l);const E=new Headers(this.headers);return h&&E.set("Prefer",`count=${h}`),new n.default({method:g,url:v,headers:E,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Rf.default=r,Rf}var Kj;function J5(){if(Kj)return Nn;Kj=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.PostgrestError=Nn.PostgrestBuilder=Nn.PostgrestTransformBuilder=Nn.PostgrestFilterBuilder=Nn.PostgrestQueryBuilder=Nn.PostgrestClient=void 0;const e=Hl,t=e.__importDefault(sue());Nn.PostgrestClient=t.default;const n=e.__importDefault(K5());Nn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(b1());Nn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(V5());Nn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(G5());Nn.PostgrestBuilder=a.default;const l=e.__importDefault(F5());return Nn.PostgrestError=l.default,Nn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Nn}class W5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const oue="2.86.2",lue=`realtime-js/${oue}`,X5="1.0.0",uue="2.0.0",Yj=X5,zx=1e4,cue=1e3,due=100;var js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(js||(js={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var Vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vr||(Vr={}));var Hx;(function(e){e.websocket="websocket"})(Hx||(Hx={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class fue{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+h.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let E=new DataView(b),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,f.length),E.setUint8(k++,u.length),E.setUint8(k++,l.length),E.setUint8(k++,h.length),E.setUint8(k++,g.length),E.setUint8(k++,n),Array.from(f,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(u,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(l,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(h,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(g,A=>E.setUint8(k++,A.charCodeAt(0)));var _=new Uint8Array(b.byteLength+r.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(r),b.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,u,f]=r;return n({join_ref:i,ref:a,topic:l,event:u,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=r.decode(t.slice(f,f+i));f=f+i;const m=r.decode(t.slice(f,f+a));f=f+a;const g=r.decode(t.slice(f,f+l));f=f+l;const v=t.slice(f,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,E={type:this.BROADCAST_EVENT,event:m,payload:b};return l>0&&(E.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Q5{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const Jj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=hue(l,e,t,i),a),{}):{}},hue=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?Z5(a,l):Fx(l)},Z5=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return yue(t,n)}switch(e){case ht.bool:return mue(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return pue(t);case ht.json:case ht.jsonb:return gue(t);case ht.timestamp:return vue(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Fx(t);default:return Fx(t)}},Fx=e=>e,mue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yue=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>Z5(t,u))}return e},vue=e=>typeof e=="string"?e.replace(" ","T"):e,e4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dv{constructor(t,n,r={},i=zx){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gx||(Gx={}));let t4=class Jf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jf.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=Jf.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Jf.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),u={},f={};return this.map(a,(h,m)=>{l[h]||(f[h]=m)}),this.map(l,(h,m)=>{const g=a[h];if(g){const v=m.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),E=m.filter(_=>b.indexOf(_.presence_ref)<0),k=g.filter(_=>v.indexOf(_.presence_ref)<0);E.length>0&&(u[h]=E),k.length>0&&(f[h]=k)}else u[h]=m}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const g=t[u].map(b=>b.presence_ref),v=m.filter(b=>g.indexOf(b.presence_ref)<0);t[u].unshift(...v)}r(u,m,f)}),this.map(l,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=h,i(u,h,f),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Vx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vx||(Vx={}));var ul;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ul||(ul={}));var ui;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));const xue=Ht;let n4=class r4{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dv(this,Vr.join,this.params,this.timeout),this.rejoinTimer=new Q5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new t4(this),this.broadcastEndpointURL=e4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[ul.PRESENCE]&&this.bindings[ul.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(ui.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket.setAuth(),b===void 0){t==null||t(ui.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,A=[];for(let C=0;C<_;C++){const j=k[C],{filter:{event:I,schema:P,table:O,filter:R}}=j,U=b&&b[C];if(U&&U.event===I&&U.schema===P&&U.table===O&&U.filter===R)A.push(Object.assign(Object.assign({},j),{id:U.id}));else{this.unsubscribe(),this.state=Ht.errored,t==null||t(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(ui.SUBSCRIBED);return}}).receive("error",b=>{this.state=Ht.errored,t==null||t(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ht.joined&&t===ul.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new dv(this,Vr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>due){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=Vr;if(r&&[u,f,h,m].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var E,k,_;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((_=(k=b.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var E,k,_,A,C,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const I=b.id,P=(E=b.filter)===null||E===void 0?void 0:E.event;return I&&((k=n.ids)===null||k===void 0?void 0:k.includes(I))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(C=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:k,table:_,commit_timestamp:A,type:C,errors:j}=E;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:A,eventType:C,new:{},old:{},errors:j}),this._getPayloadRecords(E))}b.callback(v,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&r4.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vr.close,{},t)}_onError(t){this._on(Vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jj(t.columns,t.old_record)),n}};const fv=()=>{},Uf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bue=[1e3,2e3,5e3,1e4],wue=1e4,Sue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let _ue=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zx,this.transport=null,this.heartbeatIntervalMs=Uf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fv,this.ref=0,this.reconnectTimer=null,this.vsn=Yj,this.logger=fv,this.conn=null,this.sendBuffer=[],this.serializer=new fue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Hx.websocket}`,this.httpEndpoint=e4(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return Is.Connecting;case js.open:return Is.Open;case js.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new n4(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cue,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Uf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===js.open||this.conn.readyState===js.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Sue],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:lue};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Q5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,u,f,h,m,g,v,b;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:zx,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Uf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:fv,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:Yj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(E=>bue[E-1]||wue),this.vsn){case X5:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((E,k)=>k(JSON.stringify(E))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((E,k)=>k(JSON.parse(E)));break;case uue:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const Eue=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:xue,get REALTIME_LISTEN_TYPES(){return ul},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Vx},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Gx},get REALTIME_SUBSCRIBE_STATES(){return ui},RealtimeChannel:n4,RealtimeClient:_ue,RealtimePresence:t4,WebSocketFactory:W5},Symbol.toStringTag,{value:"Module"})),i4=wc(Eue);class Jc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class a4 extends Jc{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tm extends Jc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const w1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kue=()=>Response,Kx=e=>{if(Array.isArray(e))return e.map(n=>Kx(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Kx(r)}),t},Nue=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Aue=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),hv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Tue=(e,t,n)=>Ee(void 0,void 0,void 0,function*(){const r=yield kue();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,l=(i==null?void 0:i.statusCode)||a+"";t(new a4(hv(i),a,l))}).catch(i=>{t(new tm(hv(i),i))}):t(new tm(hv(e),e))}),Cue=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Nue(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Wc(e,t,n,r,i,a){return Ee(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,Cue(t,r,i,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>Tue(f,u,r))})})}function xc(e,t,n,r){return Ee(this,void 0,void 0,function*(){return Wc(e,"GET",t,n,r)})}function Gr(e,t,n,r,i){return Ee(this,void 0,void 0,function*(){return Wc(e,"POST",t,r,i,n)})}function Yx(e,t,n,r,i){return Ee(this,void 0,void 0,function*(){return Wc(e,"PUT",t,r,i,n)})}function jue(e,t,n,r){return Ee(this,void 0,void 0,function*(){return Wc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function S1(e,t,n,r,i){return Ee(this,void 0,void 0,function*(){return Wc(e,"DELETE",t,r,i,n)})}class Iue{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_t(t))return{data:null,error:t};throw t}})}}var s4;class Rue{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[s4]="BlobDownloadBuilder",this.promise=null}asStream(){return new Iue(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_t(t))return{data:null,error:t};throw t}})}}s4=Symbol.toStringTag;const Pue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oue{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=w1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ee(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Wj),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield(t=="PUT"?Yx:Gr)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ee(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:Wj.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield Yx(this.fetch,u.toString(),f,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(_t(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Jc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Gr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ee(this,void 0,void 0,function*(){try{const i=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(t),f=()=>xc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new Rue(f,this.shouldThrowOnError)}info(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kx(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}exists(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jue(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r)&&r instanceof tm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield S1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ee(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Pue),n),{prefix:t||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Gr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o4="2.86.2",l4={"X-Client-Info":`storage-js/${o4}`};class Mue{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l4),n),this.fetch=w1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ee(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield xc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}createBucket(t){return Ee(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Yx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield S1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var bc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Due(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Lue(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Uue(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const u=Due(e.baseUrl,r,i),f=await Lue(e.auth),h=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...l},body:a?JSON.stringify(a):void 0}),m=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),v=g&&m?JSON.parse(m):m;if(!h.ok){const b=g?v:void 0,E=b==null?void 0:b.error;throw new bc((E==null?void 0:E.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:h.status,headers:h.headers,data:v}}}}function Bf(e){return e.join("")}var Bue=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bf(e.namespace)}`}),!0}catch(t){if(t instanceof bc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof bc&&n.status===409)return;throw n}}};function Vo(e){return e.join("")}var $ue=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof bc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof bc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},que=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Uue({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Bue(this.client,t),this.tableOps=new $ue(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class u4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l4),n),this.fetch=w1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ee(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xc(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield S1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}from(t){if(!Aue(t))throw new Jc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new que({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const _1={"X-Client-Info":`storage-js/${o4}`,"Content-Type":"application/json"};class E1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Wf extends E1{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class c4 extends E1{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Jx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jx||(Jx={}));const sp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zue=()=>Response,d4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hue=e=>Array.from(new Float32Array(e)),Fue=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Xj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gue=(e,t,n)=>Ee(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Wf(Xj(l),i,u))}).catch(()=>{const l=i+"",u=a.statusText||`HTTP ${i} error`;t(new Wf(u,i,l))});else{const l=i+"",u=a.statusText||`HTTP ${i} error`;t(new Wf(u,i,l))}}else t(new c4(Xj(e),e))}),Vue=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(d4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Kue(e,t,n,r,i,a){return Ee(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,Vue(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>Gue(f,u,r))})})}function dr(e,t,n,r,i){return Ee(this,void 0,void 0,function*(){return Kue(e,"POST",t,r,i,n)})}class f4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_1),n),this.fetch=sp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield dr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:(yield dr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wn(r))return{data:null,error:r};throw r}})}}class h4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_1),n),this.fetch=sp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield dr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getVectors(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield dr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield dr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class m4{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_1),n),this.fetch=sp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield dr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}listBuckets(){return Ee(this,arguments,void 0,function*(t={}){try{return{data:yield dr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield dr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wn(n))return{data:null,error:n};throw n}})}}class p4 extends m4{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new g4(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ee(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ee(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ee(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ee(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class g4 extends f4{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ee(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ee(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ee(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ee(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new y4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class y4 extends h4{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ee(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ee(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ee(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ee(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ee(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Yue extends Mue{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Oue(this.url,this.headers,t,this.fetch)}get vectors(){return new p4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new u4(this.url+"/iceberg",this.headers,this.fetch)}}const Jue=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:u4,StorageApiError:a4,StorageClient:Yue,StorageError:Jc,StorageUnknownError:tm,StorageVectorsApiError:Wf,StorageVectorsClient:p4,StorageVectorsError:E1,get StorageVectorsErrorCode(){return Jx},StorageVectorsUnknownError:c4,VectorBucketApi:m4,VectorBucketScope:g4,VectorDataApi:h4,VectorIndexApi:f4,VectorIndexScope:y4,isPlainObject:d4,isStorageError:_t,isStorageVectorsError:Wn,normalizeToFloat32:Hue,resolveFetch:sp,resolveResponse:zue,validateVectorDimension:Fue},Symbol.toStringTag,{value:"Module"})),Wue=wc(Jue);var mv={},Vu={},Qj;function Xue(){return Qj||(Qj=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.version=void 0,Vu.version="2.86.2"),Vu}var Zj;function Que(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Xue();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(mv)),mv}var pv={},eI;function Zue(){return eI||(eI=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,l)=>{const u=(0,e.resolveFetch)(l),f=(0,e.resolveHeadersConstructor)();return async(h,m)=>{var g;const v=(g=await a())!==null&&g!==void 0?g:i;let b=new f(m==null?void 0:m.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),u(h,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(pv)),pv}var Ui={},tI;function ece(){if(tI)return Ui;tI=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.isBrowser=void 0,Ui.uuid=e,Ui.ensureTrailingSlash=t,Ui.applySettingDefaults=r,Ui.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var l=Math.random()*16|0,u=a=="x"?l:l&3|8;return u.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";Ui.isBrowser=n;function r(a,l){var u,f;const{db:h,auth:m,realtime:g,global:v}=a,{db:b,auth:E,realtime:k,global:_}=l,A={db:Object.assign(Object.assign({},b),h),auth:Object.assign(Object.assign({},E),m),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(u=_==null?void 0:_.headers)!==null&&u!==void 0?u:{}),(f=v==null?void 0:v.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return a.accessToken?A.accessToken=a.accessToken:delete A.accessToken,A}function i(a){const l=a==null?void 0:a.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ui}var Ku={};const v4="2.86.2",Xo=30*1e3,Wx=3,gv=Wx*Xo,tce="http://localhost:9999",nce="supabase.auth.token",rce={"X-Client-Info":`gotrue-js/${v4}`},Xx="X-Supabase-Api-Version",x4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ice=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ace=600*1e3;let El=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let b4=class extends El{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function w4(e){return Ae(e)&&e.name==="AuthApiError"}let $a=class extends El{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ca=class extends El{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Yn=class extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function S4(e){return Ae(e)&&e.name==="AuthSessionMissingError"}let As=class extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xu=class extends ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Qu=class extends ca{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _4(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}let Qx=class extends ca{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},nm=class extends ca{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Xf(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}let Zx=class extends ca{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function sce(e){return Ae(e)&&e.name==="AuthWeakPasswordError"}let rm=class extends ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const im="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nI=` 	
\r=`.split(""),oce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nI.length;t+=1)e[nI[t].charCodeAt(0)]=-2;for(let t=0;t<im.length;t+=1)e[im[t].charCodeAt(0)]=t;return e})();function rI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(im[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(im[r]),t.queuedBits-=6}}function E4(e,t,n){const r=oce[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function iI(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{cce(l,r,n)};for(let l=0;l<e.length;l+=1)E4(e.charCodeAt(l),i,a);return t.join("")}function lce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uce(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}lce(r,t)}}function cce(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function cl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)E4(e.charCodeAt(i),n,r);return new Uint8Array(t)}function dce(e){const t=[];return uce(e,n=>t.push(n)),new Uint8Array(t)}function Ms(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>rI(i,n,r)),rI(null,n,r),t.join("")}function fce(e){return Math.round(Date.now()/1e3)+e}function hce(){return Symbol("auth-callback")}const Sn=()=>typeof window<"u"&&typeof document<"u",Ss={tested:!1,writable:!1},k4=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ss.tested)return Ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ss.tested=!0,Ss.writable=!0}catch{Ss.tested=!0,Ss.writable=!1}return Ss.writable};function mce(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const N4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},_s=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bn=async(e,t)=>{await e.removeItem(t)};class op{constructor(){this.promise=new op.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}op.promiseConstructor=Promise;function yv(e){const t=e.split(".");if(t.length!==3)throw new rm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ice.test(t[r]))throw new rm("JWT not in base64url format");return{header:JSON.parse(iI(t[0])),payload:JSON.parse(iI(t[1])),signature:cl(t[2]),raw:{header:t[0],payload:t[1]}}}async function gce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yce(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function vce(e){return("0"+e.toString(16)).substr(-2)}function xce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vce).join("")}async function bce(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wce(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bce(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,n=!1){const r=xce();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,i);const a=await wce(r);return[a,r===a?"plain":"s256"]}const Sce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _ce(e){const t=e.headers.get(Xx);if(!t||!t.match(Sce))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ece(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kce(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!Nce.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ace(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function aI(e){return JSON.parse(JSON.stringify(e))}const Ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tce=[502,503,504];async function sI(e){var t;if(!pce(e))throw new nm(Ts(e),0);if(Tce.includes(e.status))throw new nm(Ts(e),e.status);let n;try{n=await e.json()}catch(a){throw new $a(Ts(a),a)}let r;const i=_ce(e);if(i&&i.getTime()>=x4["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zx(Ts(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Zx(Ts(n),e.status,n.weak_password.reasons);throw new b4(Ts(n),e.status||500,r)}const Cce=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Xx]||(a[Xx]=x4["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await jce(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function jce(e,t,n,r,i,a){const l=Cce(t,r,i,a);let u;try{u=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new nm(Ts(f),0)}if(u.ok||await sI(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await sI(f)}}function Fr(e){var t;let n=null;Pce(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=fce(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function oI(e){const t=Fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ice(e){return{data:e,error:null}}function Rce(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=zl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function lI(e){return e}function Pce(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qf=["global","local","others"];let k1=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=N4(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Qf[0]){if(Qf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qf.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zl(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rce,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lI});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);h[`${_}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ae(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Yo(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qa})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yo(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yo(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qa})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yo(t.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:lI});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(E.split(";")[1].split("=")[1]);h[`${_}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ae(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}};function uI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Cs={debug:!!(globalThis&&k4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let A4=class extends N1{};class Oce extends N1{}async function T4(e,t,n){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const cI={};async function Mce(e,t,n){var r;const i=(r=cI[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new Oce(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await n());return cI[e]=a.catch(async l=>{if(l&&l.isAcquireTimeout)return await i,null;throw l}),await a}function Dce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function C4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Lce(e){return parseInt(e,16)}function Uce(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Bce(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=C4(e.address),E=m?`${m}://${r}`:r,k=e.statement?`${e.statement}
`:"",_=`${E} wants you to sign in with your Ethereum account:
${b}

${k}`;let A=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),f&&(A+=`
Request ID: ${f}`),h){let C=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);C+=`
- ${j}`}A+=C}return`${_}
${A}`}class Ft extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class am extends Ft{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function $ce({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(j4(l)){if(a.rp.id!==l)return new Ft({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qce({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(j4(r)){if(n.rpId!==r)return new Ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zce{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Hce=new zce;function Fce(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=zl(e,["challenge","user","excludeCredentials"]),a=cl(t).buffer,l=Object.assign(Object.assign({},n),{id:cl(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:cl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Gce(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=zl(e,["challenge","allowCredentials"]),i=cl(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:cl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Vce(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ms(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ms(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kce(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ms(new Uint8Array(i.authenticatorData)),clientDataJSON:Ms(new Uint8Array(i.clientDataJSON)),signature:Ms(new Uint8Array(i.signature)),userHandle:i.userHandle?Ms(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dI(){var e,t;return!!(Sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Yce(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new am("Browser returned unexpected credential type",t)}:{data:null,error:new am("Empty credential response",t)}}catch(t){return{data:null,error:$ce({error:t,options:e})}}}async function Jce(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new am("Browser returned unexpected credential type",t)}:{data:null,error:new am("Empty credential response",t)}}catch(t){return{data:null,error:qce({error:t,options:e})}}}const Wce={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xce={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const u=r[a];t(u)?r[a]=sm(u,l):r[a]=sm(l)}else r[a]=l}return r}function Qce(e,t){return sm(Wce,e,t||{})}function Zce(e,t){return sm(Xce,e,t||{})}class ede{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const f=i??Hce.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=Qce(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:g}=await Yce({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=Zce(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:g}=await Jce(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new $a("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new El("rpId is required for WebAuthn authentication")};try{if(!dI())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new $a("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new El("rpId is required for WebAuthn registration")};try{if(!dI())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new $a("Unexpected error in register",l)}}}}Dce();const tde={url:tce,storageKey:nce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function fI(e,t,n){return await n()}const Jo={};let A1=class eb{get jwks(){var t,n;return(n=(t=Jo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Jo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tde),t);if(this.storageKey=a.storageKey,this.instanceID=(n=eb.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,eb.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Sn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new k1({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=N4(a.fetch),this.lock=a.lock||fI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=T4:this.lock=fI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ede(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:k4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=uI(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${v4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Sn()&&(n=mce(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Sn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_4(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?this._returnResult({error:n}):this._returnResult({error:new $a("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fr}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:g,options:v}=t;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await Ko(this.storage,this.storageKey)),a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:E},xform:Fr})}else if("phone"in t){const{phone:m,password:g,options:v}=t;a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Fr})}else throw new Xu("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:oI})}else if("phone"in t){const{phone:a,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:oI})}else throw new Xu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new As;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,u,f,h,m,g,v;let b,E;if("message"in t)b=t.message,E=t.signature;else{const{chain:k,wallet:_,statement:A,options:C}=t;let j;if(Sn())if(typeof _=="object")j=_;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")j=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const I=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),P=await j.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=C4(P[0]);let R=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const H=await j.request({method:"eth_chainId"});R=Lce(H)}const U={domain:I.host,address:O,statement:A,uri:I.href,version:"1",chainId:R,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=C==null?void 0:C.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=Bce(U),E=await j.request({method:"personal_sign",params:[Uce(b),O]})}try{const{data:k,error:_}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fr});if(_)throw _;if(!k||!k.session||!k.user){const A=new As;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(Ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var n,r,i,a,l,u,f,h,m,g,v,b;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:_,wallet:A,statement:C,options:j}=t;let I;if(Sn())if(typeof A=="object")I=A;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))I=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const P=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const O=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let R;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")R=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)R=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)E=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),k=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${P.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((g=(m=j==null?void 0:j.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...j.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const O=await I.signMessage(new TextEncoder().encode(E),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=O}}try{const{data:_,error:A}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Ms(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fr});if(A)throw A;if(!_||!_.session||!_.user){const C=new As;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(Ae(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await _s(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Fr});if(await bn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new As;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fr}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new As;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Ko(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Xu("You must provide either an email or phone number.")}catch(u){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ko(this.storage,this.storageKey));const h=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:Ice});return!((a=h.data)===null||a===void 0)&&a.url&&Sn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Yn;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:u}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Xu("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await _s(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=vv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Ace(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qa}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:qa})})}catch(n){if(Ae(n))return S4(n)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Yn;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Ko(this.storage,this.storageKey));const{data:h,error:m}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:qa});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=yv(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Sn())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qx("No code detected.");const{data:C,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=t;if(!a||!u||!l||!h)throw new Qu("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let v=m+g;f&&(v=parseInt(f));const b=v-m;b*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const E=v-g;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,m);const{data:k,error:_}=await this._getUser(a);if(_)throw _;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(w4(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=hce(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ko(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,f,h,m;const{data:g,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:h,nonce:m}=t,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Fr}),{data:v,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new As}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yce(async i=>(i>0&&await gce(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Xf(a)&&Date.now()+l-r<Xo})}catch(r){if(this._debug(n,"error",r),Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _s(this.storage,this.storageKey);if(i&&this.userStorage){let l=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:vv()}else if(i&&!i.user&&!i.user){const l=await _s(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await bn(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=vv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gv;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Xf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new op;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Ae(a)){const l={data:null,error:a};return Xf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=aI(i);await Qo(this.storage,this.storageKey,a)}else{const i=aI(n);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Wx} ticks`),i<=Wx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof N1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ko(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vce(t.webauthn.credential_response):Kce(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Fce(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Gce(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yv(r.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Yn});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Yn});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Sn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+ace>i)return r;const{data:a,error:l}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});r=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:f}}=yv(r);n!=null&&n.allowExpired||Ece(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const m=kce(i.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,dce(`${u}.${f}`)))throw new rm("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}};A1.nextInstanceID={};const nde=k1,rde=A1,ide=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:nde,AuthApiError:b4,AuthClient:rde,AuthError:El,AuthImplicitGrantRedirectError:Qu,AuthInvalidCredentialsError:Xu,AuthInvalidJwtError:rm,AuthInvalidTokenResponseError:As,AuthPKCEGrantCodeExchangeError:Qx,AuthRetryableFetchError:nm,AuthSessionMissingError:Yn,AuthUnknownError:$a,AuthWeakPasswordError:Zx,CustomAuthError:ca,GoTrueAdminApi:k1,GoTrueClient:A1,NavigatorLockAcquireTimeoutError:A4,SIGN_OUT_SCOPES:Qf,isAuthApiError:w4,isAuthError:Ae,isAuthImplicitGrantRedirectError:_4,isAuthRetryableFetchError:Xf,isAuthSessionMissingError:S4,isAuthWeakPasswordError:sce,lockInternals:Cs,navigatorLock:T4,processLock:Mce},Symbol.toStringTag,{value:"Module"})),I4=wc(ide);var hI;function ade(){if(hI)return Ku;hI=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.SupabaseAuthClient=void 0;const e=I4;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ku.SupabaseAuthClient=t,Ku}var mI;function pI(){if(mI)return If;mI=1,Object.defineProperty(If,"__esModule",{value:!0});const e=H5,t=J5(),n=i4,r=Wue,i=Que(),a=Zue(),l=ece(),u=ade();class f{constructor(m,g,v){var b,E,k;this.supabaseUrl=m,this.supabaseKey=g;const _=(0,l.validateSupabaseUrl)(m);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const A=`sb-${_.hostname.split(".")[0]}-auth-token`,C={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:A}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,l.applySettingDefaults)(v??{},C);this.storageKey=(b=j.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(E=j.global.headers)!==null&&E!==void 0?E:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(I,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=j.auth)!==null&&k!==void 0?k:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(g,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(I=>this.realtime.setAuth(I)).catch(I=>console.warn("Failed to set initial Realtime auth token:",I)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,v==null?void 0:v.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,g,v)}channel(m,g={config:{}}){return this.realtime.channel(m,g)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:b,userStorage:E,storageKey:k,flowType:_,lock:A,debug:C,throwOnError:j},I,P){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),I),storageKey:k,autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:b,userStorage:E,flowType:_,lock:A,debug:C,throwOnError:j,fetch:P,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m==null?void 0:m.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v==null?void 0:v.access_token)})}_handleTokenChanged(m,g,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return If.default=f,If}var gI;function sde(){return gI||(gI=1,(function(e){var t=Li&&Li.__createBinding||(Object.create?(function(m,g,v,b){b===void 0&&(b=v);var E=Object.getOwnPropertyDescriptor(g,v);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,b,E)}):(function(m,g,v,b){b===void 0&&(b=v),m[b]=g[v]})),n=Li&&Li.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,m,v)},r=Li&&Li.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(pI());n(I4,e);var a=J5();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var l=H5;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),n(i4,e);var u=pI();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(u).default}});const f=(m,g,v)=>new i.default(m,g,v);e.createClient=f;function h(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const g=m.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}h()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Li)),Li}var R4=sde();const P4=ei(R4),ode=yI({__proto__:null,default:P4},[R4]),{PostgrestError:rfe,FunctionsHttpError:ife,FunctionsFetchError:afe,FunctionsRelayError:sfe,FunctionsError:ofe,FunctionRegion:lfe,SupabaseClient:ufe,createClient:lde,GoTrueAdminApi:cfe,GoTrueClient:dfe,AuthAdminApi:ffe,AuthClient:hfe,navigatorLock:mfe,NavigatorLockAcquireTimeoutError:pfe,lockInternals:gfe,processLock:yfe,SIGN_OUT_SCOPES:vfe,AuthError:xfe,AuthApiError:bfe,AuthUnknownError:wfe,CustomAuthError:Sfe,AuthSessionMissingError:_fe,AuthInvalidTokenResponseError:Efe,AuthInvalidCredentialsError:kfe,AuthImplicitGrantRedirectError:Nfe,AuthPKCEGrantCodeExchangeError:Afe,AuthRetryableFetchError:Tfe,AuthWeakPasswordError:Cfe,AuthInvalidJwtError:jfe,isAuthError:Ife,isAuthApiError:Rfe,isAuthSessionMissingError:Pfe,isAuthImplicitGrantRedirectError:Ofe,isAuthRetryableFetchError:Mfe,isAuthWeakPasswordError:Dfe,RealtimePresence:Lfe,RealtimeChannel:Ufe,RealtimeClient:Bfe,REALTIME_LISTEN_TYPES:$fe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:qfe,REALTIME_PRESENCE_LISTEN_EVENTS:zfe,REALTIME_SUBSCRIBE_STATES:Hfe,REALTIME_CHANNEL_STATES:Ffe}=P4||ode,ude="https://jcwawljdlehrwomyagoq.supabase.co",cde="sb_publishable_FetBdnjBy1Bhw-OO1eaKXA_gMVBIx4h",Ds=lde(ude,cde);class Yu{static async getAll(t){const{data:n,error:r}=await Ds.from(t).select("*");return r?(console.error(`Error fetching ${t}:`,r),{data:null,error:r}):{data:n==null?void 0:n.map(a=>({id:a.id,...a.data})),error:null}}static async upsert(t,n){const{id:r,...i}=n,{data:a,error:l}=await Ds.from(t).upsert({id:r,data:i,updated_at:new Date().toISOString()}).select();return l&&console.error(`Error upserting into ${t}:`,l),{data:a,error:l}}static async delete(t,n){const{error:r}=await Ds.from(t).delete().eq("id",n);return r&&console.error(`Error deleting from ${t}:`,r),{error:r}}static subscribe(t,n,r){return Ds.channel(`${t}-changes`).on("postgres_changes",{event:"*",schema:"public",table:t},i=>{let l=[...r()];if(i.eventType==="INSERT"||i.eventType==="UPDATE"){const u=i.new,f={id:u.id,...u.data};l=l.filter(h=>h.id!==f.id),l.push(f)}else if(i.eventType==="DELETE"){const u=i.old;l=l.filter(f=>f.id!==u.id)}n(l)}).subscribe()}}function wn(e,t=[]){const[n,r]=N.useState(t),[i,a]=N.useState(!0),[l,u]=N.useState(null),[f,h]=N.useState("IDLE"),m=N.useRef(n);return N.useEffect(()=>{m.current=n},[n]),N.useEffect(()=>{let k=null,_=!0;return(async()=>{var j;a(!0);const C=await Yu.getAll(e);C.error?(_&&u(C.error),(C.error.code==="PGRST204"||(j=C.error.message)!=null&&j.includes("data"))&&console.error("CRITICAL SCHEMA ERROR: Table",e,'does not have "data" column.')):_&&C.data&&C.data.length>0&&r(C.data),_&&a(!1),k=Yu.subscribe(e,I=>{_&&r(I)},()=>m.current)})(),()=>{_=!1,k&&Ds.removeChannel(k)}},[e]),{data:n,loading:i,error:l,syncStatus:f,add:async k=>{h("SYNCING");const _=[...n,k];r(_);const{error:A}=await Yu.upsert(e,k);A?(u(A),h("ERROR")):(h("SAVED"),setTimeout(()=>h("IDLE"),2e3))},update:async k=>{h("SYNCING");const _=n.map(C=>C.id===k.id?k:C);r(_);const{error:A}=await Yu.upsert(e,k);A?(u(A),h("ERROR")):(h("SAVED"),setTimeout(()=>h("IDLE"),2e3))},remove:async k=>{h("SYNCING");const _=n.filter(C=>C.id!==k);r(_);const{error:A}=await Yu.delete(e,k);A?(u(A),h("ERROR")):(h("SAVED"),setTimeout(()=>h("IDLE"),2e3))},set:async k=>{let _;typeof k=="function"?_=k(m.current):_=k,r(_),h("SYNCING"),new Set(m.current.map(P=>P.id));const A=new Set(_.map(P=>P.id)),C=m.current.filter(P=>!A.has(P.id)),j=_.filter(P=>{const O=m.current.find(R=>R.id===P.id);return O?JSON.stringify(P)!==JSON.stringify(O):!0});let I=!1;if(C.length>0){const P=C.map(R=>R.id),{error:O}=await Ds.from(e).delete().in("id",P);O&&(console.error(`Error deleting from ${e}:`,O),u(O),I=!0)}if(j.length>0){const P=j.map(R=>{const{id:U,...H}=R;return{id:U,data:H,updated_at:new Date().toISOString()}}),{error:O}=await Ds.from(e).upsert(P);O&&(console.error(`Error syncing (upsert) to ${e}:`,O),u(O),I=!0)}C.length===0&&j.length===0?h("IDLE"):(h(I?"ERROR":"SAVED"),setTimeout(()=>h("IDLE"),2e3))}}}const dde=()=>{const[e,t]=N.useState(()=>{const Je=localStorage.getItem("sushiblack_theme");return Je?Je==="dark":!0}),[n,r]=N.useState(!1),[i,a]=N.useState(null),[l,u]=N.useState(null),[f,h]=N.useState(ve.DASHBOARD),{data:m,set:g,loading:v}=wn("employees",[]),{data:b,set:E}=wn("records",[]),{data:k,set:_}=wn("absences",[]),{data:A,set:C}=wn("sanctions",[]),{data:j,set:I}=wn("tasks",[]),{data:P,set:O}=wn("checklist_snapshots",[]),{data:R,set:U}=wn("posts",[]),{data:H,set:G}=wn("admin_tasks",[]),[$,V]=N.useState(()=>{const Je=localStorage.getItem("sushiblack_holidays");return Je?JSON.parse(Je):[]});N.useEffect(()=>{localStorage.setItem("sushiblack_holidays",JSON.stringify($))},[$]);const{data:D,set:oe}=wn("products",[]),{data:de,set:z}=wn("inventory_items",[{id:"1",name:"SALMON",unit:"Kg"},{id:"2",name:"QUESOS",unit:"Kg"},{id:"3",name:"PALTAS",unit:"Kg"},{id:"4",name:"ARROZ",unit:"Kg"},{id:"5",name:"ALGAS",unit:"Paq"},{id:"6",name:"LANGO BOLSA",unit:"Un"},{id:"7",name:"LANGO H",unit:"Un"}]),{data:Z,set:fe}=wn("inventory_sessions",[]),{data:te,set:pe}=wn("cash_shifts",[]),{data:L,set:q}=wn("wallet_transactions",[]),{data:le,set:he}=wn("fixed_expenses",[]),{data:ie,set:ye}=wn("partners",[{id:"1",name:"Socio 1",sharePercentage:25,balance:0},{id:"2",name:"Socio 2",sharePercentage:25,balance:0},{id:"3",name:"Socio 3",sharePercentage:25,balance:0},{id:"4",name:"Socio 4",sharePercentage:25,balance:0}]),{data:ge,set:Ie}=wn("projections",[]),[re,Te]=N.useState(()=>{const Je=localStorage.getItem("sushiblack_role_access");return Je?JSON.parse(Je):{JEFE_COCINA:[ve.INVENTORY],COORDINADOR:[ve.INVENTORY,ve.CASH_REGISTER],MOSTRADOR:[ve.CASH_REGISTER],ADMINISTRATIVO:[ve.CASH_REGISTER],GERENTE:[ve.INVENTORY,ve.CASH_REGISTER],EMPRESA:[ve.INVENTORY,ve.CASH_REGISTER]}}),[Q,ee]=N.useState(()=>{const Je=localStorage.getItem("sushiblack_custom_roles");return Je?JSON.parse(Je):[]}),{data:Ce,set:ke}=wn("app_users",[]);N.useEffect(()=>{!v&&Ce.length},[v,Ce]);const[Oe,Le]=N.useState(!1);N.useEffect(()=>{localStorage.setItem("sushiblack_role_access",JSON.stringify(re))},[re]),N.useEffect(()=>{localStorage.setItem("sushiblack_custom_roles",JSON.stringify(Q))},[Q]),N.useEffect(()=>{localStorage.setItem("sushiblack_theme",e?"dark":"light")},[e]);const Ut=Je=>{const At=new Date().toISOString(),Xt={...Je,lastLogin:At},da=Ce.map(ns=>ns.id===Je.id?Xt:ns);ke(da),a(Xt),u(null),h(ve.DASHBOARD),localStorage.getItem("sushiblack_tour_completed")||r(!0)},jt=Je=>{u(Je),a(null),h(ve.MEMBER_HOME),localStorage.getItem(`sushiblack_tour_member_${Je.id}`)||r(!0)},$n=()=>{a(null),u(null)},yr=()=>t(!e),vr=()=>{r(!1),i?localStorage.setItem("sushiblack_tour_completed","true"):l&&localStorage.setItem(`sushiblack_tour_member_${l.id}`,"true")};N.useEffect(()=>{if(!i&&!l)return;const Je=1800*1e3;let At;const Xt=()=>{clearTimeout(At),At=setTimeout(()=>{console.log("Session timed out due to inactivity."),$n(),alert("Tu sesin ha expirado por inactividad (30 min). Por favor, inicia sesin nuevamente.")},Je)};return window.addEventListener("mousemove",Xt),window.addEventListener("keydown",Xt),window.addEventListener("click",Xt),window.addEventListener("scroll",Xt),window.addEventListener("touchstart",Xt),Xt(),()=>{clearTimeout(At),window.removeEventListener("mousemove",Xt),window.removeEventListener("keydown",Xt),window.removeEventListener("click",Xt),window.removeEventListener("scroll",Xt),window.removeEventListener("touchstart",Xt)}},[i,l]);const gi=ie.reduce((Je,At)=>Je+(At.balance||0),0),Ye=m.filter(Je=>Je.active).reduce((Je,At)=>Je+At.monthlySalary,0)+gi;return v&&Ce.length===0&&m.length===0?c.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-sushi-black":"bg-sushi-light"}`,children:c.jsx("div",{className:"text-sushi-gold animate-pulse text-xl font-serif",children:"Cargando Sistema..."})}):c.jsx("div",{className:e?"dark":"light",children:c.jsx("div",{className:"min-h-screen bg-sushi-light dark:bg-sushi-black transition-colors duration-300",id:"center-screen",children:!i&&!l?c.jsx(Ule,{users:Ce,employees:m,onLogin:Ut,onMemberLogin:jt}):c.jsxs("div",{className:"flex h-screen overflow-hidden font-sans text-gray-900 dark:text-sushi-text",children:[c.jsx(GB,{currentView:f,setView:h,currentUser:i,currentMember:l,onLogout:$n,isDarkMode:e,toggleTheme:yr,roleAccess:re}),c.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[c.jsxs("div",{className:"p-8 max-w-7xl mx-auto min-h-full",children:[i&&c.jsxs(c.Fragment,{children:[f===ve.DASHBOARD&&c.jsx(Zte,{employees:m,records:b,tasks:H,inventory:Z,sanctions:A,cashShifts:te,currentUser:i,setView:h}),f===ve.EMPLOYEES&&(i.permissions.viewHr?c.jsx(tne,{employees:m,setEmployees:g,sanctions:A}):c.jsx(lr,{})),f===ve.FILES&&(i.permissions.viewHr?c.jsx(Lle,{employees:m,setEmployees:g,sanctions:A,absences:k,tasks:j,setTasks:I,checklistSnapshots:P}):c.jsx(lr,{})),f===ve.OVERTIME&&(i.permissions.viewOps?c.jsx(nne,{employees:m,records:b,setRecords:E,absences:k,setAbsences:_,holidays:$,setHolidays:V}):c.jsx(lr,{})),f===ve.PAYROLL&&(i.permissions.viewFinance?c.jsx($le,{employees:m,setEmployees:g,transactions:L,setTransactions:q,currentUser:i}):c.jsx(lr,{})),f===ve.SANCTIONS&&(i.permissions.viewOps?c.jsx(Dle,{employees:m,sanctions:A,setSanctions:C,currentUser:i}):c.jsx(lr,{})),f===ve.USERS&&(i.permissions.superAdmin?c.jsx(Ble,{users:Ce,setUsers:ke,currentUser:i}):c.jsx(lr,{})),f===ve.SETTINGS&&(i.permissions.superAdmin?c.jsx(Yle,{roleAccess:re,setRoleAccess:Te,customRoles:Q,setCustomRoles:ee}):c.jsx(lr,{})),f===ve.AI_REPORT&&c.jsx(p5,{employees:m,records:b,sanctions:A}),f===ve.FORUM&&c.jsx(g5,{posts:R,setPosts:U,currentUser:i,currentMember:l}),f===ve.ADMIN_HUB&&c.jsx(qle,{adminTasks:H,setAdminTasks:G,currentUser:i,allUsers:Ce}),f===ve.INVENTORY&&(i.permissions.viewInventory?c.jsx(Bj,{items:de,setItems:z,sessions:Z,setSessions:fe,userName:i.name}):c.jsx(lr,{})),f===ve.CASH_REGISTER&&c.jsx($j,{shifts:te,setShifts:pe,userName:i.name}),f===ve.PRODUCTS&&(i.permissions.viewFinance?c.jsx(Hle,{products:D,setProducts:oe}):c.jsx(lr,{})),f===ve.FINANCE&&(i.permissions.viewFinance?c.jsx(Fle,{products:D,setTransactions:q,transactions:L,projections:ge,setProjections:Ie,userName:i.name,cashShifts:te,partners:ie,setPartners:ye}):c.jsx(lr,{})),f===ve.WALLET&&(i.permissions.viewFinance?c.jsx(Gle,{transactions:L,setTransactions:q,pendingDebt:Ye,userName:i.name,fixedExpenses:le,setFixedExpenses:he,employees:m,currentUser:i}):c.jsx(lr,{})),f===ve.ROYALTIES&&(i.permissions.viewFinance?c.jsx(Vle,{partners:ie,setPartners:ye,royaltyPool:gi,setTransactions:q,transactions:L,userName:i.name}):c.jsx(lr,{})),f===ve.STATISTICS&&(i.permissions.viewFinance?c.jsx(Kle,{cashShifts:te,walletTransactions:L}):c.jsx(lr,{})),f===ve.AI_FOCUS&&c.jsx(zle,{title:"Enfoque IA 2.0",description:"Estamos entrenando modelos predictivos para anticipar la demanda de pedidos y optimizar turnos."})]}),l&&c.jsxs(c.Fragment,{children:[f===ve.MEMBER_HOME&&c.jsx(Uj,{currentView:f,member:l,records:b,absences:k,sanctions:A,tasks:j,setTasks:I,posts:R,setPosts:U,setView:h,checklistSnapshots:P,setChecklistSnapshots:O}),(f===ve.MEMBER_CALENDAR||f===ve.MEMBER_TASKS||f===ve.MEMBER_FILE||f===ve.MEMBER_FORUM)&&c.jsx(Uj,{currentView:f,member:l,records:b,absences:k,sanctions:A,tasks:j,setTasks:I,posts:R,setPosts:U,checklistSnapshots:P,setChecklistSnapshots:O}),f===ve.INVENTORY&&c.jsx(Bj,{items:de,setItems:z,sessions:Z,setSessions:fe,userName:l.name}),f===ve.CASH_REGISTER&&c.jsx($j,{shifts:te,setShifts:pe,userName:l.name})]})]}),i&&c.jsx("div",{id:"help-button",children:c.jsx(Jle,{})}),c.jsx(Qle,{isOpen:n,onComplete:vr,mode:i?"ADMIN":"MEMBER"})]})]})})})},lr=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 dark:text-sushi-muted opacity-50",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsx("p",{className:"mt-4 font-medium",children:"Acceso Denegado"})]}),O4=document.getElementById("root");if(!O4)throw new Error("Could not find root element to mount to");const fde=sU.createRoot(O4);fde.render(c.jsx(vI.StrictMode,{children:c.jsx(dde,{})}));
